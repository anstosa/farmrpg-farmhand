{"version":3,"file":"farmrpg-farmhand.user.js","mappings":"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","sources":["webpack://farmrpg-farmhand/./src/features/autocompleteItems.ts","webpack://farmrpg-farmhand/./src/features/autocompleteUsers.ts","webpack://farmrpg-farmhand/./src/features/banker.ts","webpack://farmrpg-farmhand/./src/features/buddyfarm.ts","webpack://farmrpg-farmhand/./src/features/chatNav.ts","webpack://farmrpg-farmhand/./src/features/cleanupHome.ts","webpack://farmrpg-farmhand/./src/features/collapseItemImage.ts","webpack://farmrpg-farmhand/./src/features/compressChat.ts","webpack://farmrpg-farmhand/./src/features/compressNavigation.ts","webpack://farmrpg-farmhand/./src/features/customNavigation.ts","webpack://farmrpg-farmhand/./src/features/dismissableChatBanners.ts","webpack://farmrpg-farmhand/./src/features/farmhandSettings.ts","webpack://farmrpg-farmhand/./src/features/fishInBarrel.ts","webpack://farmrpg-farmhand/./src/features/highlightSelfInChat.ts","webpack://farmrpg-farmhand/./src/features/linkifyQuickCraft.ts","webpack://farmrpg-farmhand/./src/features/moveUpdateToTop.ts","webpack://farmrpg-farmhand/./src/features/perkManagement.ts","webpack://farmrpg-farmhand/./src/features/quests.ts","webpack://farmrpg-farmhand/./src/features/quickSellSafely.ts","webpack://farmrpg-farmhand/./src/index.ts","webpack://farmrpg-farmhand/./src/utils/autocomplete.ts","webpack://farmrpg-farmhand/./src/utils/buddyfarmApi.ts","webpack://farmrpg-farmhand/./src/utils/confirmation.ts","webpack://farmrpg-farmhand/./src/utils/farmrpgApi.ts","webpack://farmrpg-farmhand/./src/utils/notifications.ts","webpack://farmrpg-farmhand/./src/utils/page.ts","webpack://farmrpg-farmhand/./src/utils/popup.ts","webpack://farmrpg-farmhand/./src/utils/theme.ts","webpack://farmrpg-farmhand/webpack/bootstrap","webpack://farmrpg-farmhand/webpack/before-startup","webpack://farmrpg-farmhand/webpack/startup","webpack://farmrpg-farmhand/webpack/after-startup"],"sourcesContent":["import { Feature, FeatureSetting } from \"./feature\";\nimport { getBasicItems } from \"~/utils/buddyfarmApi\";\nimport { registerAutocomplete } from \"~/utils/autocomplete\";\n\nexport const SETTING_AUTOCOMPLETE_ITEMS: FeatureSetting = {\n  id: \"autocompleteItems\",\n  title: \"Chat: Autocomplete ((items))\",\n  description: \"Auto-complete item names in chat\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const autocompleteItems: Feature = {\n  settings: [SETTING_AUTOCOMPLETE_ITEMS],\n  onInitialize: async (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_AUTOCOMPLETE_ITEMS.id].value) {\n      return;\n    }\n    const items = await getBasicItems();\n    registerAutocomplete({\n      trigger: /\\(\\(([^]+)/,\n      getItems: async () => await items,\n      prefix: \"((\",\n      suffix: \"))\",\n      bail: (text) => (text.match(/(\\(\\(|\\)\\))/g)?.length ?? 0) % 2 === 0,\n    });\n  },\n};\n","import { BasicEntity } from \"~/utils/buddyfarmApi\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { registerAutocomplete } from \"~/utils/autocomplete\";\n\nexport const SETTING_AUTOCOMPLETE_USERS: FeatureSetting = {\n  id: \"autocompleteUsers\",\n  title: \"Chat: Autocomplete @Users:\",\n  description: \"Auto-complete usernames in chat\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const getUsers = (): BasicEntity[] => {\n  const users: Record<string, BasicEntity> = {};\n  const messages = document.querySelectorAll(\".chat-txt\");\n  for (const message of messages) {\n    const image =\n      message.querySelector<HTMLImageElement>(\".chip-media img\")?.src ?? \"\";\n    const username = message.querySelector(\".chip-label a\")?.textContent;\n    if (username && !users[username]) {\n      users[username] = { name: username, image };\n    }\n  }\n  return Object.values(users);\n};\n\nexport const autocompleteUsers: Feature = {\n  settings: [SETTING_AUTOCOMPLETE_USERS],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_AUTOCOMPLETE_USERS.id].value) {\n      return;\n    }\n    registerAutocomplete({\n      trigger: /@([^]+)/,\n      getItems: async () => await getUsers(),\n      prefix: \"@\",\n      suffix: \":\",\n    });\n  },\n};\n","import { depositSilver, withdrawSilver } from \"~/utils/farmrpgApi\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport {\n  getCardByTitle,\n  getCurrentPage,\n  getListByTitle,\n  Page,\n} from \"~/utils/page\";\nimport { showConfirmation } from \"~/utils/confirmation\";\nimport { showPopup } from \"~/utils/popup\";\nimport { TEXT_SUCCESS, TEXT_WARNING } from \"~/utils/theme\";\n\nexport const SETTING_BANKER: FeatureSetting = {\n  id: \"banker\",\n  title: \"Bank: Banker\",\n  description: `\n    * Automatically calculates your target balance (minimum balance required to maximize your daily interest)<br>\n    * Adds an option *Deposit Target Balance* which deposits up to your target balance<br>\n    * Adds an option to *Withdraw Interest* which withdraws any earnings on top of your target balance\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const banker: Feature = {\n  settings: [SETTING_BANKER],\n  onPageLoad: (settings, page) => {\n    // make sure the banker is enabled\n    if (!settings[SETTING_BANKER.id].value) {\n      return;\n    }\n\n    // make sure we are on the bank page\n    if (page !== Page.BANK) {\n      return;\n    }\n\n    // make sure page content has loaded\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    // get parameters\n    const aboutCard = getCardByTitle(\"About the bank\");\n    if (!aboutCard) {\n      console.error(\"About card not found\");\n      return;\n    }\n    const parameters = aboutCard.querySelectorAll(\"strong\");\n    const interestRate =\n      Number(parameters[0].textContent?.replaceAll(\"%\", \"\")) / 100;\n    const maxInterest = Number(parameters[1].textContent?.replaceAll(\",\", \"\"));\n    const balanceCard = aboutCard.nextElementSibling;\n    if (!balanceCard) {\n      console.error(\"balance card not found\");\n      return;\n    }\n    const balanceParameters = balanceCard.querySelectorAll(\"strong\");\n    const balance = Number(\n      balanceParameters[0].textContent\n        ?.replaceAll(\",\", \"\")\n        .replaceAll(\" Silver\", \"\")\n    );\n\n    const formatter = new Intl.NumberFormat();\n\n    // calculate target balance\n    const targetBalance = Math.ceil(maxInterest / interestRate);\n    let targetBalanceDiv = document.querySelector(\".fh-banker-target-balance\");\n    if (!targetBalanceDiv) {\n      targetBalanceDiv = document.createElement(\"div\");\n      targetBalanceDiv.classList.add(\"card-content-inner\");\n      targetBalanceDiv.classList.add(\"fh-banker-target-balance\");\n      targetBalanceDiv.innerHTML = `\n      Target Balance: <strong style=\"color: ${\n        targetBalance === balance ? TEXT_SUCCESS : TEXT_WARNING\n      }\">${formatter.format(targetBalance)} Silver</strong>\n    `;\n      balanceCard.firstElementChild?.append(targetBalanceDiv);\n    }\n\n    const availableInterest = Math.max(0, balance - targetBalance);\n\n    // use title to find the bulk options section\n    const bulkOptionsList = getListByTitle(\"Bulk Options\");\n    if (!bulkOptionsList) {\n      console.error(\"Bulk Options list not found\");\n      return;\n    }\n\n    // deposit target balance button\n    let depositTargetLi = document.querySelector(\".fh-banker-deposit-target\");\n    if (!depositTargetLi) {\n      const missingFromTarget = Math.max(0, targetBalance - balance);\n      depositTargetLi = document.createElement(\"li\");\n      depositTargetLi.innerHTML = `\n      <a\n        href=\"#\"\n        data-view=\".view-main\"\n        class=\"item-link close-panel fh-banker-deposit-target\"\n      >\n        <div class=\"item-content\">\n          <div class=\"item-inner\">\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-arrow-right\"></i>\n              Deposit Target Balance\n            </div>\n            <div class=\"item-after\">${formatter.format(\n              missingFromTarget\n            )} Silver</div>\n          </div>\n        </div>\n      </a>\n    `;\n      depositTargetLi.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        if (missingFromTarget === 0) {\n          return;\n        }\n        showConfirmation(\n          `Deposit ${formatter.format(missingFromTarget)} Silver?`,\n          async () => {\n            await depositSilver(missingFromTarget);\n            await showPopup(\"Success!\", \"You deposited Silver!\");\n            window.location.reload();\n          }\n        );\n      });\n      bulkOptionsList.insertBefore(\n        depositTargetLi,\n        // eslint-disable-next-line unicorn/prefer-at\n        bulkOptionsList.children[bulkOptionsList.children.length - 1]\n      );\n    }\n\n    // withdraw interest button\n    let withdrawInterestLi = document.querySelector(\n      \".fh-banker-withdraw-interest\"\n    );\n    if (!withdrawInterestLi) {\n      withdrawInterestLi = document.createElement(\"li\");\n      withdrawInterestLi.innerHTML = `\n      <a\n        href=\"#\"\n        data-view=\".view-main\"\n        class=\"item-link close-panel fh-banker-withdraw-interest\"\n      >\n        <div class=\"item-content\">\n          <div class=\"item-inner\">\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-arrow-left\"></i>\n              Withdraw Interest\n            </div>\n            <div class=\"item-after\">${formatter.format(\n              availableInterest\n            )} Silver</div>\n          </div>\n        </div>\n      </a>\n    `;\n      withdrawInterestLi.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        if (availableInterest === 0) {\n          return;\n        }\n        showConfirmation(\n          `Withdraw ${formatter.format(availableInterest)} Silver?`,\n          async () => {\n            await withdrawSilver(availableInterest);\n            await showPopup(\"Success!\", \"You withdrew Silver!\");\n            window.location.reload();\n          }\n        );\n      });\n      bulkOptionsList.insertBefore(\n        withdrawInterestLi,\n        // eslint-disable-next-line unicorn/prefer-at\n        bulkOptionsList.children[bulkOptionsList.children.length - 1]\n      );\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport { nameToSlug } from \"~/utils/buddyfarmApi\";\n\nexport const SETTING_BUDDY_FARM: FeatureSetting = {\n  id: \"buddyFarm\",\n  title: \"Item: Buddy's Almanac\",\n  description: \"Add shortcut to look up items on buddy.farm\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const buddyFarm: Feature = {\n  settings: [SETTING_BUDDY_FARM],\n  onPageLoad: (settings, page) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_BUDDY_FARM.id].value) {\n      return;\n    }\n\n    // make sure page content has loaded\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    // make sure we are on an item page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    // find header to get item data\n    const itemHeader = document.querySelector(\".sharelink\");\n    if (!itemHeader) {\n      console.error(\"Item header not found\");\n      return;\n    }\n\n    // get name and link for item\n    const itemName = itemHeader.textContent ?? \"\";\n    const itemLink = `https://buddy.farm/i/${nameToSlug(itemName)}`;\n\n    // use title to find item details section\n    const titles = currentPage.querySelectorAll(\".content-block-title\");\n    const itemDetailsTitle = [...titles].find(\n      (title) => title.textContent === \"Item Details\"\n    );\n    const itemDetailsCard = itemDetailsTitle?.nextElementSibling;\n    const itemDetailsList = itemDetailsCard?.querySelector(\"ul\");\n    if (!itemDetailsList) {\n      console.error(\"Item Details list not found\");\n      return;\n    }\n\n    // remove existing link\n    document.querySelector(\".fh-buddyshortcut\")?.remove();\n\n    // create a new item detail for buddy.farm link\n    const buddyFarmLinkLi = document.createElement(\"li\");\n    buddyFarmLinkLi.classList.add(\"close-panel\");\n    buddyFarmLinkLi.classList.add(\"fh-buddyshortcut\");\n    buddyFarmLinkLi.innerHTML = `\n      <div class=\"item-content\">\n        <div class=\"item-media\">\n          <a\n            href=\"https://buddy.farm\"\n            onclick=\"window.open('https://buddy.farm', '_blank');return false;\"\n          >\n            <img src=\"https://buddy.farm/icons/icon-256x256.png\" class=\"itemimg\">\n          </a>\n        </div>\n        <div class=\"item-inner\">\n          <div class=\"item-title\">\n            Buddy's Almanac\n            <br><span style=\"font-size: 11px\">Lookup item on buddy.farm</span>\n          </div>\n          <div class=\"item-after\">\n            <a\n              href=\"${itemLink}\"\n              onclick=\"window.open('${itemLink}', '_blank');return false;\"\n              class=\"button btngreen\"\n              style=\"height:28px\"\n            >OPEN</a>\n          </div>\n        </div>\n      </div>\n    `;\n\n    // insert at top\n    itemDetailsList.insertBefore(buddyFarmLinkLi, itemDetailsList.firstChild);\n  },\n};\n","import { BACKGROUND_DARK } from \"~/utils/theme\";\nimport { Feature } from \"./feature\";\n\nconst openAutocomplete = (dropdown: HTMLDivElement): void => {\n  const currentLink =\n    document.querySelector<HTMLAnchorElement>(\".cclinkselected\");\n  const links = [\n    ...document.querySelectorAll<HTMLAnchorElement>(\n      \"#desktopchatpanel .cclink\"\n    ),\n  ];\n  if (!links || !currentLink) {\n    return;\n  }\n  links.sort((a, b) => a.textContent?.localeCompare(b.textContent ?? \"\") ?? 0);\n  const menu = document.createElement(\"div\");\n  menu.classList.add(\"fh-chatdropdown-menu\");\n  menu.style.display = \"flex\";\n  menu.style.flexDirection = \"column\";\n  menu.style.position = \"absolute\";\n  menu.style.top = \"100%\";\n  menu.style.left = \"0\";\n  menu.style.width = \"100%\";\n  menu.style.background = BACKGROUND_DARK;\n  menu.style.zIndex = \"9999\";\n  for (const link of links) {\n    if (link.dataset.channel === currentLink.dataset.channel) {\n      continue;\n    }\n    const option = document.createElement(\"div\");\n    option.textContent = link.textContent;\n    option.style.cursor = \"pointer\";\n    option.style.padding = \"10px\";\n    option.addEventListener(\"click\", () => {\n      link.click();\n      closeAutocomplete();\n    });\n    menu.append(option);\n  }\n  dropdown.append(menu);\n};\n\nconst closeAutocomplete = (): void => {\n  document.querySelector(\".fh-chatdropdown-menu\")?.remove();\n};\n\nexport const chatNav: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      `beforeend`,\n      `\n      <style>\n        /* Hide original chat nav */\n        .cclink {\n          display: none !important;\n        }\n      <style>\n    `\n    );\n  },\n  onChatLoad: () => {\n    const currentLink =\n      document.querySelector<HTMLAnchorElement>(\".cclinkselected\");\n    if (!currentLink) {\n      return;\n    }\n\n    const dropdowns = [\n      ...document.querySelectorAll<HTMLDivElement>(\".fh-chatdropdown\"),\n    ];\n\n    // create dropdowns if we haven't\n    if (dropdowns.length === 0) {\n      for (const title of document.querySelectorAll<HTMLDivElement>(\n        \".content-block-title.item-input\"\n      )) {\n        const dropdown = document.createElement(\"div\");\n        dropdown.classList.add(\"fh-chatdropdown\");\n        dropdown.style.cursor = \"pointer\";\n        dropdown.style.textTransform = \"titlecase\";\n        dropdown.style.width = \"100%\";\n        dropdown.style.height = \"44px\";\n        dropdown.style.display = \"flex\";\n        dropdown.style.alignContent = \"center\";\n        dropdown.style.justifyContent = \"center\";\n        dropdown.style.flexWrap = \"wrap\";\n        dropdowns.push(dropdown);\n        dropdown.addEventListener(\"click\", () => {\n          const menu = document.querySelector(\".fh-chatdropdown-menu\");\n          if (menu) {\n            closeAutocomplete();\n          } else {\n            openAutocomplete(title);\n          }\n        });\n        title.append(dropdown);\n        title.style.margin = \"0\";\n        title.style.marginTop = \"-5px\";\n        title.style.overflow = \"visible\";\n      }\n    }\n\n    // update dropdown content\n    for (const dropdown of dropdowns) {\n      if (dropdown.dataset.channel !== currentLink.dataset.channel) {\n        dropdown.innerHTML = `\n          ${currentLink.textContent}\n          <i class=\"fa fw fa-caret-down\" style=\"margin-left: 5px;\"></i>\n        `;\n        dropdown.dataset.channel = currentLink.dataset.channel;\n      }\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCardByTitle, Page } from \"~/utils/page\";\n\nexport const SETTING_HIDE_PLAYERS: FeatureSetting = {\n  id: \"homeHidePlayers\",\n  title: \"Home: Hide players\",\n  description: \"Hide Online, new, find players options\",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_HIDE_THEME: FeatureSetting = {\n  id: \"homeHideTheme\",\n  title: \"Home: Hide theme switcher\",\n  description: \"Hide theme switcher on homepage\",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_HIDE_FOOTER: FeatureSetting = {\n  id: \"homeHideFooter\",\n  title: \"Home: Hide footer\",\n  description: \"Hide footer (Privacy, CoC, T&C, Support) \",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_COMPRESS_SKILLS: FeatureSetting = {\n  id: \"homeCompressSkills\",\n  title: \"Home: Compress Skills\",\n  description: \"Hide Level 99 skills\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const cleanupHome: Feature = {\n  settings: [\n    SETTING_HIDE_PLAYERS,\n    SETTING_HIDE_THEME,\n    SETTING_HIDE_FOOTER,\n    SETTING_COMPRESS_SKILLS,\n  ],\n  onInitialize: (settings) => {\n    if (settings[SETTING_HIDE_PLAYERS.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n      <style>\n        /* Hide players card */\n        .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title,\n        .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title + .card {\n          display: none !important;\n        }\n      <style>\n    `\n      );\n    }\n\n    if (settings[SETTING_HIDE_THEME.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n      <style>\n        /* Hide theme switcher */\n        [data-page=\"index-1\"] .page-content > p:nth-of-type(1),\n        [data-page=\"index-1\"] .page-content > p:nth-of-type(2) {\n          display: none !important;\n        }\n      <style>\n    `\n      );\n    }\n\n    if (settings[SETTING_HIDE_FOOTER.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n      <style>\n        [data-page=\"index-1\"] .page-content > p:last-of-type,\n        [data-page=\"index-1\"] .page-content > div:last-of-type {\n          display: none !important;\n        }\n      <style>\n    `\n      );\n    }\n  },\n  onPageLoad: (settings, page) => {\n    if (page !== Page.HOME) {\n      return;\n    }\n    if (!settings[SETTING_COMPRESS_SKILLS.id].value) {\n      return;\n    }\n\n    // get wrappers\n    const skillsCard = getCardByTitle(\"My skills\");\n    const skillsTitle = skillsCard?.previousElementSibling as\n      | HTMLDivElement\n      | undefined;\n    const skillsCardInner = skillsCard?.querySelector(\".card-content-inner\");\n    if (skillsCard && skillsTitle && skillsCardInner) {\n      // new row\n      const newRow = document.createElement(\"div\");\n      newRow.classList.add(\"row\");\n      newRow.style.marginBottom = \"0\";\n      newRow.style.display = \"flex\";\n      newRow.style.justifyContent = \"space-around\";\n      // get all skills\n      const skills = skillsCard?.querySelectorAll(\".col-33\");\n      let x99 = 0;\n      for (const skill of skills) {\n        const progress = skill.querySelector(\"div\");\n        if (!progress) {\n          continue;\n        }\n        if (progress.classList.contains(\"progressbar-infinite\")) {\n          x99++;\n        } else {\n          newRow.append(skill);\n        }\n      }\n      skillsCardInner.prepend(newRow);\n      newRow.nextElementSibling?.remove();\n      newRow.nextElementSibling?.remove();\n      skillsTitle.style.textTransform = \"none\";\n      skillsTitle.textContent = `MY SKILLS (${x99}x99)`;\n      const shinyBar = document.createElement(\"div\");\n      shinyBar.classList.add(\"progressbar-infinite\");\n      shinyBar.classList.add(\"color-multi\");\n      shinyBar.style.width = \"100%\";\n      skillsTitle.after(shinyBar);\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { Page } from \"~/utils/page\";\n\nexport const SETTING_COLLAPSE_ITEM: FeatureSetting = {\n  id: \"collapseItem\",\n  title: \"Item: Collapse Item Image\",\n  description: \"Move item image in header to save space\",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const collapseItemImage: Feature = {\n  settings: [SETTING_COLLAPSE_ITEM],\n  onInitialize: (settings) => {\n    if (settings[SETTING_COLLAPSE_ITEM.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n        <style>\n          /* Hide item image and description */\n          [data-page=\"item\"] #img {\n            display: none !important;\n          }\n          \n          /* Hide first section title */\n          [data-page=\"item\"] #img + .content-block-title {\n            display: none !important;\n          }\n        </style>\n      `\n      );\n    }\n  },\n  onPageLoad: (settings, page) => {\n    // make sure we're on the item page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    const itemImage = document.querySelector<HTMLImageElement>(\"#img img\");\n    if (!itemImage) {\n      console.error(\"Item image not found\");\n      return;\n    }\n\n    // wait for animations\n    const sharelink = document.querySelector<HTMLDivElement>(\n      \".view-main .center .sharelink\"\n    );\n    if (!sharelink) {\n      return;\n    }\n    let smallImage = sharelink.querySelector<HTMLImageElement>(\"img\");\n    if (!smallImage) {\n      smallImage = document.createElement(\"img\");\n    }\n    sharelink.style.display = \"flex\";\n    sharelink.style.alignItems = \"center\";\n    sharelink.style.gap = \"10px\";\n    smallImage.src = itemImage.src;\n    smallImage.style.width = \"30px\";\n    sharelink.prepend(smallImage);\n  },\n};\n","import { BORDER_GRAY } from \"~/utils/theme\";\nimport { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_CHAT_COMPRESS: FeatureSetting = {\n  id: \"compressChat\",\n  title: \"Chat: Compress messages\",\n  description: \"Compress chat messages to make more visible at once\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const compressChat: Feature = {\n  settings: [SETTING_CHAT_COMPRESS],\n  onInitialize: (settings) => {\n    // move spacing from panel margin to message padding regardless of setting\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        .page-content {\n          padding-right: 0 !important; \n          margin-right: -2px !important;\n        }\n        #desktopchatpanel {\n          border-color: ${BORDER_GRAY};\n          border-top: 0 !important;\n        }\n        #mobilechatpanel .content-block,\n        #desktopchatpanel .content-block {\n          padding: 0 !important;\n        }\n        #mobilechatpanel .card,\n        #desktopchatpanel .card {\n          margin: 0 !important;\n        }\n        .chat-txt {\n          margin: 0 !important;\n          padding: 8px !important\n        }\n      <style>\n    `\n    );\n\n    // make sure setting is enabled\n    if (!settings[SETTING_CHAT_COMPRESS.id].value) {\n      return;\n    }\n\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        /* Reduce chat spacing */\n        .chat-txt {\n          margin: 0 !important;\n          padding: 4px !important\n        }\n\n        /* Hide timestamp */\n        .chat-txt span:first-of-type,\n        .chat-txt br:first-of-type {\n          display: none !important;\n        }\n      <style>\n    `\n    );\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_NAVIGATION_COMPRESS: FeatureSetting = {\n  id: \"compressNav\",\n  title: \"Menu: Reduce Whitespace\",\n  description: `Reduces whitespace in navigation to make space for more items`,\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_NAVIGATION_HIDE_LOGO: FeatureSetting = {\n  id: \"noLogoNav\",\n  title: \"Menu: Hide Logo\",\n  description: `Hides Farm RPG logo in Navigation`,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const SETTING_NAVIGATION_ALIGN_BOTTOM: FeatureSetting = {\n  id: \"alignBottomNav\",\n  title: \"Menu: Align to Bottom\",\n  description: `Aligns Navigation menu to bottom of screen for easier reach on mobile`,\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTINGS_NAVIGATION_ADD_MENU: FeatureSetting = {\n  id: \"bottomMenu\",\n  title: \"Menu: Add Shortcut to Bottom\",\n  description: `Adds navigation menu shortcut to bottom bar for easier reach on mobile`,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const navigationStyle: Feature = {\n  settings: [\n    SETTING_NAVIGATION_COMPRESS,\n    SETTING_NAVIGATION_HIDE_LOGO,\n    SETTINGS_NAVIGATION_ADD_MENU,\n    SETTING_NAVIGATION_ALIGN_BOTTOM,\n  ],\n  onInitialize: (settings) => {\n    // hide buttons until we can replace them\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          .icon.icon-bars,\n          .refreshbtn .f7-icons {\n            display: none !important;\n          }\n        <style>\n      `\n    );\n\n    // align toolbar more consistently\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n          <style>\n            .toolbar-inner {\n              display: flex !important;\n              justify-content: end !important;\n              padding: 0 !important;\n            }\n\n            .toolbar-inner .link {\n              display: none !important;\n            }\n\n            @media (min-width: 768px) {\n              .fh-menu {\n                display: none !important;\n              }\n            }\n\n            .toolbar-inner a {\n              height: 100%;\n              border: 0;\n              background: transparent;\n              display: flex;\n              align-items: center;\n              gap: 5px;\n              padding: 15px !important;\n              border-radius: 0 !important;\n            }\n          <style>\n        `\n    );\n\n    if (settings[SETTING_NAVIGATION_COMPRESS.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Reduce nav item spacing */\n            .panel-left .item-inner {\n              padding-top: 4px !important;\n              padding-bottom: 4px !important;\n            }\n            .panel-left .item-content,\n            .panel-left .item-inner {\n              min-height: 0 !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    if (settings[SETTING_NAVIGATION_HIDE_LOGO.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Hide nav logo */\n            .panel-left .page-content div[align=\"center\"] {\n              display: none !important;\n            }\n            \n            /* Hide extra padding */\n            .panel-left .page,\n            .panel-left .page-content {\n              padding-bottom: 0 !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    if (settings[SETTING_NAVIGATION_ALIGN_BOTTOM.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Align nav down */\n            .panel-left .page-content .list-block {\n              margin-top: 24px !important;\n              display: flex !important;\n              flex-direction: column !important;\n              justify-content: end !important;\n              height: 100% !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    // responsive bottom links\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* responsive bottom links */\n          @media (max-width: 420px) {\n          .toolbar-inner > .button i {\n            margin-right: 50px !important;\n          }\n          .toolbar-inner > .button {\n            display: block !important;\n            width: 28px !important;\n          }\n        <style>\n      `\n    );\n\n    if (settings[SETTINGS_NAVIGATION_ADD_MENU.id].value) {\n      const homeButton = document.querySelector(\"#homebtn\");\n      if (!homeButton) {\n        console.error(\"Home button not found\");\n        return;\n      }\n      const menuButton = document.createElement(\"a\");\n      menuButton.dataset.panel = \"left\";\n      menuButton.classList.add(\"fh-menu\");\n      menuButton.classList.add(\"button\");\n      menuButton.classList.add(\"open-panel\");\n      menuButton.style.fontSize = \"12px\";\n      menuButton.style.paddingLeft = \"5px\";\n      menuButton.style.paddingRight = \"8px\";\n      menuButton.style.display = \"flex\";\n      menuButton.style.alignItems = \"center\";\n      menuButton.style.gap = \"2px\";\n      menuButton.innerHTML = `\n        <i class=\"fa fa-fw fa-bars\"></i>\n        Menu\n      `;\n      homeButton.parentElement?.insertBefore(menuButton, homeButton);\n    }\n  },\n  onPageLoad: () => {\n    for (const icon of document.querySelectorAll<HTMLDivElement>(\n      \".icon.icon-bars\"\n    )) {\n      icon.style.color = \"white\";\n      icon.classList.remove(\"icon\");\n      icon.classList.remove(\"icon-bars\");\n      icon.classList.add(\"fa\");\n      icon.classList.add(\"fw\");\n      icon.classList.add(\"fa-bars\");\n    }\n\n    for (const refresh of document.querySelectorAll<HTMLAnchorElement>(\n      \".refreshbtn\"\n    )) {\n      refresh.style.color = \"white\";\n      refresh.classList.remove(\"fv-icons\");\n      refresh.textContent = \"\";\n      refresh.classList.add(\"fa\");\n      refresh.classList.add(\"fw\");\n      refresh.classList.add(\"fa-refresh\");\n    }\n  },\n};\n","import { BORDER_GRAY } from \"~/utils/theme\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { getData, setData } from \"./farmhandSettings\";\nimport { showConfirmation } from \"~/utils/confirmation\";\n\nexport const SETTING_CUSTOM_NAVIGATION: FeatureSetting = {\n  id: \"customNav\",\n  title: \"Customize Navigation\",\n  description: `\n    Enables customization of the Navigation menu<br>\n    (click the gear in the navigation menu to configure)\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n  dataKey: \"customNav_data\",\n};\n\nconst state: { isEditing: boolean; editingIndex?: number } = {\n  isEditing: false,\n};\n\ninterface NavigationItem {\n  icon: string;\n  text: string;\n  path: string;\n}\n\nconst DEFAULT_NAVIGATION: NavigationItem[] = [\n  { icon: \"home\", text: \"Home\", path: \"index.php\" },\n  { icon: \"user\", text: \"My Profile\", path: \"profile.php\" },\n  { icon: \"list\", text: \"My Inventory\", path: \"inventory.php\" },\n  { icon: \"wrench\", text: \"My Workshop\", path: \"workshop.php\" },\n  { icon: \"spoon\", text: \"My Kitchen\", path: \"kitchen.php\" },\n  { icon: \"inbox\", text: \"My Mailbox\", path: \"postoffice.php\" },\n  { icon: \"envelope\", text: \"My Messages\", path: \"messages.php\" },\n  { icon: \"users\", text: \"My Friends\", path: \"friends.php\" },\n  { icon: \"gear\", text: \"My Settings\", path: \"settings.php\" },\n  { icon: \"building\", text: \"Town\", path: \"town.php\" },\n  { icon: \"book\", text: \"Library\", path: \"wiki.php\" },\n  { icon: \"info-circle\", text: \"About / Updates\", path: \"about.php\" },\n  { icon: \"close\", text: \"Logout\", path: \"logout.php\" },\n];\n\nconst icons = ((): string[] => {\n  const stylesheet = [...document.styleSheets].find(({ href }) =>\n    href?.includes(\"fontawesome\")\n  );\n  const icons: string[] = [];\n  if (!stylesheet) {\n    console.error(\"Could not find fontawesome stylesheet\");\n    return icons;\n  }\n  for (const rule of stylesheet.cssRules) {\n    if (!(rule instanceof CSSStyleRule)) {\n      continue;\n    }\n    if (rule.style.length !== 1) {\n      continue;\n    }\n    if (!rule.style.content) {\n      continue;\n    }\n    const selector = rule.selectorText;\n    const aliases = selector.split(\", \");\n    icons.push(aliases[0].slice(4, -8));\n  }\n  return icons.sort();\n})();\n\nconst renderNavigation = async (): Promise<void> => {\n  const navigationData = await getData<NavigationItem[]>(\n    SETTING_CUSTOM_NAVIGATION,\n    DEFAULT_NAVIGATION\n  );\n  const navigationList =\n    document.querySelector<HTMLUListElement>(\".panel-left ul\");\n  if (!navigationList) {\n    console.error(\"Could not find navigation list\");\n    return;\n  }\n\n  if (navigationList.dataset.isCustomized) {\n    // already rendered\n    return;\n  }\n\n  const navigationTitleLeft = document.querySelector(\n    \".panel-left .navbar .left\"\n  );\n  if (!navigationTitleLeft) {\n    console.error(\"Could not find navigation title\");\n    return;\n  }\n  navigationTitleLeft.innerHTML = \"\";\n\n  if (state.isEditing) {\n    const resetButton = document.createElement(\"i\");\n    resetButton.style.cursor = \"pointer\";\n    resetButton.classList.add(\"fa\");\n    resetButton.classList.add(\"fa-fw\");\n    resetButton.classList.add(\"fa-arrow-left-rotate\");\n    resetButton.addEventListener(\"click\", () => {\n      showConfirmation(\"Reset Navigation?\", async () => {\n        await setData(SETTING_CUSTOM_NAVIGATION, DEFAULT_NAVIGATION);\n        state.isEditing = false;\n        renderNavigation();\n      });\n    });\n    navigationTitleLeft.append(resetButton);\n  }\n\n  navigationList.innerHTML = \"\";\n  navigationList.dataset.isCustomized = \"true\";\n  for (const item of navigationData) {\n    const currentIndex = navigationData.indexOf(item);\n    const navigationItem = document.createElement(\"li\");\n    navigationItem.innerHTML = `\n      <a\n        href=\"${item.path}\"\n        data-view=\".view-main\"\n        class=\"item-link close-panel\"\n      >\n        <div\n          class=\"item-content\"\n          style=\"\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n          \"\n        >\n          <div\n            class=\"item-inner\"\n            style=\"\n              background-image: none;\n              display: flex;\n              justify-content: space-between;\n              padding-right: 15px;\n              width: 100%;\n            \"\n          >\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-${item.icon}\"></i>\n              <span class=\"fh-item\">${item.text}</span>\n            </div>\n            ${\n              state.isEditing\n                ? `\n                  <div>\n                    <i class=\"fa fa-fw ${\n                      state.editingIndex === currentIndex\n                        ? \"fa-check\"\n                        : \"fa-pencil\"\n                    } fh-edit\"></i>\n                    <i class=\"fa fa-fw fa-trash fh-delete\"></i>\n                  </div>\n                `\n                : '<i class=\"fa fa-fw fa-chevron-right\"></i>'\n            }\n          </div>\n          ${\n            state.isEditing && state.editingIndex === currentIndex\n              ? `\n                <div\n                  style=\"\n                    display: flex;\n                    align-items: center;\n                    width: 100%;\n                    padding-right: 15px;\n                  \"\n                >\n                  <input\n                    type=\"text\"\n                    class=\"fh-text\"\n                    value=\"${item.text}\"\n                    style=\"\n                      flex: 1;\n                      border: 1px solid ${BORDER_GRAY};\n                      margin-left: 20px;\n                      margin-right: 10px;\n                      height: 30px;\n                      padding: 10px;\n                    \"\n                  >\n                  <i class=\"fa fa-fw fa-arrow-down fh-down\"></i>\n                  <i class=\"fa fa-fw fa-arrow-up fh-up\"></i>\n                </div>\n                <div\n                  style=\"\n                    display: flex;\n                    align-items: center;\n                    width: 100%;\n                    padding-right: 15px;\n                  \"\n                >\n                  <input\n                    type=\"text\"\n                    class=\"fh-path\"\n                    value=\"${item.path}\"\n                    style=\"\n                      flex: 1;\n                      border: 1px solid ${BORDER_GRAY};\n                      margin-left: 20px;\n                      height: 30px;\n                      padding: 10px;\n                      font-family: monospace;\n                    \"\n                  >\n                </div>\n                <div\n                  style=\"\n                    display: flex;\n                    gap: 4px;\n                    margin-top: 10px;\n                    height: 200px;\n                    width: 100%;\n                    overflow-y: scroll;\n                    flex-wrap: wrap;\n                  \"\n                  class=\"fh-icons\"\n                >\n                  ${icons\n                    .map(\n                      (icon) => `\n                        <i\n                          class=\"fa fa-fw fa-${icon}\"\n                          data-icon=\"${icon}\"\n                        ></i>\n                      `\n                    )\n                    .join(\"\")}\n                </div>\n              `\n              : \"\"\n          }\n        </div>\n      </a>\n    `;\n    navigationItem\n      .querySelector(\".fh-icons\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!event.target) {\n          return;\n        }\n        item.icon = (event.target as HTMLElement).dataset.icon ?? \"\";\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation();\n      });\n    navigationItem\n      .querySelector(\".fh-text\")\n      ?.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    navigationItem\n      .querySelector(\".fh-text\")\n      ?.addEventListener(\"change\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        item.text = (event.target as HTMLInputElement).value;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation();\n      });\n    navigationItem\n      .querySelector(\".fh-text\")\n      ?.addEventListener(\"keyup\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const itemText = navigationItem.querySelector(\".fh-item\");\n        if (!itemText) {\n          return;\n        }\n        itemText.textContent = (event.target as HTMLInputElement).value;\n      });\n    navigationItem\n      .querySelector(\".fh-path\")\n      ?.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    navigationItem\n      .querySelector(\".fh-path\")\n      ?.addEventListener(\"change\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        item.path = (event.target as HTMLInputElement).value;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation();\n      });\n    navigationItem\n      .querySelector(\".fh-up\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (currentIndex === 0) {\n          return;\n        }\n        navigationData.splice(currentIndex, 1);\n        navigationData.splice(currentIndex - 1, 0, item);\n        state.editingIndex = currentIndex - 1;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation();\n      });\n    navigationItem\n      .querySelector(\".fh-down\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (currentIndex === navigationData.length - 1) {\n          return;\n        }\n        navigationData.splice(currentIndex, 1);\n        navigationData.splice(currentIndex + 1, 0, item);\n        state.editingIndex = currentIndex + 1;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation();\n      });\n    navigationItem\n      .querySelector(\".fh-edit\")\n      ?.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (state.editingIndex === currentIndex) {\n          delete state.editingIndex;\n        } else {\n          state.editingIndex = currentIndex;\n        }\n        renderNavigation();\n      });\n    navigationItem\n      .querySelector(\".fh-delete\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        navigationData.splice(currentIndex, 1);\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation();\n      });\n    navigationList.append(navigationItem);\n  }\n  if (state.isEditing) {\n    const addNavigationItem = document.createElement(\"li\");\n    addNavigationItem.innerHTML = `\n      <a\n        href=\"#\"\n        class=\"item-link close-panel\"\n      >\n        <div\n          class=\"item-content\"\n          style=\"\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n          \"\n        >\n          <div\n            class=\"item-inner\"\n            style=\"\n              background-image: none;\n              display: flex;\n              justify-content: space-between;\n              padding-right: 15px;\n              width: 100%;\n            \"\n          >\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-plus\"></i>\n              <span class=\"fh-item\">Add Navigation Item</span>\n            </div>\n          </div>\n        </div>\n      </a>\n    `;\n    addNavigationItem.addEventListener(\"click\", async (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      navigationData.push({\n        icon: \"sack-dollar\",\n        text: \"Tip anstosa\",\n        path: \"profile.php?user_name=anstosa\",\n      });\n      await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n      state.editingIndex = navigationData.length - 1;\n      renderNavigation();\n    });\n    navigationList.append(addNavigationItem);\n  }\n};\n\nexport const customNavigation: Feature = {\n  settings: [SETTING_CUSTOM_NAVIGATION],\n  onMenuLoad: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_CUSTOM_NAVIGATION.id].value) {\n      return;\n    }\n\n    // add configuration icon\n    const navigationTitleRight = document.querySelector(\n      \".panel-left .navbar .right\"\n    );\n    if (!navigationTitleRight) {\n      console.error(\"Could not find navigation title\");\n      return;\n    }\n    if (navigationTitleRight.children.length === 0) {\n      const configurationButton = document.createElement(\"i\");\n      configurationButton.style.cursor = \"pointer\";\n      configurationButton.classList.add(\"fa\");\n      configurationButton.classList.add(\"fa-fw\");\n      configurationButton.classList.add(\"fa-cog\");\n      configurationButton.addEventListener(\"click\", () => {\n        state.isEditing = !state.isEditing;\n        if (state.isEditing) {\n          configurationButton.classList.remove(\"fa-cog\");\n          configurationButton.classList.add(\"fa-check\");\n        } else {\n          configurationButton.classList.remove(\"fa-check\");\n          configurationButton.classList.add(\"fa-cog\");\n        }\n        renderNavigation();\n      });\n      navigationTitleRight.append(configurationButton);\n    }\n    renderNavigation();\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { showPopup } from \"~/utils/popup\";\n\nexport const SETTING_CHAT_DISMISSABLE_BANNERS: FeatureSetting = {\n  id: \"dismissableChatBanners\",\n  title: \"Chat: Dismissable Banners\",\n  description: `\n    Adds  in chat banners to dismiss them<br>\n    Disable this to show dismissed banners again\n  `,\n  buttonText: \"Reset\",\n  buttonAction: async () => {\n    const keys = await GM.listValues();\n    for (const key of keys) {\n      if (key.startsWith(SETTING_CHAT_DISMISSABLE_BANNERS.id)) {\n        await GM.deleteValue(key);\n      }\n    }\n    await showPopup(\n      \"Chat banners reset\",\n      \"Previously dismissed chat banners will be shown again\"\n    );\n  },\n  type: \"boolean\",\n  defaultValue: true,\n};\n\n// https://stackoverflow.com/a/7616484/714282\nconst hashBanner = (banner: Element): number => {\n  const string = banner.textContent ?? \"\";\n  let hash = 0;\n  if (string.length === 0) {\n    return hash;\n  }\n  for (let index = 0; index < string.length; index++) {\n    const code = string.codePointAt(index) ?? 0;\n    hash = (hash << 5) - hash + code;\n    hash = Math.trunc(hash);\n  }\n  return hash;\n};\n\nexport const dismissableChatBanners: Feature = {\n  settings: [SETTING_CHAT_DISMISSABLE_BANNERS],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_CHAT_DISMISSABLE_BANNERS.id].value) {\n      return;\n    }\n\n    const chatWatcher = new MutationObserver(async () => {\n      const banners = document.querySelectorAll(\n        \"#desktopchatpanel .card, #mobilechatpanel .card\"\n      );\n      for (const banner of banners) {\n        const bannerKey = `${SETTING_CHAT_DISMISSABLE_BANNERS.id}_${hashBanner(\n          banner\n        )}`;\n\n        // hide banner if dismissed\n        const isDismissed = await GM.getValue(bannerKey, false);\n        if (isDismissed) {\n          banner.remove();\n          continue;\n        }\n\n        // skip adding close button if it already exists\n        if (banner.querySelector(\".fh-close\")) {\n          continue;\n        }\n\n        // add close button\n        const closeButton = document.createElement(\"div\");\n        closeButton.classList.add(\"fh-close\");\n        closeButton.textContent = \"\";\n        closeButton.style.position = \"absolute\";\n        closeButton.style.top = \"2px\";\n        closeButton.style.right = \"2px\";\n        closeButton.style.cursor = \"pointer\";\n        closeButton.addEventListener(\"click\", () => {\n          banner.remove();\n          GM.setValue(bannerKey, true);\n        });\n        banner.append(closeButton);\n      }\n    });\n\n    const mobileChat = document.querySelector(\"#mobilechatpanel\");\n    if (!mobileChat) {\n      console.error(\"Could not find mobile panel\");\n      return;\n    }\n\n    const desktopChat = document.querySelector(\"#desktopchatpanel\");\n    if (!desktopChat) {\n      console.error(\"Could not find desktop panel\");\n      return;\n    }\n\n    chatWatcher.observe(mobileChat, { childList: true, subtree: true });\n    chatWatcher.observe(desktopChat, { childList: true, subtree: true });\n  },\n};\n","import { Feature, FeatureSetting, Settings } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport { showPopup } from \"~/utils/popup\";\n\nexport const getSettings = async (features: Feature[]): Promise<Settings> => {\n  const settings: Settings = {};\n  for (const feature of features) {\n    for (const setting of feature.settings ?? []) {\n      setting.value = (await GM.getValue(\n        setting.id,\n        setting.defaultValue\n      )) as any;\n      settings[setting.id] = setting;\n    }\n  }\n  return settings;\n};\n\nexport const getSetting = async (\n  setting: FeatureSetting\n): Promise<FeatureSetting> => ({\n  ...setting,\n  value: (await GM.getValue(setting.id, setting.defaultValue)) as any,\n});\n\nexport const getData = async <T>(\n  setting: FeatureSetting | string,\n  defaultValue: T\n): Promise<T> => {\n  const key = typeof setting === \"string\" ? setting : setting.dataKey;\n  if (!key) {\n    return defaultValue;\n  }\n  const rawData = await GM.getValue<string>(key, \"\");\n  if (!rawData) {\n    return defaultValue;\n  }\n  return JSON.parse(rawData) as T;\n};\n\nexport const setData = async <T>(\n  setting: FeatureSetting | string,\n  data: T\n): Promise<void> => {\n  const key = typeof setting === \"string\" ? setting : setting.dataKey;\n  if (!key) {\n    return;\n  }\n  await GM.setValue(key, JSON.stringify(data));\n};\n\nexport const setSetting = (setting: FeatureSetting): Promise<void> =>\n  GM.setValue(setting.id, setting.value ?? \"\");\n\nconst getWrapper = (\n  { id, type, value }: FeatureSetting,\n  children: string\n): string => {\n  switch (type) {\n    case \"boolean\": {\n      return `\n        <div\n          class=\"item-inner\"\n          role=\"checkbox\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n          aria-checked=\"${value ? \"true\" : \"false\"}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n    case \"number\": {\n      return `\n        <div\n          class=\"item-inner\"\n          role=\"spinbutton\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n          aria-valuenow=\"${value}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n    case \"string\": {\n      return `\n        <div\n          class=\"item-inner\"\n          role=\"textbox\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n    default: {\n      return `\n        <div\n          class=\"item-inner\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n  }\n};\n\nconst getField = (setting: FeatureSetting, children: string): string => {\n  switch (setting.type) {\n    case \"boolean\": {\n      return `\n        <label class=\"label-switch\">\n          <input\n            type=\"checkbox\"\n            class=\"settings_checkbox\"\n            id=\"${setting.id}\"\n            name=\"${setting.id}\"\n            value=\"${setting.value ? 1 : 0}\"\n            ${setting.value ? 'checked=\"\"' : \"\"}\"\n          >\n          <div class=\"checkbox\"></div>\n          ${children}\n        </label>\n      `;\n    }\n    case \"string\":\n    case \"number\": {\n      return `\n        <div class=\"item-after\">\n          <input\n            type=\"text\"\n            name=\"${setting.id}\"\n            placeholder=\"${setting.placeholder ?? \"\"}\"\n            value=\"${setting.value}\"\n            class=\"inlineinputsm fh-input\"\n            style=\"\n              width: 100px !important;\n            \"\n          >\n          ${children}\n        </div>\n      `;\n    }\n    default: {\n      return \"\";\n    }\n  }\n};\n\nconst getValue = (\n  { id, type }: FeatureSetting,\n  currentPage: HTMLElement\n): FeatureSetting[\"value\"] => {\n  const input = currentPage.querySelector(`[name=${id}]`) as HTMLInputElement;\n  switch (type) {\n    case \"boolean\": {\n      const wrapper = currentPage.querySelector(\n        `[id=${id}-aria]`\n      ) as HTMLDivElement;\n      return wrapper.getAttribute(\"aria-checked\") === \"true\";\n    }\n    case \"number\": {\n      return Number(input.value);\n    }\n    case \"string\": {\n      return input.value;\n    }\n    default: {\n      return input.value;\n    }\n  }\n};\n\ntype ExportedSettings = Array<FeatureSetting & { data: any }>;\n\nexport const SETTING_EXPORT: FeatureSetting = {\n  id: \"export\",\n  title: \"Settings: Export\",\n  description: \"Exports Farmhand Settings to sync to other device\",\n  type: \"string\",\n  defaultValue: \"\",\n  buttonText: \"Export\",\n  buttonAction: async (settings, settingWrapper) => {\n    const exportedSettings = Object.values(settings) as ExportedSettings;\n    for (const setting of exportedSettings) {\n      setting.data = await getData(setting, \"\");\n    }\n    const exportString = JSON.stringify(exportedSettings);\n    GM.setClipboard(exportString);\n    showPopup(\n      \"Settings Exported to clipboard\",\n      \"Open Farm RPG on another device with Farmhand installed to import\"\n    );\n    const input = settingWrapper.querySelector<HTMLInputElement>(\".fh-input\");\n    if (input) {\n      input.value = exportString;\n    }\n  },\n};\n\nexport const SETTING_IMPORT: FeatureSetting = {\n  id: \"import\",\n  title: \"Settings: Import\",\n  description: \"Paste export into box and click Import\",\n  type: \"string\",\n  defaultValue: \"\",\n  placeholder: \"Paste Here\",\n  buttonText: \"Import\",\n  buttonAction: async (settings, settingWrapper) => {\n    const input =\n      settingWrapper.querySelector<HTMLInputElement>(\".fh-input\")?.value;\n    const importedSettings = JSON.parse(input ?? \"[]\") as ExportedSettings;\n    for (const setting of importedSettings) {\n      await setSetting(setting);\n      if (setting.data) {\n        await setData(setting, setting.data);\n      }\n    }\n    await showPopup(\"Farmhand Settings Imported!\", \"Page will reload to apply\");\n    window.location.reload();\n  },\n};\n\nexport const farmhandSettings: Feature = {\n  settings: [SETTING_EXPORT, SETTING_IMPORT],\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        /* Allow action buttons next to switches */\n        .label-switch {\n          display: flex !important;\n          align-items: center !important;\n          gap: 10px !important;\n          width: auto !important; \n        }\n      <style>\n    `\n    );\n  },\n  onPageLoad: (settings, page) => {\n    // make sure we are on the settings page\n    if (page !== Page.SETTINGS_OPTIONS) {\n      return;\n    }\n\n    // make sure page content has loaded\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    // insert at end of first card\n    const settingsList = currentPage.querySelector(\"#settingsform_options ul\");\n    if (!settingsList) {\n      console.error(\"Settings list not found\");\n      return;\n    }\n\n    // add section\n    let farmhandSettingsLi =\n      settingsList.querySelector<HTMLLIElement>(\".fh-settings-title\");\n    if (farmhandSettingsLi) {\n      // already rendered\n      return;\n    }\n    farmhandSettingsLi = document.createElement(\"li\");\n    farmhandSettingsLi.classList.add(\"list-group-title\");\n    farmhandSettingsLi.classList.add(\"item-divider\");\n    farmhandSettingsLi.classList.add(\"fh-settings-title\");\n    farmhandSettingsLi.textContent = \"Farmhand Settings\";\n    settingsList.append(farmhandSettingsLi);\n\n    // add settings\n    for (const setting of Object.values(settings)) {\n      const hasButton = setting.buttonText && setting.buttonAction;\n      const settingLi = document.createElement(\"li\");\n      settingLi.innerHTML = `\n        <div\n          class=\"item-content\"\n          style=\"\n            display: flex;\n            gap: 15px;\n            justify-content: space-between;\n          \"\n        >\n          ${getWrapper(\n            setting,\n            `\n            <div\n              class=\"item-title label\"\n              style=\"\n                flex: 1;\n                white-space: normal;\n              \"\n            >\n              <label\n                id=\"${setting.id}\"\n                for=\"${setting.id}\">\n                  ${setting.title}\n              </label>\n              <br>\n              <div style=\"font-size: 11px\">${setting.description}</div>\n            </div>\n            ${getField(\n              setting,\n              hasButton\n                ? `\n                  <button\n                    class=\"button btngreen fh-action\"\n                    style=\"margin-left: 8px\"\n                  >${setting.buttonText}</button>\n                `\n                : \"\"\n            )}\n            `\n          )}\n      </div>\n      `;\n      settingLi\n        .querySelector(\".fh-action\")\n        ?.addEventListener(\"click\", (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          setting.buttonAction?.(settings, settingLi);\n        });\n      settingsList.append(settingLi);\n    }\n\n    // hook into save button\n    const saveButton = currentPage.querySelector(\"#settings_options\");\n    if (!saveButton) {\n      console.error(\"Save button not found\");\n      return;\n    }\n\n    saveButton.addEventListener(\"click\", () => {\n      for (const setting of Object.values(settings)) {\n        setting.value = getValue(setting, currentPage);\n        setSetting(setting);\n      }\n      setTimeout(() => window.location.reload(), 1000);\n    });\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_FISH_IN_BARREL: FeatureSetting = {\n  id: \"fishInBarrel\",\n  title: \"Fishing: Barrel Mode\",\n  description: \"Fish always appear in middle of pond\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const fishinInBarrel: Feature = {\n  settings: [SETTING_FISH_IN_BARREL],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_FISH_IN_BARREL.id].value) {\n      return;\n    }\n\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        /* Move fish to middle */\n        .fish {\n          position: absolute;\n          top: calc(50% - 30px);\n          left: calc(50% - 30px);\n        }\n      <style>\n    `\n    );\n  },\n};\n","import {\n  ALERT_YELLOW_BACKGROUND,\n  ALERT_YELLOW_BORDER,\n  TEXT_WARNING,\n} from \"~/utils/theme\";\nimport { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_CHAT_HIGHLIGHT_SELF: FeatureSetting = {\n  id: \"highlightSelfInChat\",\n  title: \"Chat: Highlight self\",\n  description: \"Highlight messages in chat where you are @mentioned\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const highlightSelfInChat: Feature = {\n  settings: [SETTING_CHAT_HIGHLIGHT_SELF],\n  onChatLoad: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_CHAT_HIGHLIGHT_SELF.id].value) {\n      return;\n    }\n\n    const username = document.querySelector(\"#logged_in_username\")?.textContent;\n    if (!username) {\n      console.error(\"Could not find username\");\n      return;\n    }\n\n    const tags = document.querySelectorAll<HTMLAnchorElement>(\n      `span a[href='profile.php?user_name=${username}']`\n    );\n    for (const tag of tags) {\n      tag.style.color = TEXT_WARNING;\n      const message = tag.parentElement?.parentElement;\n      if (!message) {\n        console.error(\"Could not find message\");\n        continue;\n      }\n      message.style.backgroundColor = ALERT_YELLOW_BACKGROUND;\n      message.style.border = `1px solid ${ALERT_YELLOW_BORDER}`;\n    }\n  },\n};\n","import { Feature } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport { getItemData } from \"~/utils/buddyfarmApi\";\n\nexport const linkifyQuickCraft: Feature = {\n  onPageLoad: async (settings, page) => {\n    // make sure we're on the item page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    const missingIngredients = currentPage.querySelectorAll<HTMLSpanElement>(\n      \"span[style='color:red']\"\n    );\n    for (const ingredient of missingIngredients) {\n      const ingredientName = ingredient.textContent;\n      if (!ingredientName) {\n        continue;\n      }\n      const data = await getItemData(ingredientName);\n      if (!data) {\n        console.error(`No data for ${ingredientName}`);\n        continue;\n      }\n\n      const link = document.createElement(\"a\");\n      link.dataset.view = \".view-main\";\n      link.href = `item.php?id=${data.id}`;\n      link.textContent = ingredientName;\n      link.style.color = \"red\";\n      ingredient.replaceWith(link);\n    }\n  },\n};\n","import { Feature } from \"./feature\";\nimport { getCardByTitle, getCurrentPage, getTitle, Page } from \"~/utils/page\";\n\nconst KEY_RECENT = \"recentUpdate\";\n\nexport const moveUpdateToTop: Feature = {\n  onPageLoad: async (settings, page) => {\n    // make sure we're on the home page\n    if (page !== Page.HOME) {\n      return;\n    }\n\n    // get the recent card and title\n    const recentUpdatesCard = getCardByTitle(\"Most Recent Update\");\n    const recentUpdatesTitle = recentUpdatesCard?.previousElementSibling;\n    if (!recentUpdatesCard || !recentUpdatesTitle) {\n      return;\n    }\n\n    // get the latest title\n    const latestUpdate = recentUpdatesCard.querySelector(\"strong\")?.textContent;\n    if (!latestUpdate) {\n      return;\n    }\n\n    // check if it's newer\n    const latestRead = await GM.getValue(KEY_RECENT, \"\");\n    if (latestUpdate === latestRead) {\n      return;\n    }\n\n    // move to top\n    const home = getCurrentPage();\n    if (!home) {\n      return;\n    }\n    const firstTitle = getTitle(\"Where do you want to go?\");\n    if (!firstTitle) {\n      return;\n    }\n    firstTitle.before(recentUpdatesTitle);\n    firstTitle.before(recentUpdatesCard);\n\n    // add hide button\n    let hideButton =\n      recentUpdatesTitle.querySelector<HTMLAnchorElement>(\".fh-hide-update\");\n    if (!hideButton) {\n      hideButton = document.createElement(\"a\");\n      hideButton.classList.add(\"fh-hide-update\");\n      hideButton.style.marginLeft = \"10px\";\n      hideButton.style.cursor = \"pointer\";\n      hideButton.textContent = \"Hide\";\n      hideButton.addEventListener(\"click\", async () => {\n        // mark current as read\n        await GM.setValue(KEY_RECENT, latestUpdate);\n        window.location.reload();\n      });\n      recentUpdatesTitle.append(hideButton);\n    }\n  },\n};\n","import {\n  activatePerkSet,\n  getActivityPerksSet,\n  getPerkSets,\n  PerkActivity,\n  PerkSet,\n} from \"~/utils/farmrpgApi\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport {\n  Notification,\n  removeNotification,\n  sendNotification,\n} from \"~/utils/notifications\";\nimport { onQuicksellClick } from \"./quickSellSafely\";\n\nexport const SETTING_PERK_MANAGER: FeatureSetting = {\n  id: \"perkManager\",\n  title: \"Perks: Auto manage\",\n  description: `\n    1. Save your default perks set as \"Default\"<br>\n    2. Save perks for \"Crafting\", \"Fishing\", \"Exploring\", \"Selling\", \"Friendship\", \"Temple\", \"Locksmish\", or \"Wheel\" activities<br>\n    3. Activity perk sets will automatically be enabled for those activities and reverted to \"Default\" after\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nconst state: { currentPerkSet?: PerkSet; perkSets: PerkSet[] } = {\n  perkSets: [],\n};\n\nconst getNotification = (activity?: PerkActivity): Notification<never> => ({\n  class: \"btnorange\",\n  id: `activeperks`,\n  text: `${activity} perks activated`,\n});\n\nexport const perkManagment: Feature = {\n  settings: [SETTING_PERK_MANAGER],\n  onInitialize: async (settings) => {\n    if (!settings[SETTING_PERK_MANAGER.id].value) {\n      return;\n    }\n    state.perkSets = await getPerkSets();\n  },\n  onPageLoad: async (settings, page) => {\n    // make sure the setting is enabled\n    if (!settings[SETTING_PERK_MANAGER.id].value) {\n      return;\n    }\n\n    const defaultPerks = await getActivityPerksSet(PerkActivity.DEFAULT);\n\n    // make sure we have a default perk set\n    if (!defaultPerks) {\n      console.warn(\"Default perk set not found\");\n      return;\n    }\n\n    const craftingPerks = await getActivityPerksSet(PerkActivity.CRAFTING);\n    if (craftingPerks && page === Page.WORKSHOP) {\n      await activatePerkSet(craftingPerks);\n      sendNotification(getNotification(PerkActivity.CRAFTING));\n      return;\n    }\n\n    if (craftingPerks) {\n      const quickcraftButton =\n        getCurrentPage()?.querySelector<HTMLButtonElement>(\".quickcraftbtn\");\n      if (quickcraftButton && !quickcraftButton.style.display) {\n        quickcraftButton.style.display = \"none\";\n        const proxyButton = document.createElement(\"button\");\n        proxyButton.classList.add(\"button\");\n        proxyButton.classList.add(\"btngreen\");\n        proxyButton.style.height = \"28px;\";\n        proxyButton.textContent = \"CRAFT\";\n        proxyButton.addEventListener(\"click\", async () => {\n          await activatePerkSet(craftingPerks);\n          sendNotification(getNotification(PerkActivity.CRAFTING));\n          quickcraftButton.click();\n          await activatePerkSet(defaultPerks);\n          removeNotification(getNotification());\n        });\n        quickcraftButton.parentElement?.insertBefore(\n          proxyButton,\n          quickcraftButton\n        );\n      }\n    }\n\n    const fishingPerks = await getActivityPerksSet(PerkActivity.FISHING);\n    if (fishingPerks && page === Page.FISHING) {\n      await activatePerkSet(fishingPerks);\n      sendNotification(getNotification(PerkActivity.FISHING));\n      return;\n    }\n\n    const exploringPerks = await getActivityPerksSet(PerkActivity.EXPLORING);\n    if (exploringPerks && page === Page.AREA) {\n      await activatePerkSet(exploringPerks);\n      sendNotification(getNotification(PerkActivity.EXPLORING));\n      return;\n    }\n\n    const sellingPerks = await getActivityPerksSet(PerkActivity.SELLING);\n    if (sellingPerks && page === Page.FARMERS_MARKET) {\n      await activatePerkSet(sellingPerks);\n      sendNotification(getNotification(PerkActivity.SELLING));\n      return;\n    }\n\n    if (sellingPerks) {\n      onQuicksellClick(async () => {\n        await activatePerkSet(sellingPerks);\n        sendNotification(getNotification(PerkActivity.SELLING));\n        setTimeout(async () => {\n          await activatePerkSet(defaultPerks);\n          removeNotification(getNotification());\n        }, 1000);\n        return true;\n      });\n    }\n\n    const friendshipPerks = await getActivityPerksSet(PerkActivity.FRIENDSHIP);\n    if (\n      friendshipPerks &&\n      (page === Page.FRIENDSHIP || page === Page.MAILBOX)\n    ) {\n      await activatePerkSet(friendshipPerks);\n      sendNotification(getNotification(PerkActivity.FRIENDSHIP));\n      return;\n    }\n\n    if (friendshipPerks) {\n      const quickgiveButton =\n        getCurrentPage()?.querySelector<HTMLButtonElement>(\".quickgivebtn\");\n      if (quickgiveButton && !quickgiveButton.style.display) {\n        quickgiveButton.style.display = \"none\";\n        const proxyButton = document.createElement(\"button\");\n        proxyButton.classList.add(\"button\");\n        proxyButton.classList.add(\"btngreen\");\n        proxyButton.style.height = \"28px;\";\n        proxyButton.textContent = \"GIVE\";\n        proxyButton.addEventListener(\"click\", async () => {\n          await activatePerkSet(friendshipPerks);\n          sendNotification(getNotification(PerkActivity.FRIENDSHIP));\n          quickgiveButton.click();\n          await activatePerkSet(defaultPerks);\n          removeNotification(getNotification());\n        });\n        quickgiveButton.parentElement?.insertBefore(\n          proxyButton,\n          quickgiveButton\n        );\n      }\n    }\n\n    const templePerks = await getActivityPerksSet(PerkActivity.TEMPLE);\n    if (templePerks && page === Page.TEMPLE) {\n      await activatePerkSet(templePerks);\n      sendNotification(getNotification(PerkActivity.TEMPLE));\n      return;\n    }\n\n    const locksmithPerks = await getActivityPerksSet(PerkActivity.LOCKSMITH);\n    if (locksmithPerks && page === Page.LOCKSMITH) {\n      await activatePerkSet(locksmithPerks);\n      sendNotification(getNotification(PerkActivity.LOCKSMITH));\n      return;\n    }\n\n    const wheelPerks = await getActivityPerksSet(PerkActivity.WHEEL);\n    if (wheelPerks && page === Page.WHEEL) {\n      await activatePerkSet(wheelPerks);\n      sendNotification(getNotification(PerkActivity.WHEEL));\n      return;\n    }\n\n    activatePerkSet(defaultPerks);\n    removeNotification(getNotification());\n  },\n};\n","import { BORDER_GRAY } from \"~/utils/theme\";\nimport { Feature } from \"./feature\";\n\nexport const quests: Feature = {\n  onInitialize: () => {\n    // move spacing from panel margin to message padding regardless of setting\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        #statszone hr {\n            height: 1px;\n            background-color: ${BORDER_GRAY};\n            border: none;\n        }\n      <style>\n    `\n    );\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\n\nexport const SETTING_QUICKSELL_SAFELY: FeatureSetting = {\n  id: \"quicksellSafely\",\n  title: \"Item: Safe Quick Sell\",\n  description: \"If item is locked, also lock the Quick Sell button\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport type QuicksellCallback = (event: MouseEvent) => Promise<boolean>;\n\nconst state: { onQuicksellClick: QuicksellCallback[] } = {\n  onQuicksellClick: [],\n};\n\nexport const onQuicksellClick = (callback: QuicksellCallback): void => {\n  state.onQuicksellClick.push(callback);\n};\n\nexport const quicksellSafely: Feature = {\n  settings: [SETTING_QUICKSELL_SAFELY],\n  onPageLoad: (settings, page) => {\n    // make sure we're on the right page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    const isSafetyOn = settings[SETTING_QUICKSELL_SAFELY.id].value;\n    const lockButton =\n      getCurrentPage()?.querySelector<HTMLButtonElement>(\".lockbtn\");\n    const unlockButton =\n      getCurrentPage()?.querySelector<HTMLButtonElement>(\".unlockbtn\");\n    const isLocked = unlockButton && !lockButton;\n\n    const quicksellButton = getCurrentPage()?.querySelector<HTMLButtonElement>(\n      \".quicksellbtn, .quicksellbtnnc\"\n    );\n    if (quicksellButton && !quicksellButton.style.display) {\n      quicksellButton.style.display = \"none\";\n      const proxyButton = document.createElement(\"button\");\n      proxyButton.classList.add(\"button\");\n      proxyButton.classList.add(isSafetyOn && isLocked ? \"btnred\" : \"btngreen\");\n      proxyButton.style.height = \"28px;\";\n      if (!isSafetyOn || !isLocked) {\n        proxyButton.textContent = \"SELL\";\n      }\n      if (isSafetyOn && isLocked) {\n        const lock = document.createElement(\"i\");\n        lock.classList.add(\"f7-icons\");\n        lock.style.fontSize = \"17px\";\n        lock.textContent = \"unlock_fill\";\n        proxyButton.append(lock);\n      }\n      proxyButton.addEventListener(\"click\", async (event) => {\n        if (isSafetyOn && isLocked) {\n          unlockButton.click();\n          return;\n        }\n        for (const callback of state.onQuicksellClick) {\n          if (!(await callback(event))) {\n            return;\n          }\n        }\n        quicksellButton.click();\n      });\n      quicksellButton.parentElement?.insertBefore(proxyButton, quicksellButton);\n    }\n  },\n};\n","import { autocomplete } from \"./utils/autocomplete\";\nimport { autocompleteItems } from \"./features/autocompleteItems\";\nimport { autocompleteUsers } from \"./features/autocompleteUsers\";\nimport { banker } from \"./features/banker\";\nimport { buddyFarm } from \"~/features/buddyfarm\";\nimport { chatNav } from \"./features/chatNav\";\nimport { cleanupHome } from \"./features/cleanupHome\";\nimport { collapseItemImage } from \"./features/collapseItemImage\";\nimport { compressChat } from \"./features/compressChat\";\nimport { customNavigation } from \"./features/customNavigation\";\nimport { dismissableChatBanners } from \"./features/dismissableChatBanners\";\nimport { farmhandSettings, getSettings } from \"./features/farmhandSettings\";\nimport { fishinInBarrel } from \"./features/fishInBarrel\";\nimport { getPage } from \"~/utils/page\";\nimport { highlightSelfInChat } from \"./features/highlightSelfInChat\";\nimport { linkifyQuickCraft } from \"./features/linkifyQuickCraft\";\nimport { moveUpdateToTop } from \"./features/moveUpdateToTop\";\nimport { navigationStyle } from \"./features/compressNavigation\";\nimport { notifications } from \"./utils/notifications\";\nimport { perkManagment } from \"./features/perkManagement\";\nimport { quests } from \"./features/quests\";\nimport { quicksellSafely } from \"./features/quickSellSafely\";\n\nconst FEATURES = [\n  // internal\n  notifications,\n  autocomplete,\n\n  // home\n  cleanupHome,\n  moveUpdateToTop,\n\n  // items\n  buddyFarm,\n  collapseItemImage,\n  quicksellSafely,\n  linkifyQuickCraft,\n\n  // quests\n  quests,\n\n  // bank\n  banker,\n\n  // fishing\n  fishinInBarrel,\n\n  // explore\n  perkManagment,\n\n  // chat\n  chatNav,\n  compressChat,\n  dismissableChatBanners,\n  highlightSelfInChat,\n  autocompleteItems,\n  autocompleteUsers,\n\n  // nav\n  navigationStyle,\n  customNavigation,\n\n  // settings\n  farmhandSettings,\n];\n\nconst watchSubtree = (\n  selector: string,\n  handler: \"onPageLoad\" | \"onChatLoad\" | \"onMenuLoad\",\n  filter?: string\n): void => {\n  const target = document.querySelector(selector);\n  if (!target) {\n    console.error(`${selector} not found`);\n    return;\n  }\n  const handle = async (): Promise<void> => {\n    const settings = await getSettings(FEATURES);\n    const [page, parameters] = getPage();\n    console.debug(`${selector} Load`, page, parameters);\n    for (const feature of FEATURES) {\n      feature[handler]?.(settings, page, parameters);\n    }\n  };\n\n  const observer = new MutationObserver((mutations) => {\n    for (const mutation of mutations) {\n      // only respond to tree changes\n      if (mutation.type !== \"childList\") {\n        continue;\n      }\n      if (mutation.addedNodes.length === 0) {\n        continue;\n      }\n      if (filter) {\n        for (const node of mutation.addedNodes) {\n          if ((node as HTMLElement).matches?.(filter)) {\n            handle();\n          }\n        }\n      } else {\n        handle();\n      }\n    }\n  });\n  observer.observe(target, { childList: true, subtree: true });\n  handle();\n};\n\n// eslint-disable-next-line unicorn/prefer-top-level-await\n(async function () {\n  // eslint-disable-next-line unicorn/prefer-module\n  \"use strict\";\n  console.info(\"STARTING Farmhand by Ansel Santosa\");\n\n  // initialize\n  const settings = await getSettings(FEATURES);\n  for (const { onInitialize } of FEATURES) {\n    if (onInitialize) {\n      onInitialize(settings);\n    }\n  }\n\n  // double watches because the page and nav load at different times but\n  // separating the handlers makes everything harder\n  watchSubtree(\".view-main .pages\", \"onPageLoad\", \".page\");\n  watchSubtree(\".view-main .navbar\", \"onPageLoad\", \".navbar-inner\");\n  // watch menu\n  watchSubtree(\".view-left\", \"onMenuLoad\");\n  // watch desktop and mobile versions of chat\n  watchSubtree(\"#mobilechatpanel\", \"onChatLoad\");\n  watchSubtree(\"#desktopchatpanel\", \"onChatLoad\");\n})();\n","import { BACKGROUND_DARK, BUTTON_BLUE_BACKGROUND } from \"./theme\";\nimport { BasicEntity } from \"./buddyfarmApi\";\nimport { Feature } from \"~/features/feature\";\n\ninterface AutocompleteConfig {\n  trigger: RegExp;\n  getItems: () => Promise<BasicEntity[]>;\n  prefix: string;\n  suffix: string;\n  bail?: (text: string) => boolean;\n}\n\nconst state: {\n  currentIndex: number;\n  autocompletes: AutocompleteConfig[];\n  activeAutocomplete?: AutocompleteConfig;\n} = {\n  currentIndex: 0,\n  autocompletes: [],\n};\n\ninterface ProcessedInput {\n  text: string;\n  search?: string;\n  match?: RegExpMatchArray;\n  items?: BasicEntity[];\n  filteredItems?: BasicEntity[];\n}\n\nconst processInput = async (\n  input: HTMLInputElement\n): Promise<ProcessedInput> => {\n  let activeAutocomplete: AutocompleteConfig | undefined;\n  const text = input.value;\n  const processedInput: ProcessedInput = { text };\n  for (const autocomplete of state.autocompletes) {\n    // \"@anstosa: LF ((or\"\n    if (autocomplete?.bail?.(text)) {\n      continue;\n    }\n    // \"@anstosa: LF ((or\"\n    const match = text.match(autocomplete.trigger);\n    // \"or\"\n    if (!match || match.length < 2) {\n      continue;\n    }\n    const search = match[1];\n    const items = await autocomplete.getItems();\n    const filteredItems = items.filter(({ name }) =>\n      name.toLowerCase().includes(search.toLowerCase() ?? \"\")\n    );\n    activeAutocomplete = autocomplete;\n    processedInput.search = search;\n    processedInput.match = match;\n    processedInput.items = items;\n    processedInput.filteredItems = filteredItems;\n  }\n  state.activeAutocomplete = activeAutocomplete;\n  return processedInput;\n};\n\nconst applyInput = async (\n  input: HTMLInputElement,\n  item: BasicEntity\n): Promise<void> => {\n  const { filteredItems, search, match, text } = await processInput(input);\n  if (!state.activeAutocomplete) {\n    return;\n  }\n  const { prefix, suffix } = state.activeAutocomplete;\n  if (!search || !match || !filteredItems) {\n    return;\n  }\n  // eslint-disable-next-line require-atomic-updates\n  input.value = [\n    text.slice(0, match.index),\n    prefix,\n    item.name,\n    suffix,\n    text.slice((match.index ?? 0) + match[0].length),\n  ].join(\"\");\n  closeAutocomplete();\n};\n\nconst autocompleteSearchControlHandler = async (\n  event: KeyboardEvent\n): Promise<void> => {\n  if (!event.target) {\n    return;\n  }\n  if (!state.activeAutocomplete) {\n    return;\n  }\n  if (![\"Enter\", \"ArrowDown\", \"ArrowUp\", \"Escape\"].includes(event.key)) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const input = event.target as HTMLInputElement;\n  const { filteredItems, search, match } = await processInput(input);\n  if (!search || !match || !filteredItems) {\n    closeAutocomplete();\n    return;\n  }\n  // eslint-disable-next-line unicorn/prefer-switch\n  if (event.key === \"Enter\") {\n    closeAutocomplete();\n    await applyInput(input, filteredItems[state.currentIndex]);\n  } else if (event.key === \"ArrowDown\") {\n    state.currentIndex = Math.min(\n      state.currentIndex + 1,\n      filteredItems.length - 1\n    );\n    renderAutocomplete(input, filteredItems);\n  } else if (event.key === \"ArrowUp\") {\n    state.currentIndex = Math.max(state.currentIndex - 1, 0);\n    renderAutocomplete(input, filteredItems);\n  } else if (event.key === \"Escape\") {\n    closeAutocomplete();\n  }\n};\n\nconst autocompleteSearchItemHandler = async (\n  event: KeyboardEvent\n): Promise<void> => {\n  if (!event.target) {\n    return;\n  }\n  const input = event.target as HTMLInputElement;\n  const { filteredItems, match } = await processInput(input);\n  if (!match || !filteredItems) {\n    closeAutocomplete();\n    return;\n  }\n  renderAutocomplete(input, filteredItems);\n};\n\nconst closeAutocomplete = (): void => {\n  document.querySelector(\".fh-autocomplete\")?.remove();\n};\n\nconst renderAutocomplete = (\n  input: HTMLInputElement,\n  items: BasicEntity[]\n): void => {\n  closeAutocomplete();\n  const offset = input.getBoundingClientRect();\n  const wrapper = document.createElement(\"div\");\n  wrapper.classList.add(\"fh-autocomplete\");\n  wrapper.style.position = \"fixed\";\n  wrapper.style.top = `${offset.top + offset.height}px`;\n  wrapper.style.left = `${offset.left}px`;\n  wrapper.style.width = `${offset.width}px`;\n  wrapper.style.maxHeight = `${\n    window.innerHeight - offset.top - offset.height\n  }px`;\n  wrapper.style.zIndex = \"99999\";\n  wrapper.innerHTML = `\n    ${items\n      .map(\n        ({ name, image }, index) => `\n          <div\n            class=\"fh-autocomplete-item\"\n            data-index=\"${index}\"\n            style=\"\n              display: flex;\n              align-items: center;\n              color: white;\n              gap: 5px;\n              width: 100%;\n              cursor: pointer;\n              padding: 8px;\n              background-color: ${\n                index === state.currentIndex\n                  ? BUTTON_BLUE_BACKGROUND\n                  : BACKGROUND_DARK\n              };\n            \"\n          >\n            <img\n              src=\"${image}\"\n              style=\"\n                width: 25px;\n                height: 25px;\n              \">\n            ${name}\n          </div>\n        `\n      )\n      .join(\"\")}\n  `;\n  for (const item of wrapper.querySelectorAll<HTMLElement>(\n    \".fh-autocomplete-item\"\n  )) {\n    wrapper.addEventListener(\"click\", async () => {\n      closeAutocomplete();\n      await applyInput(input, items[Number(item.dataset.index)]);\n    });\n  }\n  document.body.append(wrapper);\n};\n\nexport const registerAutocomplete = (\n  autocomplete: AutocompleteConfig\n): void => {\n  state.autocompletes.push(autocomplete);\n};\n\nexport const registerInputListeners = (input: HTMLInputElement): void => {\n  input.addEventListener(\"keypress\", autocompleteSearchItemHandler);\n  input.addEventListener(\"keydown\", autocompleteSearchControlHandler);\n};\n\nexport const autocomplete: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        .fh-autocomplete-item:hover {\n          background-color: ${BUTTON_BLUE_BACKGROUND};\n        }\n      <style>\n    `\n    );\n  },\n  onChatLoad: () => {\n    for (const input of document.querySelectorAll<HTMLInputElement>(`\n      #mobilechatpanel input[type=\"text\"],\n      #desktopchatpanel input[type='text']\n    `)) {\n      registerInputListeners(input);\n    }\n  },\n};\n","interface BasePage {\n  href: string;\n  image: string;\n  name: string;\n  searchText: string;\n}\n\ninterface TownsfolkPage extends BasePage {\n  type: \"Townsfolk\";\n}\n\ninterface QuestlinePage extends BasePage {\n  type: \"Questline\";\n}\n\ninterface QuizPage extends BasePage {\n  type: \"Schoolhouse Quiz\";\n}\n\ninterface QuestPage extends BasePage {\n  type: null;\n}\n\ninterface ItemPage extends BasePage {\n  type: null;\n}\n\ninterface BuddyFarmPage extends BasePage {\n  type: null;\n}\n\ntype Page =\n  | TownsfolkPage\n  | QuestlinePage\n  | QuizPage\n  | QuestPage\n  | ItemPage\n  | BuddyFarmPage;\n\nexport interface Item {\n  __typename: \"FarmRPG_Item\";\n  baseYieldMinutes: number;\n  buyPrice: number;\n  canBuy: boolean;\n  canCook: boolean;\n  canCraft: boolean;\n  canMail: boolean;\n  cardsTrades: unknown[];\n  communityCenterOutputs: {\n    date: string;\n    inputItem: AbridgedItem;\n    inputQuantity: number;\n    outputQuantity: number;\n    progress: number;\n  }[];\n  cookingLevel: number;\n  cookingRecipeCookable: AbridgedItem;\n  cookingRecipeItem: AbridgedItem;\n  craftingLevel: number;\n  description: string;\n  dropRates: unknown[];\n  dropRatesItems: {\n    dropRates: {\n      ironDepot: boolean | null;\n      location: AbridgedLocation;\n      manualFishing: boolean | null;\n      runecube: boolean | null;\n      seed: boolean | null;\n    };\n    rate: number;\n  }[];\n  exchangeCenterInputs: {\n    inputQuantity: number;\n    lastSeen: string;\n    oneshot: false;\n    outputItem: AbridgedItem;\n    outputQuantity: number;\n  }[];\n  exchangeCenterOutputs: {\n    inputItem: AbridgedItem;\n    inputQuantity: number;\n    lastSeen: string;\n    oneshot: false;\n    outputQuantity: number;\n  }[];\n  fleaMarketPrice: number;\n  fleaMarketRotate: boolean;\n  id: number;\n  image: string;\n  locksmithGold: number;\n  locksmithGrabBag: boolean;\n  locksmithItems: {\n    outputItem: AbridgedItem;\n    quantityMax: number;\n    quantityMin: number;\n  }[];\n  locksmithKey: AbridgedItem;\n  locksmithKeyItems: unknown[];\n  locksmithOutputItems: {\n    item: AbridgedItem;\n    quantityMax: number;\n    quantityMin: number;\n  }[];\n  manualFishingOnly: boolean;\n  manualProductions: unknown[];\n  name: string;\n  npcItems: unknown[];\n  npcRewards: { level: number; quantity: number; npc: AbridgedNPC }[];\n  passwordItems: {\n    password: {\n      id: number;\n      password: string;\n    };\n    quantity: number;\n  }[];\n  petItems: { level: number; pet: AbridgedPet }[];\n  quizRewards: { quantity: number; quest: AbridgedQuest }[];\n  recipeIngredientItems: { item: AbridgedItem; quantity: number }[];\n  recipeItems: {\n    item: AbridgedItem;\n    quantity: number;\n  }[];\n  requiredForQuests: { quantity: number; quest: AbridgedQuest }[];\n  rewardForQuests: { quantity: number; quest: AbridgedQuest }[];\n  skillLevelRewards: {\n    itemQuantity: number;\n    level: number;\n    skill: \"cooking\" | \"crafting\" | \"farming\" | \"fishing\" | \"exploring\";\n  }[];\n  templeRewardItems: {\n    id: number;\n    quantity: number;\n    templeReward: { inputQuantity: number; inputItem: AbridgedItem };\n  }[];\n  towerRewards: { level: number; itemQuantity: number }[];\n  type: \"item\";\n  wishingWellInputItems: { chance: number; outputItem: AbridgedItem }[];\n  wishingWellOutputItems: { chance: number; inputItem: AbridgedItem }[];\n}\n\ntype AbridgedItem = Pick<Item, \"id\" | \"image\" | \"name\" | \"__typename\">;\n\ninterface Quest {\n  __typename: \"FarmRPG_Quest\";\n  id: number;\n  name: string;\n  image: string;\n  endDate: string | null;\n  isHidden: boolean;\n  requiredNpcLevel: number;\n}\n\ntype AbridgedQuest = Pick<\n  Quest,\n  \"name\" | \"image\" | \"__typename\" | \"requiredNpcLevel\"\n>;\n\ninterface Pet {\n  __typename: \"FarmRPG_Pet\";\n  name: string;\n  image: string;\n  cost: number;\n  petItems: {\n    level: number;\n    item: AbridgedItem;\n  }[];\n  requiredCookingLevel: number;\n  requiredCraftingLevel: number;\n  requiredFishingLevel: number;\n  requiredFarmingLevel: number;\n  requiredExploringLevel: number;\n}\n\ntype AbridgedPet = Pick<Pet, \"name\" | \"image\" | \"__typename\">;\n\ninterface NPC {\n  __typename: \"FarmRPG_NPC\";\n  name: string;\n  image: string;\n  npcItems: {\n    item: AbridgedItem;\n    relationship: \"hates\" | \"likes\" | \"loves\";\n  }[];\n  npcRewards: {\n    item: AbridgedItem;\n    level: number;\n    order: number;\n    quantity: number;\n  }[];\n  quests: AbridgedQuest[];\n}\n\ntype AbridgedNPC = Pick<NPC, \"name\" | \"image\" | \"__typename\">;\n\ninterface Location {\n  __typename: \"FarmRPG_Location\";\n  baseDropRate: number | null;\n  name: string;\n  image: string;\n  dropRates: {\n    ironDepot: boolean | null;\n    manualFishing: boolean | null;\n    runecube: boolean | null;\n    silverPerHit: number;\n    xpPerHit: number;\n    items: {\n      item: Pick<\n        Item,\n        \"__typename\" | \"name\" | \"image\" | \"id\" | \"manualFishingOnly\"\n      >;\n      rate: number;\n    }[];\n  }[];\n  type: \"fishing\" | \"explore\";\n}\n\ntype AbridgedLocation = Pick<\n  Location,\n  \"__typename\" | \"type\" | \"name\" | \"image\" | \"baseDropRate\"\n>;\n\nexport interface BasicEntity {\n  name: string;\n  image: string;\n}\n\ninterface PageData {\n  townsfolk: TownsfolkPage[];\n  questlines: QuestlinePage[];\n  quizzes: QuizPage[];\n  quests: QuestPage[];\n  items: ItemPage[];\n  pages: BuddyFarmPage[];\n}\n\nconst state: { pageData?: PageData; itemData: Record<string, Item> } = {\n  itemData: {},\n};\n\nexport const nameToSlug = (name: string): string =>\n  name.toLowerCase().replaceAll(/[\\s']/g, \"-\");\n\nexport const getPageData = async (): Promise<PageData> => {\n  if (state.pageData) {\n    return state.pageData;\n  }\n  state.pageData = {\n    townsfolk: [],\n    questlines: [],\n    quizzes: [],\n    quests: [],\n    items: [],\n    pages: [],\n  };\n  const response = await fetch(\"https://buddy.farm/search.json\");\n  const data = (await response.json()) as Page[];\n  for (const page of data) {\n    // eslint-disable-next-line unicorn/prefer-switch\n    if (page.type === \"Townsfolk\") {\n      state.pageData.townsfolk.push(page);\n    } else if (page.type === \"Questline\") {\n      state.pageData.questlines.push(page);\n    } else if (page.type === \"Schoolhouse Quiz\") {\n      state.pageData.quizzes.push(page);\n    } else if (page.href.startsWith(\"/q/\")) {\n      state.pageData.quests.push(page);\n    } else if (page.href.startsWith(\"/i/\")) {\n      state.pageData.items.push(page);\n    } else {\n      state.pageData.pages.push(page);\n    }\n  }\n  return state.pageData;\n};\n\ninterface PageDataResponse {\n  componentChunkName: string;\n  path: string;\n  result: {\n    data: {\n      farmrpg: {\n        items: Item[];\n      };\n    };\n    pageContext: {\n      id: number;\n      name: string;\n    };\n  };\n  slicesMap: unknown;\n  staticQueryHashes: unknown;\n}\n\nexport const getItemData = async (\n  itemName: string\n): Promise<Item | undefined> => {\n  if (state.itemData[itemName]) {\n    return state.itemData[itemName];\n  }\n  const response = await fetch(\n    `https://buddy.farm/page-data/i/${nameToSlug(itemName)}/page-data.json`\n  );\n  const data = (await response.json()) as PageDataResponse;\n  const item = data?.result?.data?.farmrpg?.items?.[0];\n  if (!item) {\n    console.error(`Item ${itemName} not found`);\n    return;\n  }\n  // eslint-disable-next-line require-atomic-updates\n  state.itemData[itemName] = item;\n  return item;\n};\n\nexport const getBasicItems = async (): Promise<BasicEntity[]> => {\n  const { items } = await getPageData();\n  return items.map(({ name, image }) => ({ name, image }));\n};\n","export const showConfirmation = (\n  message: string,\n  onYes: () => void,\n  onNo?: () => void\n): void => {\n  const overlay = document.createElement(\"div\");\n  overlay.classList.add(\"modal-overlay\");\n  overlay.classList.add(\"modal-overlay-visible\");\n  document.body.append(overlay);\n\n  const modal = document.createElement(\"div\");\n  modal.classList.add(\"actions-modal\");\n  modal.classList.add(\"modal-in\");\n  modal.innerHTML = `\n      <div class=\"actions-modal-group\">\n        <div class=\"actions-modal-label\">${message}</div>\n        <div class=\"actions-modal-button\">Yes</div>\n        <div class=\"actions-modal-button color-red\">Cancel</div>\n      </div>\n    `;\n  const buttons = modal.querySelectorAll(\".actions-modal-button\");\n  const yesButton = buttons[0];\n  yesButton.addEventListener(\"click\", () => {\n    overlay?.classList.remove(\"modal-overlay-visible\");\n    modal.remove();\n    onYes();\n  });\n  const noButton = buttons[1];\n  noButton.addEventListener(\"click\", () => {\n    overlay?.classList.remove(\"modal-overlay-visible\");\n    modal.remove();\n    onNo?.();\n  });\n  document.body.append(modal);\n};\n","import { getListByTitle, Page } from \"./page\";\n\ninterface State {\n  currentPerksSet?: PerkSet;\n  perkSets?: PerkSet[];\n}\n\nconst state: State = {};\n\nexport const sendRequest = async (\n  page: Page,\n  query?: URLSearchParams\n): Promise<Document> => {\n  const response = await fetch(\n    `https://farmrpg.com/${page}.php?${query ? query.toString() : \"\"}`,\n    {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n    }\n  );\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n  const htmlString = await response.text();\n  return new DOMParser().parseFromString(htmlString, \"text/html\");\n};\n\nexport interface Stats {\n  silver: number;\n  gold: number;\n  ancientCoins: number;\n}\n\nexport const getStats = async (): Promise<Stats> => {\n  const response = await sendRequest(\n    Page.WORKER,\n    new URLSearchParams({ go: \"getstats\" })\n  );\n  const parameters = response.querySelectorAll(\"span\");\n  const silver = Number(\n    parameters[0].textContent?.trim().replaceAll(\",\", \"\") ?? \"0\"\n  );\n  const gold = Number(\n    parameters[1].textContent?.trim().replaceAll(\",\", \"\") ?? \"0\"\n  );\n  const ancientCoins = Number(\n    parameters[2].textContent?.trim().replaceAll(\",\", \"\") ?? \"0\"\n  );\n  return { silver, gold, ancientCoins };\n};\n\nexport const depositSilver = async (amount: number): Promise<void> => {\n  await sendRequest(\n    Page.WORKER,\n    new URLSearchParams({ go: \"depositsilver\", amt: amount.toString() })\n  );\n};\n\nexport const withdrawSilver = async (amount: number): Promise<void> => {\n  await sendRequest(\n    Page.WORKER,\n    new URLSearchParams({ go: \"withdrawalsilver\", amt: amount.toString() })\n  );\n};\n\nexport const getMailboxCount = async (): Promise<number> => {\n  const response = await sendRequest(\n    Page.WORKER,\n    new URLSearchParams({ go: \"mbcount\" })\n  );\n  return Number(response.body.textContent);\n};\n\ninterface MailboxContents {\n  from: string;\n  item: string;\n  count: number;\n}\n\nexport const getMailboxContents = async (): Promise<MailboxContents[]> => {\n  const response = await sendRequest(Page.POST_OFFICE);\n  const mailboxList = getListByTitle(\"Your Mailbox\", response.body);\n  const itemWrappers = mailboxList?.querySelectorAll(\".collectbtnnc\") ?? [];\n  const mailboxContents: MailboxContents[] = [];\n  for (const itemWrapper of itemWrappers) {\n    const from = itemWrapper.querySelector(\"span\")?.textContent ?? \"\";\n    const item = itemWrapper.querySelector(\"b\")?.textContent ?? \"\";\n    const count = Number(\n      itemWrapper.querySelector(\"font\")?.textContent?.replaceAll(\",\", \"\") ?? \"0\"\n    );\n    mailboxContents.push({ from, item, count });\n  }\n  return mailboxContents;\n};\n\nexport const collectMailbox = async (): Promise<void> => {\n  await sendRequest(\n    Page.WORKER,\n    new URLSearchParams({ go: \"collectallmailitems\" })\n  );\n};\n\nexport enum PerkActivity {\n  DEFAULT = \"Default\",\n  CRAFTING = \"Crafting\",\n  FISHING = \"Fishing\",\n  EXPLORING = \"Exploring\",\n  SELLING = \"Selling\",\n  FRIENDSHIP = \"Friendship\",\n  TEMPLE = \"Temple\",\n  LOCKSMITH = \"Locksmith\",\n  WHEEL = \"Wheel\",\n  UNKNOWN = \"Unknown\",\n}\n\nexport interface PerkSet {\n  name: string;\n  id: number;\n}\n\nexport const getPerkSets = async (): Promise<PerkSet[]> => {\n  if (state.perkSets) {\n    return state.perkSets;\n  }\n  const response = await sendRequest(Page.PERKS);\n  const setList = getListByTitle(\"My Perk Sets\", response.body);\n  const setWrappers = setList?.querySelectorAll(\".item-title\") ?? [];\n  const sets: PerkSet[] = [];\n  for (const setWrapper of setWrappers) {\n    const link = setWrapper.querySelector<HTMLAnchorElement>(\"a\");\n    const name = link?.textContent ?? \"\";\n    const id = Number(link?.dataset.id);\n    sets.push({ name, id });\n  }\n  // eslint-disable-next-line require-atomic-updates\n  state.perkSets = sets;\n  return sets;\n};\n\nexport const getActivityPerksSet = async (\n  activity: PerkActivity\n): Promise<PerkSet | undefined> => {\n  const sets = await getPerkSets();\n  return sets.find((set) => set.name === activity);\n};\n\nexport const getCurrentPerkSet = (): PerkSet | undefined =>\n  state.currentPerksSet;\n\nexport const isActivePerkSet = (set: PerkSet): boolean =>\n  getCurrentPerkSet()?.id === set.id;\n\nexport const resetPerks = async (): Promise<void> => {\n  await sendRequest(Page.WORKER, new URLSearchParams({ go: \"resetperks\" }));\n};\n\nexport const activatePerkSet = async (set: PerkSet): Promise<void> => {\n  if (isActivePerkSet(set)) {\n    return;\n  }\n  console.debug(`Activating ${set.name} Perks`);\n  state.currentPerksSet = set;\n  await resetPerks();\n  await sendRequest(\n    Page.WORKER,\n    new URLSearchParams({ go: \"activateperkset\", id: set.id.toString() })\n  );\n  // eslint-disable-next-line require-atomic-updates\n};\n","import { Feature } from \"../features/feature\";\nimport { getCurrentPage } from \"~/utils/page\";\nimport { getData, setData } from \"../features/farmhandSettings\";\n\nconst KEY_NOTIFICATIONS = \"notifications\";\n\ninterface BaseNotification {\n  class?: string;\n  handlerName?: string;\n  id: string;\n  text: string;\n  replacesHref?: string;\n}\n\nexport type Notification<T> = BaseNotification & { data?: T };\n\ntype NotificationHandler = (notification: Notification<any>) => void;\n\nconst state: { notifications: Notification<any>[] } = {\n  notifications: [],\n};\n\nconst notificationHandlers = new Map<string, NotificationHandler>();\n\nexport const registerNotificationHandler = (\n  handlerName: string,\n  handler: (notification: Notification<any>) => void\n): void => {\n  notificationHandlers.set(handlerName, handler);\n};\n\nexport const sendNotification = async <T>(\n  notification: Notification<T>\n): Promise<void> => {\n  state.notifications = [\n    ...state.notifications.filter(({ id }) => id !== notification.id),\n    notification,\n  ];\n  await setData(KEY_NOTIFICATIONS, state.notifications);\n  renderNotifications();\n};\n\nexport const removeNotification = async (\n  notification: Notification<any>\n): Promise<void> => {\n  state.notifications = state.notifications.filter(\n    ({ id }) => id !== notification.id\n  );\n  await setData(KEY_NOTIFICATIONS, state.notifications);\n  renderNotifications();\n};\n\nconst renderNotifications = (): void => {\n  const pageContent = getCurrentPage()?.querySelector(\".page-content\");\n  if (!pageContent) {\n    console.error(\"Page content not found\");\n    return;\n  }\n\n  // remove existing notifications\n  const notifications = document.querySelectorAll(\".fh-notification\");\n  if (notifications.length === state.notifications.length) {\n    return;\n  }\n  for (const notification of notifications) {\n    notification.remove();\n  }\n\n  // add new notifications\n  for (const notification of state.notifications) {\n    if (notification.replacesHref) {\n      getCurrentPage()\n        ?.querySelector<HTMLAnchorElement>(\n          `a[href=\"${notification.replacesHref}\"]`\n        )\n        ?.remove();\n    }\n    const notificationElement = document.createElement(\n      notification.handlerName ? \"a\" : \"span\"\n    );\n    notificationElement.classList.add(\"fh-notification\");\n    notificationElement.classList.add(\"button\");\n    if (notification.class) {\n      notificationElement.classList.add(notification.class);\n    }\n    notificationElement.textContent = notification.text;\n    notificationElement.addEventListener(\"click\", async (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      const handler = notificationHandlers.get(notification.handlerName ?? \"\");\n      if (handler) {\n        await handler(notification);\n      } else {\n        console.error(`Handler not found: ${notification.handlerName}`);\n      }\n      removeNotification(notification);\n      renderNotifications();\n    });\n    if (\n      pageContent.firstElementChild?.classList.contains(\"pull-to-refresh-layer\")\n    ) {\n      pageContent.insertBefore(notificationElement, pageContent.children[1]);\n    } else {\n      pageContent.prepend(notificationElement);\n    }\n  }\n};\n\nexport const notifications: Feature = {\n  onInitialize: async () => {\n    const savedNotifications = await getData<Notification<any>[]>(\n      KEY_NOTIFICATIONS,\n      []\n    );\n    state.notifications = savedNotifications;\n\n    const observer = new MutationObserver(renderNotifications);\n    const pages = document.querySelector(\".view-main .pages\");\n    if (!pages) {\n      console.error(\"Pages not found\");\n      return;\n    }\n    observer.observe(pages, { childList: true, subtree: true });\n  },\n};\n","export enum Page {\n  AREA = \"area\",\n  BANK = \"bank\",\n  FARMERS_MARKET = \"market\",\n  FISHING = \"fishing\",\n  FRIENDSHIP = \"npclevels\",\n  HOME = \"index-1\", // not a typo\n  ITEM = \"item\",\n  LOCKSMITH = \"locksmith\",\n  MAILBOX = \"mailbox\",\n  PERKS = \"perks\",\n  POST_OFFICE = \"postoffice\",\n  SETTINGS = \"settings\",\n  SETTINGS_OPTIONS = \"settings_options\",\n  TEMPLE = \"mailitems\", // not a typo\n  WHEEL = \"spin\",\n  WORKER = \"worker\",\n  WORKSHOP = \"workshop\",\n}\n\n// get page and parameters if any\nexport const getPage = (): [Page | undefined, URLSearchParams] => {\n  const currentPage = getCurrentPage();\n  const page = currentPage?.dataset.page as Page | undefined;\n  const parameters = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n  return [page, parameters];\n};\n\nexport const getPreviousPage = (): HTMLElement | null =>\n  document.querySelector(\".page-on-left\");\n\nexport const getCurrentPage = (): HTMLDivElement | null =>\n  document.querySelector(\n    \".page-on-center, .page-from-right-to-center, .view-main .page:only-child\"\n  );\n\nexport const setTitle = (title: string): void => {\n  const nav = document.querySelector(\".navbar-on-center\");\n  if (!nav) {\n    console.error(\"Navbar not found\");\n    return;\n  }\n  const text = nav?.querySelector(\"center\");\n  if (!text) {\n    console.error(\"Center text not found\");\n    return;\n  }\n  text.textContent = title;\n};\n\nexport const getTitle = (\n  searchTitle: string,\n  root?: HTMLElement\n): HTMLElement | null => {\n  const currentPage = root ?? getCurrentPage();\n  if (!currentPage) {\n    console.error(\"Current page not found\");\n    return null;\n  }\n  const titles = currentPage.querySelectorAll(\".content-block-title\");\n  const targetTitle = [...titles].find(\n    (title) => title.textContent === searchTitle\n  );\n  return (targetTitle as HTMLElement | undefined) ?? null;\n};\n\nexport const getCardByTitle = (\n  searchTitle: string,\n  root?: HTMLElement\n): HTMLElement | null => {\n  const targetTitle = getTitle(searchTitle, root);\n  if (!targetTitle) {\n    console.error(`${searchTitle} title not found`);\n    return null;\n  }\n  return targetTitle.nextElementSibling as HTMLElement | null;\n};\n\nexport const getListByTitle = (\n  searchTitle: string,\n  root?: HTMLElement\n): HTMLElement | null => {\n  const targetCard = getCardByTitle(searchTitle, root);\n  if (!targetCard) {\n    console.error(`${searchTitle} card not found`);\n    return null;\n  }\n  return targetCard.querySelector(\"ul\");\n};\n","export const showPopup = (title: string, description: string): Promise<void> =>\n  new Promise((resolve) => {\n    const overlay = document.createElement(\"div\");\n    overlay.classList.add(\"modal-overlay\");\n    overlay.classList.add(\"modal-overlay-visible\");\n    document.body.append(overlay);\n\n    const modal = document.createElement(\"div\");\n    modal.classList.add(\"modal\");\n    modal.classList.add(\"modal-in\");\n    modal.style.display = \"block\";\n    modal.style.marginTop = \"-62px\";\n    modal.innerHTML = `\n    <div class=\"modal-inner\">\n      <div class=\"modal-title\">${title}</div>\n      <div class=\"modal-text\">${description}</div>\n    </div>\n    <div class=\"modal-buttons modal-buttons-1\">\n      <span class=\"modal-button modal-button-bold\">OK</span>\n    </div>\n  `;\n    const okButton = modal.querySelector(\".modal-button\");\n    okButton?.addEventListener(\"click\", () => {\n      overlay?.classList.remove(\"modal-overlay-visible\");\n      modal.remove();\n      resolve();\n    });\n    document.body.append(modal);\n  });\n","// links\nexport const LINK_GREEN = \"#90EE90\";\nexport const LINK_RED = \"#ED143D\";\n\n// alerts\nexport const ALERT_YELLOW_BACKGROUND = \"#351C04\";\nexport const ALERT_YELLOW_BORDER = \"#41260D\";\n\n// text\nexport const TEXT_ERROR = \"#FF0000\";\nexport const TEXT_WARNING = \"#FFA500\";\nexport const TEXT_SUCCESS = \"#30D611\";\n\n// borders\nexport const BORDER_GRAY = \"#393939\";\n\n// buttons\nexport const BUTTON_GREEN_BACKGROUND = \"#003300\";\nexport const BUTTON_GREEN_BORDER = \"#006600\";\nexport const BUTTON_GREEN_DARK_BACKGROUND = \"#001900\";\nexport const BUTTON_GREEN_DARK_BORDER = \"#003300\";\nexport const BUTTON_ORANGE_BACKGROUND = \"#351C04\";\nexport const BUTTON_ORANGE_BORDER = \"#41260D\";\nexport const BUTTON_BLUE_BACKGROUND = \"#000040\";\nexport const BUTTON_BLUE_BORDER = \"#00007F\";\n\nexport const BACKGROUND_BLACK = \"#111111\";\nexport const BACKGROUND_DARK = \"#161718\";\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(217);\n",""],"names":[],"sourceRoot":""}