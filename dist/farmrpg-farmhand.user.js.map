{"version":3,"file":"farmrpg-farmhand.user.js","mappings":"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","sources":["webpack://farmrpg-farmhand/./src/api/buddyfarm/api.ts","webpack://farmrpg-farmhand/./src/api/buddyfarm/state.ts","webpack://farmrpg-farmhand/./src/api/farmrpg/api.ts","webpack://farmrpg-farmhand/./src/api/farmrpg/bank.ts","webpack://farmrpg-farmhand/./src/api/farmrpg/farm.ts","webpack://farmrpg-farmhand/./src/api/farmrpg/kitchen.ts","webpack://farmrpg-farmhand/./src/api/farmrpg/meals.ts","webpack://farmrpg-farmhand/./src/api/farmrpg/perks.ts","webpack://farmrpg-farmhand/./src/api/greasyfork/api.ts","webpack://farmrpg-farmhand/./src/api/state.ts","webpack://farmrpg-farmhand/./src/api/utils.ts","webpack://farmrpg-farmhand/./src/features/autocompleteItems.ts","webpack://farmrpg-farmhand/./src/features/autocompleteUsers.ts","webpack://farmrpg-farmhand/./src/features/banker.ts","webpack://farmrpg-farmhand/./src/features/buddyfarm.ts","webpack://farmrpg-farmhand/./src/features/chatNav.ts","webpack://farmrpg-farmhand/./src/features/cleanupExplore.ts","webpack://farmrpg-farmhand/./src/features/cleanupHome.ts","webpack://farmrpg-farmhand/./src/features/collapseItemImage.ts","webpack://farmrpg-farmhand/./src/features/compactSilver.ts","webpack://farmrpg-farmhand/./src/features/compressChat.ts","webpack://farmrpg-farmhand/./src/features/compressNavigation.ts","webpack://farmrpg-farmhand/./src/features/customNavigation.ts","webpack://farmrpg-farmhand/./src/features/dismissableChatBanners.ts","webpack://farmrpg-farmhand/./src/features/farmhandSettings.ts","webpack://farmrpg-farmhand/./src/features/fishInBarrel.ts","webpack://farmrpg-farmhand/./src/features/fleaMarket.ts","webpack://farmrpg-farmhand/./src/features/harvestNotifications.ts","webpack://farmrpg-farmhand/./src/features/highlightSelfInChat.ts","webpack://farmrpg-farmhand/./src/features/kitchenNotifications.ts","webpack://farmrpg-farmhand/./src/features/linkifyQuickCraft.ts","webpack://farmrpg-farmhand/./src/features/maxContainers.ts","webpack://farmrpg-farmhand/./src/features/maxCows.ts","webpack://farmrpg-farmhand/./src/features/maxPigs.ts","webpack://farmrpg-farmhand/./src/features/mealNotifications.ts","webpack://farmrpg-farmhand/./src/features/moveUpdateToTop.ts","webpack://farmrpg-farmhand/./src/features/perkManagement.ts","webpack://farmrpg-farmhand/./src/features/questCollapse.ts","webpack://farmrpg-farmhand/./src/features/quests.ts","webpack://farmrpg-farmhand/./src/features/quickSellSafely.ts","webpack://farmrpg-farmhand/./src/features/vaultSolver.ts","webpack://farmrpg-farmhand/./src/features/versionManager.ts","webpack://farmrpg-farmhand/./src/index.ts","webpack://farmrpg-farmhand/./src/utils/array.ts","webpack://farmrpg-farmhand/./src/utils/autocomplete.ts","webpack://farmrpg-farmhand/./src/utils/confirmation.ts","webpack://farmrpg-farmhand/./src/utils/notifications.ts","webpack://farmrpg-farmhand/./src/utils/object.ts","webpack://farmrpg-farmhand/./src/utils/page.ts","webpack://farmrpg-farmhand/./src/utils/popup.ts","webpack://farmrpg-farmhand/./src/utils/theme.ts","webpack://farmrpg-farmhand/./src/utils/vault.ts","webpack://farmrpg-farmhand/webpack/bootstrap","webpack://farmrpg-farmhand/webpack/before-startup","webpack://farmrpg-farmhand/webpack/startup","webpack://farmrpg-farmhand/webpack/after-startup"],"sourcesContent":["import {\n  BasicEntity,\n  BuddyFarmPage,\n  Item,\n  nameToSlug,\n  BuddyFarmPageData as PageData,\n} from \"./state\";\nimport { CachedState, StorageKey } from \"../state\";\n\ninterface PageDataResponse {\n  componentChunkName: string;\n  path: string;\n  result: {\n    data: {\n      farmrpg: {\n        items: Item[];\n      };\n    };\n    pageContext: {\n      id: number;\n      name: string;\n    };\n  };\n  slicesMap: unknown;\n  staticQueryHashes: unknown;\n}\n\n// TODO cache this\nexport const getItemByName = async (\n  itemName: string\n): Promise<Item | undefined> => {\n  const response = await fetch(\n    `https://buddy.farm/page-data/i/${nameToSlug(itemName)}/page-data.json`\n  );\n  const data = (await response.json()) as PageDataResponse;\n  const item = data?.result?.data?.farmrpg?.items?.[0];\n  if (!item) {\n    console.error(`Item ${itemName} not found`);\n    return;\n  }\n  return item;\n};\n\nexport const getBasicItems = async (): Promise<BasicEntity[]> => {\n  const { items } = (await pageDataState.get()) ?? {};\n  return items?.map(({ name, image }) => ({ name, image })) ?? [];\n};\n\nexport const pageDataState = new CachedState<PageData>(\n  StorageKey.PAGE_DATA,\n  async () => {\n    const pages: PageData = {\n      townsfolk: [],\n      questlines: [],\n      quizzes: [],\n      quests: [],\n      items: [],\n      pages: [],\n    };\n    const response = await fetch(\"https://buddy.farm/search.json\");\n    const data = (await response.json()) as BuddyFarmPage[];\n    for (const page of data) {\n      // eslint-disable-next-line unicorn/prefer-switch\n      if (page.type === \"Townsfolk\") {\n        pages.townsfolk.push(page);\n      } else if (page.type === \"Questline\") {\n        pages.questlines.push(page);\n      } else if (page.type === \"Schoolhouse Quiz\") {\n        pages.quizzes.push(page);\n      } else if (page.href.startsWith(\"/q/\")) {\n        pages.quests.push(page);\n      } else if (page.href.startsWith(\"/i/\")) {\n        pages.items.push(page);\n      } else {\n        pages.pages.push(page);\n      }\n    }\n    return pages;\n  },\n  {\n    timeout: 60 * 60 * 24, // 1 day\n    defaultState: {\n      townsfolk: [],\n      questlines: [],\n      quizzes: [],\n      quests: [],\n      items: [],\n      pages: [],\n    },\n  }\n);\n","interface BasePage {\n  href: string;\n  image: string;\n  name: string;\n  searchText: string;\n}\n\ninterface TownsfolkPage extends BasePage {\n  type: \"Townsfolk\";\n}\n\ninterface QuestlinePage extends BasePage {\n  type: \"Questline\";\n}\n\ninterface QuizPage extends BasePage {\n  type: \"Schoolhouse Quiz\";\n}\n\ninterface QuestPage extends BasePage {\n  type: null;\n}\n\ninterface ItemPage extends BasePage {\n  type: null;\n}\n\ninterface CalculatorPage extends BasePage {\n  type: null;\n}\n\nexport type BuddyFarmPage =\n  | TownsfolkPage\n  | QuestlinePage\n  | QuizPage\n  | QuestPage\n  | ItemPage\n  | CalculatorPage;\n\nexport interface Item {\n  __typename: \"FarmRPG_Item\";\n  baseYieldMinutes: number;\n  buyPrice: number;\n  canBuy: boolean;\n  canCook: boolean;\n  canCraft: boolean;\n  canMail: boolean;\n  cardsTrades: unknown[];\n  communityCenterOutputs: {\n    date: string;\n    inputItem: AbridgedItem;\n    inputQuantity: number;\n    outputQuantity: number;\n    progress: number;\n  }[];\n  cookingLevel: number;\n  cookingRecipeCookable: AbridgedItem;\n  cookingRecipeItem: AbridgedItem;\n  craftingLevel: number;\n  description: string;\n  dropRates: unknown[];\n  dropRatesItems: {\n    dropRates: {\n      ironDepot: boolean | null;\n      location: AbridgedLocation;\n      manualFishing: boolean | null;\n      runecube: boolean | null;\n      seed: boolean | null;\n    };\n    rate: number;\n  }[];\n  exchangeCenterInputs: {\n    inputQuantity: number;\n    lastSeen: string;\n    oneshot: false;\n    outputItem: AbridgedItem;\n    outputQuantity: number;\n  }[];\n  exchangeCenterOutputs: {\n    inputItem: AbridgedItem;\n    inputQuantity: number;\n    lastSeen: string;\n    oneshot: false;\n    outputQuantity: number;\n  }[];\n  fleaMarketPrice: number;\n  fleaMarketRotate: boolean;\n  id: number;\n  image: string;\n  locksmithGold: number;\n  locksmithGrabBag: boolean;\n  locksmithItems: {\n    outputItem: AbridgedItem;\n    quantityMax: number;\n    quantityMin: number;\n  }[];\n  locksmithKey: AbridgedItem;\n  locksmithKeyItems: unknown[];\n  locksmithOutputItems: {\n    item: AbridgedItem;\n    quantityMax: number;\n    quantityMin: number;\n  }[];\n  manualFishingOnly: boolean;\n  manualProductions: unknown[];\n  name: string;\n  npcItems: unknown[];\n  npcRewards: { level: number; quantity: number; npc: AbridgedNPC }[];\n  passwordItems: {\n    password: {\n      id: number;\n      password: string;\n    };\n    quantity: number;\n  }[];\n  petItems: { level: number; pet: AbridgedPet }[];\n  quizRewards: { quantity: number; quest: AbridgedQuest }[];\n  recipeIngredientItems: { item: AbridgedItem; quantity: number }[];\n  recipeItems: {\n    item: AbridgedItem;\n    quantity: number;\n  }[];\n  requiredForQuests: { quantity: number; quest: AbridgedQuest }[];\n  rewardForQuests: { quantity: number; quest: AbridgedQuest }[];\n  skillLevelRewards: {\n    itemQuantity: number;\n    level: number;\n    skill: \"cooking\" | \"crafting\" | \"farming\" | \"fishing\" | \"exploring\";\n  }[];\n  templeRewardItems: {\n    id: number;\n    quantity: number;\n    templeReward: { inputQuantity: number; inputItem: AbridgedItem };\n  }[];\n  towerRewards: { level: number; itemQuantity: number }[];\n  type: \"item\";\n  wishingWellInputItems: { chance: number; outputItem: AbridgedItem }[];\n  wishingWellOutputItems: { chance: number; inputItem: AbridgedItem }[];\n}\n\ntype AbridgedItem = Pick<Item, \"id\" | \"image\" | \"name\" | \"__typename\">;\n\ninterface Quest {\n  __typename: \"FarmRPG_Quest\";\n  id: number;\n  name: string;\n  image: string;\n  endDate: string | null;\n  isHidden: boolean;\n  requiredNpcLevel: number;\n}\n\ntype AbridgedQuest = Pick<\n  Quest,\n  \"name\" | \"image\" | \"__typename\" | \"requiredNpcLevel\"\n>;\n\ninterface Pet {\n  __typename: \"FarmRPG_Pet\";\n  name: string;\n  image: string;\n  cost: number;\n  petItems: {\n    level: number;\n    item: AbridgedItem;\n  }[];\n  requiredCookingLevel: number;\n  requiredCraftingLevel: number;\n  requiredFishingLevel: number;\n  requiredFarmingLevel: number;\n  requiredExploringLevel: number;\n}\n\ntype AbridgedPet = Pick<Pet, \"name\" | \"image\" | \"__typename\">;\n\ninterface NPC {\n  __typename: \"FarmRPG_NPC\";\n  name: string;\n  image: string;\n  npcItems: {\n    item: AbridgedItem;\n    relationship: \"hates\" | \"likes\" | \"loves\";\n  }[];\n  npcRewards: {\n    item: AbridgedItem;\n    level: number;\n    order: number;\n    quantity: number;\n  }[];\n  quests: AbridgedQuest[];\n}\n\ntype AbridgedNPC = Pick<NPC, \"name\" | \"image\" | \"__typename\">;\n\ninterface Location {\n  __typename: \"FarmRPG_Location\";\n  baseDropRate: number | null;\n  name: string;\n  image: string;\n  dropRates: {\n    ironDepot: boolean | null;\n    manualFishing: boolean | null;\n    runecube: boolean | null;\n    silverPerHit: number;\n    xpPerHit: number;\n    items: {\n      item: Pick<\n        Item,\n        \"__typename\" | \"name\" | \"image\" | \"id\" | \"manualFishingOnly\"\n      >;\n      rate: number;\n    }[];\n  }[];\n  type: \"fishing\" | \"explore\";\n}\n\ntype AbridgedLocation = Pick<\n  Location,\n  \"__typename\" | \"type\" | \"name\" | \"image\" | \"baseDropRate\"\n>;\n\nexport interface BasicEntity {\n  name: string;\n  image: string;\n}\n\nexport interface BuddyFarmPageData {\n  townsfolk: TownsfolkPage[];\n  questlines: QuestlinePage[];\n  quizzes: QuizPage[];\n  quests: QuestPage[];\n  items: ItemPage[];\n  pages: BuddyFarmPage[];\n}\n\nexport const nameToSlug = (name: string): string =>\n  name.trim().toLowerCase().replaceAll(/[\\s']/g, \"-\");\n","import { CachedState, onFetchResponse, StorageKey, toUrl } from \"../state\";\nimport { FEATURES } from \"~/index\";\nimport { getDocument } from \"../utils\";\nimport { getSettings } from \"~/features/farmhandSettings\";\nimport { Page } from \"../../utils/page\";\n\nexport const requestHTML = async (\n  page: Page,\n  query?: URLSearchParams\n): Promise<Document> => {\n  const response = await fetch(toUrl(page, query), {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: \"include\",\n  });\n  return getDocument(response);\n};\n\nexport const requestJSON = async <T extends object>(\n  page: Page,\n  query?: URLSearchParams\n): Promise<T> => {\n  const response = await fetch(toUrl(page, query), {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: \"include\",\n  });\n  const settings = await getSettings(FEATURES);\n  onFetchResponse(settings, response);\n  return await response.json();\n};\n\nexport const timestampToDate = (timestamp: string): Date =>\n  new Date(`${timestamp}-05:00`);\n\n//   let skills = state.get(\"skills\");\n//   const skillsCard = getCardByTitle(\"My skills\", root);\n//   if (!skillsCard) {\n//     console.error(\"failed to find skills card\");\n//     return;\n//   }\n//   let cookingSkill = 0;\n//   let craftingSkill = 0;\n//   let exploringSkill = 0;\n//   let farmingSkill = 0;\n//   let fishingSkill = 0;\n//   let miningSkill = 0;\n//   for (const skillBlock of skillsCard.querySelectorAll(\".col-33\")) {\n//     let level = Number(skillBlock.textContent?.match(/Level (\\d+)/)?.[1] ?? 0);\n//     if (!level) {\n//       console.error(`failed to read skill level ${skillBlock.textContent}`);\n//       return;\n//     }\n//     // add incremental level based on progress\n//     level +=\n//       Number(\n//         skillBlock.querySelector<HTMLDivElement>(\".progressbar\")?.dataset\n//           .progress || \"0\"\n//       ) / 100;\n//     if (skillBlock.textContent?.includes(\"Cooking\")) {\n//       cookingSkill = level;\n//     } else if (skillBlock.textContent?.includes(\"Crafting\")) {\n//       craftingSkill = level;\n//     } else if (skillBlock.textContent?.includes(\"Exploring\")) {\n//       exploringSkill = level;\n//     } else if (skillBlock.textContent?.includes(\"Farming\")) {\n//       farmingSkill = level;\n//     } else if (skillBlock.textContent?.includes(\"Fishing\")) {\n//       fishingSkill = level;\n//     } else if (skillBlock.textContent?.includes(\"Mining\")) {\n//       miningSkill = level;\n//     }\n//     skills = {\n//       cooking: cookingSkill,\n//       crafting: craftingSkill,\n//       exploring: exploringSkill,\n//       farming: farmingSkill,\n//       fishing: fishingSkill,\n//       mining: miningSkill,\n//     };\n//   }\n\nexport const usernameState = new CachedState<string>(\n  StorageKey.USERNAME,\n  () =>\n    Promise.resolve(\n      document.querySelector(\"#logged_in_username\")?.textContent || undefined\n    ),\n  {\n    timeout: Number.POSITIVE_INFINITY, // never expire\n    persist: false,\n    defaultState: \"\",\n  }\n);\n\nexport const userIdState = new CachedState<number>(\n  StorageKey.USERNAME,\n  () => {\n    const userIdRaw = document.querySelector(\"#logged_in_userid\")?.textContent;\n    return Promise.resolve(userIdRaw ? Number(userIdRaw) : undefined);\n  },\n  {\n    timeout: Number.POSITIVE_INFINITY, // never expire\n    persist: false,\n    defaultState: -1,\n  }\n);\n\nexport const betaState = new CachedState<boolean>(\n  StorageKey.IS_BETA,\n  () =>\n    Promise.resolve(document.querySelector(\"#is_beta\")?.textContent === \"1\"),\n  {\n    timeout: Number.POSITIVE_INFINITY, // never expire\n    persist: false,\n    defaultState: false,\n  }\n);\n\nexport const darkModeState = new CachedState<boolean>(\n  StorageKey.IS_DARK_MODE,\n  () =>\n    Promise.resolve(document.querySelector(\"#dark_mode\")?.textContent === \"1\"),\n  {\n    timeout: Number.POSITIVE_INFINITY, // never expire\n    persist: false,\n    defaultState: false,\n  }\n);\n\nexport const musicState = new CachedState<boolean>(\n  StorageKey.IS_MUSIC_ENABLED,\n  () =>\n    Promise.resolve(document.querySelector(\"#dark_mode\")?.textContent === \"1\"),\n  {\n    timeout: Number.POSITIVE_INFINITY, // never expire\n    persist: false,\n    defaultState: true,\n  }\n);\n\nexport const chatState = new CachedState<boolean>(\n  StorageKey.IS_CHAT_ENABLED,\n  () => Promise.resolve(document.querySelector(\"#chat\")?.textContent === \"1\"),\n  {\n    timeout: Number.POSITIVE_INFINITY, // never expire\n    persist: false,\n    defaultState: true,\n  }\n);\n","import { CachedState, parseUrl, StorageKey } from \"../state\";\nimport { getDocument } from \"../utils\";\nimport { Page, WorkerGo } from \"../../utils/page\";\nimport { requestHTML } from \"./api\";\n\nexport interface Stats {\n  silver: number;\n  gold: number;\n  ancientCoins: number;\n}\n\nconst processStats = (root: Document): Stats => {\n  const matches = root.body.textContent?.match(\n    /[^\\d,]+([\\d,]+)[^\\d,]+([\\d,]+)[^\\d,]+([\\d,]+)/\n  );\n  if (!matches || matches.length < 4) {\n    return { silver: 0, gold: 0, ancientCoins: 0 };\n  }\n  const [_, silverMatch, goldMatch, ancientCoinsMatch] = matches;\n  const silver = Number(silverMatch.replaceAll(\",\", \"\"));\n  const gold = Number(goldMatch.replaceAll(\",\", \"\"));\n  const ancientCoins = Number(ancientCoinsMatch.replaceAll(\",\", \"\"));\n  return { silver, gold, ancientCoins };\n};\n\nexport const statsState = new CachedState<Stats>(\n  StorageKey.STATS,\n  async () => {\n    const response = await requestHTML(\n      Page.WORKER,\n      new URLSearchParams({ go: WorkerGo.GET_STATS })\n    );\n    return processStats(response);\n  },\n  {\n    interceptors: [\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.GET_STATS })],\n        callback: async (settings, state, previous, response) => {\n          state.set(processStats(await getDocument(response)));\n        },\n      },\n      {\n        match: [\n          Page.WORKER,\n          new URLSearchParams({ go: WorkerGo.DEPOSIT_SILVER }),\n        ],\n        callback: async (settings, state, previous, response) => {\n          const [_, query] = parseUrl(response.url);\n          if (!previous) {\n            return;\n          }\n          await state.set({\n            ...previous,\n            silver: previous.silver - Number(query.get(\"amt\")),\n          });\n        },\n      },\n      {\n        match: [\n          Page.WORKER,\n          new URLSearchParams({ go: WorkerGo.WITHDRAW_SILVER }),\n        ],\n        callback: async (settings, state, previous, response) => {\n          const [_, query] = parseUrl(response.url);\n          if (!previous) {\n            return;\n          }\n          await state.set({\n            ...previous,\n            silver: previous.silver + Number(query.get(\"amt\")),\n          });\n        },\n      },\n    ],\n    defaultState: {\n      silver: 0,\n      gold: 0,\n      ancientCoins: 0,\n    },\n  }\n);\n\nexport const depositSilver = async (amount: number): Promise<void> => {\n  await requestHTML(\n    Page.WORKER,\n    new URLSearchParams({ go: WorkerGo.DEPOSIT_SILVER, amt: amount.toString() })\n  );\n};\n\nexport const withdrawSilver = async (amount: number): Promise<void> => {\n  await requestHTML(\n    Page.WORKER,\n    new URLSearchParams({\n      go: WorkerGo.WITHDRAW_SILVER,\n      amt: amount.toString(),\n    })\n  );\n};\n","import { CachedState, StorageKey } from \"../state\";\nimport { getDocument } from \"../utils\";\nimport { getPage, Page, WorkerGo } from \"~/utils/page\";\nimport { Item } from \"../buddyfarm/state\";\nimport { requestHTML, requestJSON } from \"./api\";\nimport { SETTING_HARVEST_POPUP } from \"~/features/harvestNotifications\";\nimport { showPopup } from \"~/utils/popup\";\n\nexport interface FarmState {\n  id: number;\n  field?: {\n    rows?: number;\n    status?: string;\n    plots?: {\n      cropName?: string;\n      isGrowing: boolean;\n      isReady: boolean;\n      progress?: number;\n    }[];\n  };\n}\n\nexport enum CropStatus {\n  EMPTY = \"empty\",\n  GROWING = \"growing\",\n  READY = \"ready\",\n}\n\nexport interface FarmStatus {\n  status: CropStatus;\n  count: number;\n  readyAt: number;\n}\n\nconst processFarmStatus = (root: HTMLElement): FarmStatus | undefined => {\n  const statusText = root.textContent;\n  if (!statusText) {\n    return {\n      status: CropStatus.EMPTY,\n      count: 0,\n      readyAt: Number.POSITIVE_INFINITY,\n    };\n  }\n  // 36 READY!\n  const count = Number(statusText.split(\" \")[0]);\n  let status = CropStatus.EMPTY;\n  let readyAt = Number.POSITIVE_INFINITY;\n  if (statusText.toLowerCase().includes(\"growing\")) {\n    status = CropStatus.GROWING;\n    // new sure when ready, check again in a minute\n    readyAt = Date.now() + 60 * 1000;\n  } else if (statusText.toLowerCase().includes(\"ready\")) {\n    status = CropStatus.READY;\n    readyAt = Date.now();\n  }\n  return { status, count, readyAt };\n};\n\nconst processFarmPage = (root: HTMLElement): FarmStatus | undefined => {\n  const plots = root.querySelectorAll<HTMLAnchorElement>(\n    \"#croparea #crops .col-25\"\n  );\n  const count = plots.length;\n  let status = CropStatus.EMPTY;\n  let readyAt = Number.POSITIVE_INFINITY;\n  for (const plot of plots) {\n    const image = plot.querySelector<HTMLImageElement>(\"img\");\n    if (image?.style.opacity === \"1\") {\n      status = CropStatus.READY;\n      readyAt = Date.now();\n    } else if (status === CropStatus.EMPTY) {\n      status = CropStatus.GROWING;\n      readyAt = Math.min(\n        readyAt,\n        Date.now() + Number(image?.dataset.seconds ?? \"60\") * 1000\n      );\n    }\n  }\n  return { status, count, readyAt };\n};\n\nconst scheduledUpdates: Record<number, NodeJS.Timeout> = {};\n\nexport const farmStatusState = new CachedState<FarmStatus>(\n  StorageKey.FARM_STATUS,\n  async () => {\n    const response = await requestHTML(Page.FARM, new URLSearchParams());\n    return processFarmPage(response.body);\n  },\n  {\n    timeout: 5,\n    defaultState: {\n      status: CropStatus.EMPTY,\n      count: 4,\n      readyAt: Number.POSITIVE_INFINITY,\n    },\n    interceptors: [\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.READY_COUNT })],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          state.set(processFarmStatus(root.body));\n        },\n      },\n      {\n        match: [Page.FARM, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          await state.set(processFarmPage(root.body));\n        },\n      },\n      {\n        match: [Page.HOME_PATH, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          const linkStatus = root.body.querySelector<HTMLDivElement>(\n            \"a[href^='xfarm.php'] .item-after\"\n          );\n          if (!linkStatus) {\n            return;\n          }\n          await state.set(processFarmStatus(linkStatus));\n        },\n      },\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.FARM_STATUS })],\n        callback: async (settings, state, previous, response) => {\n          const raw = await response.text();\n          const rawPlots = raw.split(\";\");\n          if (rawPlots.length < (previous?.count ?? 4)) {\n            await state.set({ status: CropStatus.EMPTY });\n            return;\n          }\n          let status: CropStatus = CropStatus.EMPTY;\n          for (const plot of rawPlots) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const [plotId, percent, secondsLeft, secondsSince] =\n              plot.split(\"-\");\n            const percentReady = Number(percent);\n            if (percentReady === 100) {\n              status = CropStatus.READY;\n              break;\n            } else if (percentReady > 0) {\n              status = CropStatus.GROWING;\n            }\n          }\n          await state.set({ status });\n        },\n      },\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.HARVEST_ALL })],\n        callback: async (settings, state, previous, response) => {\n          await state.set({ status: CropStatus.EMPTY });\n          const { drops } = (await response.json()) as {\n            result: \"success\";\n            drops: Record<\n              Item[\"id\"],\n              {\n                name: Item[\"name\"];\n                img: string;\n                qty: number;\n              }\n            >;\n          };\n          const [page] = getPage();\n          if (page !== Page.FARM || settings[SETTING_HARVEST_POPUP.id].value) {\n            showPopup({\n              title: \"Harvested Crops\",\n              contentHTML: `\n              ${Object.values(drops)\n                .map(\n                  (drop) => `\n                    <img\n                      src=\"${drop.img}\"\n                      style=\"\n                        vertical-align: middle;\n                        width: 18px;\n                      \"\n                    >\n                    (x${drop.qty})\n                  `\n                )\n                .join(\"&nbsp;\")}\n            `,\n              actions: [\n                {\n                  name: \"Replant\",\n                  callback: async () => {\n                    const farmId = await farmIdState.get();\n                    if (!farmId) {\n                      console.error(\"No farm id found\");\n                      return;\n                    }\n                    if (page === Page.FARM) {\n                      document\n                        .querySelector<HTMLAnchorElement>(\".plantallbtn\")\n                        ?.click();\n                    } else {\n                      await requestHTML(\n                        Page.WORKER,\n                        new URLSearchParams({\n                          go: WorkerGo.PLANT_ALL,\n                          id: String(farmId),\n                        })\n                      );\n                    }\n                  },\n                },\n              ],\n            });\n          }\n        },\n      },\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.PLANT_ALL })],\n        callback: async (settings, state) => {\n          await state.set({ status: CropStatus.GROWING });\n        },\n      },\n    ],\n  }\n);\n\nconst updateStatus = async (): Promise<void> => {\n  const state = await farmStatusState.get({ doNotFetch: true });\n  if (!state) {\n    return;\n  }\n  if (state.readyAt < Date.now()) {\n    await farmStatusState.set({ status: CropStatus.READY });\n  }\n};\n\n// automatically update crops when finished\nfarmStatusState.onUpdate((state) => {\n  if (!state) {\n    return;\n  }\n  if (scheduledUpdates[state.readyAt]) {\n    return;\n  }\n  scheduledUpdates[state.readyAt] = setTimeout(\n    updateStatus,\n    state.readyAt - Date.now()\n  );\n});\n\nconst processFarmId = (root: HTMLElement): number | undefined => {\n  const farmIdRaw = root.querySelector(\"#farm\")?.textContent;\n  return farmIdRaw ? Number(farmIdRaw) : undefined;\n};\n\nexport const farmIdState = new CachedState<number>(\n  StorageKey.FARM_ID,\n  async () => {\n    const response = await requestHTML(Page.FARM, new URLSearchParams());\n    return processFarmId(response.body);\n  },\n  {\n    timeout: Number.POSITIVE_INFINITY,\n    defaultState: -1,\n    interceptors: [\n      {\n        match: [Page.FARM, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          await state.set(processFarmId(root.body));\n        },\n      },\n      {\n        match: [Page.HOME_PATH, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          const status = root.body.querySelector<HTMLDivElement>(\n            \"a[href^='xfarm.php'] .item-after span\"\n          );\n          if (!status) {\n            return;\n          }\n          await state.set(Number(status.dataset.id));\n        },\n      },\n    ],\n  }\n);\n\nexport const harvestAll = async (): Promise<void> => {\n  const farmId = await farmIdState.get();\n  await requestJSON(\n    Page.WORKER,\n    new URLSearchParams({ go: WorkerGo.HARVEST_ALL, id: String(farmId) })\n  );\n};\n","import { CachedState, StorageKey } from \"../state\";\nimport { getDocument } from \"../utils\";\nimport { Page, WorkerGo } from \"~/utils/page\";\nimport { requestHTML, timestampToDate } from \"./api\";\nimport { showPopup } from \"~/utils/popup\";\n\nexport enum OvenStatus {\n  EMPTY = \"empty\",\n  COOKING = \"cooking\",\n  ATTENTION = \"attention\",\n  READY = \"complete\",\n}\n\nexport interface KitchenStatus {\n  status: OvenStatus;\n  count: number;\n  checkAt: number;\n}\n\nconst processKitchenStatus = (root: HTMLElement | undefined): KitchenStatus => {\n  const statusText = root?.textContent;\n  if (!statusText) {\n    return {\n      status: OvenStatus.EMPTY,\n      count: 0,\n      checkAt: Number.POSITIVE_INFINITY,\n    };\n  }\n  // 36 READY!\n  const count = Number(statusText.split(\" \")[0]);\n  let status = OvenStatus.EMPTY;\n  let checkAt = Number.POSITIVE_INFINITY;\n  if (statusText.toLowerCase().includes(\"cooking\")) {\n    status = OvenStatus.COOKING;\n    checkAt = Date.now() + 60 * 1000;\n  } else if (statusText.toLowerCase().includes(\"attention\")) {\n    status = OvenStatus.ATTENTION;\n    checkAt = Date.now() + 60 * 1000;\n  } else if (statusText.toLowerCase().includes(\"ready\")) {\n    status = OvenStatus.READY;\n    checkAt = Number.POSITIVE_INFINITY;\n  }\n  return { status, count, checkAt };\n};\n\nconst processKitchenPage = (root: HTMLElement): KitchenStatus | undefined => {\n  const ovens = root.querySelectorAll<HTMLAnchorElement>(\"a[href^='oven.php']\");\n  const count = ovens.length;\n  let status = OvenStatus.EMPTY;\n  let checkAt = Number.POSITIVE_INFINITY;\n  for (const oven of ovens) {\n    const statusText = oven.querySelector<HTMLSpanElement>(\".item-after span\");\n    if (!statusText?.dataset.countdownTo) {\n      continue;\n    }\n    const doneDate = timestampToDate(statusText.dataset.countdownTo);\n    const now = new Date();\n    if (doneDate < now) {\n      status = OvenStatus.READY;\n      checkAt = Math.min(checkAt, Number.POSITIVE_INFINITY);\n      break;\n    }\n    const images = oven.querySelectorAll<HTMLImageElement>(\"img\");\n    if (\n      images.length > 1 &&\n      [OvenStatus.EMPTY, OvenStatus.COOKING].includes(status)\n    ) {\n      status = OvenStatus.ATTENTION;\n    } else if (status === OvenStatus.EMPTY) {\n      status = OvenStatus.COOKING;\n    }\n    checkAt = Math.min(checkAt, Date.now() + 60 * 1000);\n  }\n  return { status, count, checkAt };\n};\n\nconst scheduledUpdates: Record<number, NodeJS.Timeout> = {};\n\nexport const kitchenStatusState = new CachedState<KitchenStatus>(\n  StorageKey.KITHCEN_STATUS,\n  async () => {\n    const response = await requestHTML(Page.KITCHEN, new URLSearchParams());\n    return processKitchenPage(response.body);\n  },\n  {\n    timeout: 5,\n    defaultState: {\n      status: OvenStatus.EMPTY,\n      count: 0,\n      checkAt: Number.POSITIVE_INFINITY,\n    },\n    interceptors: [\n      {\n        match: [Page.HOME_PATH, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          const kitchenStatus = root?.querySelector<HTMLSpanElement>(\n            \"a[href='kitchen.php'] .item-after span\"\n          );\n          await state.set(processKitchenStatus(kitchenStatus || undefined));\n        },\n      },\n      {\n        match: [Page.KITCHEN, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          await state.set(processKitchenPage(root.body));\n        },\n      },\n      {\n        match: [\n          Page.WORKER,\n          new URLSearchParams({ go: WorkerGo.COLLECT_ALL_MEALS }),\n        ],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          const successCount =\n            root.body.textContent?.match(/success/g)?.length ?? 0;\n          if (successCount) {\n            showPopup({\n              title: \"Success!\",\n              contentHTML: `${successCount} meal${\n                successCount === 1 ? \"\" : \"s\"\n              } collected`,\n            });\n          }\n          await state.set({\n            status: OvenStatus.EMPTY,\n            checkAt: Number.POSITIVE_INFINITY,\n          });\n        },\n      },\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.COOK_ALL })],\n        callback: async (settings, state) => {\n          await state.set({\n            status: OvenStatus.COOKING,\n            checkAt: Date.now() + 60 * 1000,\n          });\n        },\n      },\n    ],\n  }\n);\n\nconst updateStatus = async (): Promise<void> => {\n  const state = await kitchenStatusState.get({ doNotFetch: true });\n  if (!state) {\n    return;\n  }\n  if (state.checkAt < Date.now()) {\n    await kitchenStatusState.get();\n  }\n};\n\n// automatically update crops when finished\nkitchenStatusState.onUpdate((state) => {\n  if (!state) {\n    return;\n  }\n  if (scheduledUpdates[state.checkAt]) {\n    return;\n  }\n  scheduledUpdates[state.checkAt] = setTimeout(\n    updateStatus,\n    state.checkAt - Date.now()\n  );\n});\n\nexport const collectAll = async (): Promise<void> => {\n  await requestHTML(\n    Page.WORKER,\n    new URLSearchParams({ go: WorkerGo.COLLECT_ALL_MEALS })\n  );\n};\n","import { CachedState, StorageKey } from \"../state\";\nimport { getDocument } from \"../utils\";\nimport { getListByTitle, Page, WorkerGo } from \"~/utils/page\";\nimport { requestHTML, timestampToDate } from \"./api\";\n\nexport interface ActiveMeal {\n  meal: string;\n  finishedAt: number;\n}\n\nexport interface MealsStatus {\n  meals: ActiveMeal[];\n}\n\nconst scheduledUpdates: Record<number, NodeJS.Timeout> = {};\n\nconst processMealStatus = (root: HTMLElement): MealsStatus => {\n  const mealList = getListByTitle(/Time-based Effects/, root);\n  if (!mealList) {\n    return { meals: [] };\n  }\n  const meals: ActiveMeal[] = [];\n  for (const mealWrapper of mealList.children) {\n    const mealName = mealWrapper.querySelector(\"strong\")?.textContent;\n    if (!mealName) {\n      continue;\n    }\n    const meal = mealName;\n    const countdown = mealWrapper.querySelector<HTMLSpanElement>(\n      \"[data-countdown-to]\"\n    );\n    const finishedAt = countdown?.dataset.countdownTo\n      ? timestampToDate(countdown.dataset.countdownTo).getTime()\n      : Date.now();\n    meals.push({ meal, finishedAt });\n  }\n  return { meals };\n};\n\nexport const mealsStatusState = new CachedState<MealsStatus>(\n  StorageKey.MEALS_STATUS,\n  async () => {\n    const response = await requestHTML(Page.HOME_PATH);\n    return processMealStatus(response.body);\n  },\n  {\n    defaultState: {\n      meals: [],\n    },\n    interceptors: [\n      {\n        match: [Page.HOME_PATH, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          const root = await getDocument(response);\n          await state.set(processMealStatus(root.body));\n        },\n      },\n      {\n        match: [Page.WORKER, new URLSearchParams({ go: WorkerGo.USE_ITEM })],\n        callback: async () => {\n          // request homepage to trigger meals state update\n          await requestHTML(Page.HOME_PATH);\n        },\n      },\n    ],\n  }\n);\n\nconst removeFinishedMeals = async (): Promise<void> => {\n  const state = await mealsStatusState.get({ doNotFetch: true });\n  await mealsStatusState.set({\n    meals: state?.meals.filter((meal) => meal.finishedAt < Date.now()) ?? [],\n  });\n};\n\n// automatically remove meals when finished\nmealsStatusState.onUpdate((state) => {\n  for (const meal of state?.meals ?? []) {\n    const { finishedAt } = meal;\n    if (scheduledUpdates[finishedAt]) {\n      continue;\n    }\n    scheduledUpdates[finishedAt] = setTimeout(\n      removeFinishedMeals,\n      finishedAt - Date.now()\n    );\n  }\n});\n","import { CachedState, parseUrl, StateQueryOptions, StorageKey } from \"../state\";\nimport { getDocument } from \"../utils\";\nimport { getListByTitle, Page, WorkerGo } from \"../../utils/page\";\nimport { requestHTML } from \"./api\";\n\nexport enum PerkActivity {\n  DEFAULT = \"Default\",\n  CRAFTING = \"Crafting\",\n  FISHING = \"Fishing\",\n  EXPLORING = \"Exploring\",\n  SELLING = \"Selling\",\n  FRIENDSHIP = \"Friendship\",\n  TEMPLE = \"Temple\",\n  LOCKSMITH = \"Locksmith\",\n  WHEEL = \"Wheel\",\n  UNKNOWN = \"Unknown\",\n}\n\nexport interface PerkSet {\n  name: string;\n  id: number;\n}\n\nexport interface PerksState {\n  currentPerkSetId?: number;\n  perkSets: PerkSet[];\n}\n\nconst processPerks = (root: Document): PerksState => {\n  const perkSets: PerkSet[] = [];\n  const setList = getListByTitle(\"My Perk Sets\", root.body);\n  const setWrappers = setList?.querySelectorAll(\".item-title\") ?? [];\n  let currentPerkSetId: number | undefined;\n  for (const setWrapper of setWrappers) {\n    const link = setWrapper.querySelector<HTMLAnchorElement>(\"a\");\n    const name = link?.textContent ?? \"\";\n    const id = Number(link?.dataset.id);\n    const isActive = setWrapper.querySelector(\".fa-check\");\n    if (isActive) {\n      currentPerkSetId = id;\n    }\n    perkSets.push({ name, id });\n  }\n  return { perkSets, currentPerkSetId };\n};\n\nexport const perksState = new CachedState<PerksState>(\n  StorageKey.PERKS_SETS,\n  async () => {\n    const response = await requestHTML(Page.PERKS);\n    return processPerks(response);\n  },\n  {\n    timeout: 60 * 60 * 24, // 1 day\n    defaultState: {\n      perkSets: [],\n      currentPerkSetId: undefined,\n    },\n    interceptors: [\n      {\n        match: [Page.PERKS, new URLSearchParams()],\n        callback: async (settings, state, previous, response) => {\n          await state.set(processPerks(await getDocument(response)));\n        },\n      },\n      {\n        match: [\n          Page.WORKER,\n          new URLSearchParams({ go: WorkerGo.ACTIVATE_PERK_SET }),\n        ],\n        callback: async (settings, state, previous, response) => {\n          const [_, query] = parseUrl(response.url);\n          await state.set({\n            currentPerkSetId: Number(query.get(\"id\")),\n          });\n        },\n      },\n    ],\n  }\n);\n\nexport const getActivityPerksSet = async (\n  activity: PerkActivity,\n  options?: StateQueryOptions\n): Promise<PerkSet | undefined> => {\n  const state = await perksState.get(options);\n  return state?.perkSets.find(({ name }) => name === activity);\n};\n\nexport const getCurrentPerkSet = async (\n  options?: StateQueryOptions\n): Promise<PerkSet | undefined> => {\n  const state = await perksState.get(options);\n  return state?.perkSets.find(({ id }) => id === state?.currentPerkSetId);\n};\n\nexport const isActivePerkSet = async (\n  set: PerkSet,\n  options?: StateQueryOptions\n): Promise<boolean> => {\n  const current = await getCurrentPerkSet(options);\n  return Boolean(current && current.id === set.id);\n};\n\nexport const resetPerks = async (): Promise<void> => {\n  const state = await perksState.get();\n  await requestHTML(\n    Page.WORKER,\n    new URLSearchParams({ go: WorkerGo.RESET_PERKS })\n  );\n  perksState.set({\n    perkSets: state?.perkSets ?? [],\n    currentPerkSetId: undefined,\n  });\n};\n\nexport const activatePerkSet = async (\n  set: PerkSet,\n  options?: StateQueryOptions\n): Promise<void> => {\n  if (await isActivePerkSet(set, options)) {\n    return;\n  }\n  console.debug(`Activating ${set.name} Perks`);\n  await resetPerks();\n  await requestHTML(\n    Page.WORKER,\n    new URLSearchParams({\n      go: WorkerGo.ACTIVATE_PERK_SET,\n      id: set.id.toString(),\n    })\n  );\n};\n","import { CachedState, StorageKey } from \"../state\";\nimport { corsFetch } from \"../utils\";\n\nexport const SCRIPT_URL =\n  \"https://greasyfork.org/en/scripts/497660-farm-rpg-farmhand\";\n\nexport const latestVersionState = new CachedState<string>(\n  StorageKey.LATEST_VERSION,\n  async (): Promise<string> => {\n    const response = await corsFetch(SCRIPT_URL);\n    const htmlString = await response.text();\n    const document = new DOMParser().parseFromString(htmlString, \"text/html\");\n    return (\n      document.querySelector(\"dd.script-show-version\")?.textContent || \"1.0.0\"\n    );\n  },\n  {\n    timeout: 60 * 60 * 24, // 1 day\n    defaultState: \"1.0.0\",\n  }\n);\n","import { isObject } from \"~/utils/object\";\nimport { Page } from \"~/utils/page\";\nimport { Responselike } from \"./utils\";\nimport { Settings } from \"~/features/feature\";\n\ntype InterceptableResponse = Response & { hasBeenIntercepted?: boolean };\n\ndeclare let fetchWorker: (\n  action: string,\n  parameters: Record<string, string | number | boolean>\n) => Promise<InterceptableResponse>;\n\nexport const parseUrl = (url: string): [Page, URLSearchParams] => {\n  // https://farmrpg.com/worker.php?cachebuster=271544&go=getchat&room=giveaways\n  const truncatedUrl = url.replace(\"https://farmrpg.com/\", \"\");\n  // worker.php?cachebuster=271544&go=getchat&room=giveaways\n  const [pageRaw, queryRaw] = truncatedUrl.split(\"?\");\n  const page = pageRaw.replace(\".php\", \"\") as Page;\n  // worker\n  const query = new URLSearchParams(queryRaw);\n  // cachebuster=271544&go=getchat&room=giveaways\n  return [page, query];\n};\n\nexport const urlMatches = (\n  url: string,\n  targetPage: Page,\n  targetQuery: URLSearchParams\n): boolean => {\n  const [page, query] = parseUrl(url);\n  if (page !== targetPage) {\n    return false;\n  }\n  for (const key of targetQuery.keys()) {\n    if (query.get(key) !== targetQuery.get(key)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const toUrl = (page: Page, query?: URLSearchParams): string => {\n  query = query ?? new URLSearchParams();\n  query.set(\"cachebuster\", Date.now().toString());\n  return `https://farmrpg.com/${page}.php?${query.toString()}`;\n};\n\nexport interface StateQueryOptions {\n  ignoreCache?: boolean;\n}\n\nexport enum StorageKey {\n  CHAT_BANNERS = \"chatBanners\",\n  CURRENT_PERKS_SET_ID = \"currentPerksSetId\",\n  FARM_ID = \"farmId\",\n  FARM_STATE = \"farmState\",\n  FARM_STATUS = \"farmStatus\",\n  IS_BETA = \"isBeta\",\n  IS_CHAT_ENABLED = \"isChatEnabled\",\n  IS_DARK_MODE = \"isDarkMode\",\n  IS_MUSIC_ENABLED = \"isMusicEnabled\",\n  ITEM_DATA = \"itemData\",\n  KITHCEN_STATUS = \"kitchenStatus\",\n  LATEST_VERSION = \"latestVersion\",\n  MAILBOX = \"mailbox\",\n  MEALS_STATUS = \"mealsStatus\",\n  PAGE_DATA = \"pageData\",\n  PERKS_SETS = \"perkSets\",\n  RECENT_UPDATE = \"recentUpdate\",\n  STATS = \"stats\",\n  USERNAME = \"username\",\n  USER_ID = \"userId\",\n}\n\nconst generateEmptyRootState = (): typeof rootState => {\n  const state = {} as typeof rootState;\n  for (const [_, value] of Object.entries(StorageKey)) {\n    state[value] = JSON.stringify(undefined);\n  }\n  return state;\n};\n\nconst rootState: Record<StorageKey, string | undefined> =\n  generateEmptyRootState();\n\nexport const queryInterceptors: [CachedState<any>, QueryInterceptor<any>][] =\n  [];\n\nexport const onFetchResponse = async (\n  settings: Settings,\n  response: Response\n): Promise<void> => {\n  // only check farmrpg URLs\n  if (!response.url.startsWith(\"https://farmrpg.com\")) {\n    return;\n  }\n\n  for (const [state, interceptor] of queryInterceptors) {\n    if (urlMatches(response.url, ...interceptor.match)) {\n      console.debug(`[STATE] fetch intercepted ${response.url}`, interceptor);\n      const previous = await state.get({ doNotFetch: true });\n      interceptor.callback(settings, state, previous, response);\n    }\n  }\n};\n\nexport const watchQueries = (settings: Settings): void => {\n  (function (open) {\n    XMLHttpRequest.prototype.open = function () {\n      this.addEventListener(\n        \"readystatechange\",\n        async function () {\n          if (this.readyState !== 4) {\n            return;\n          }\n          // only check farmrpg URLs\n          if (!this.responseURL.startsWith(\"https://farmrpg.com\")) {\n            return;\n          }\n          for (const [state, interceptor] of queryInterceptors) {\n            if (urlMatches(this.responseURL, ...interceptor.match)) {\n              console.debug(\n                `[STATE] XMLHttpRequest intercepted ${this.responseURL}`,\n                interceptor\n              );\n              const previous = await state.get({ doNotFetch: true });\n              interceptor.callback(settings, state, previous, {\n                headers: new Headers(),\n                ok: this.status >= 200 && this.status < 300,\n                redirected: false,\n                status: this.status,\n                statusText: this.statusText,\n                type: \"default\",\n                url: this.responseURL,\n                text: () => Promise.resolve(this.responseText),\n                json: () => Promise.resolve(JSON.parse(this.responseText)),\n                formData: () => Promise.resolve(new FormData()),\n                arrayBuffer: () => Promise.resolve(new ArrayBuffer(0)),\n                blob: () => Promise.resolve(new Blob([this.responseText])),\n              });\n            }\n          }\n        },\n        false\n      );\n      // eslint-disable-next-line prefer-rest-params\n      Reflect.apply(open, this, arguments);\n    };\n  })(XMLHttpRequest.prototype.open);\n\n  const originalFetch = window.fetch as (\n    input: URL | RequestInfo,\n    init?: RequestInit | undefined\n  ) => Promise<InterceptableResponse>;\n  window.fetch = async (\n    input: URL | RequestInfo,\n    init?: RequestInit | undefined\n  ) => {\n    const response = await originalFetch(input, init);\n    if (!response.hasBeenIntercepted) {\n      response.hasBeenIntercepted = true;\n      onFetchResponse(settings, response.clone());\n    }\n    return response;\n  };\n\n  const originalFetchWorker = fetchWorker;\n  fetchWorker = async (action, parameters) => {\n    const response = await originalFetchWorker(action, parameters);\n    if (!response.hasBeenIntercepted) {\n      response.hasBeenIntercepted = true;\n      onFetchResponse(settings, response.clone());\n    }\n    return response;\n  };\n};\n\nexport interface CachedStateOptions<T>\n  extends Partial<Omit<CachedState<T>, \"key\" | \"fetch\">> {\n  defaultState: T;\n  interceptors?: QueryInterceptor<T>[];\n}\n\nexport interface QueryInterceptor<T> {\n  match: [Page, URLSearchParams];\n  callback: (\n    settings: Settings,\n    state: CachedState<T>,\n    previous: T,\n    response: Responselike\n  ) => Promise<void>;\n}\n\nexport interface CachedStateQueryOptions {\n  ignoreCache?: boolean;\n  doNotFetch?: boolean;\n}\n\ntype UpdateListener<T> = (value: T | undefined) => void;\n\nexport class CachedState<T> {\n  key: StorageKey;\n  defaultState: T;\n  timeout: number; // seconds\n  updatedAt: Date;\n  fetch: () => Promise<T | undefined>;\n  getting: Promise<T | undefined> | undefined;\n  updateListeners: UpdateListener<T>[];\n  persist: boolean;\n\n  constructor(\n    key: StorageKey,\n    fetch: CachedState<T>[\"fetch\"],\n    {\n      defaultState,\n      timeout,\n      updatedAt,\n      interceptors = [],\n      persist = true,\n    }: CachedStateOptions<T>\n  ) {\n    this.key = key;\n    this.defaultState = defaultState;\n    this.updatedAt = updatedAt ?? new Date(0);\n    this.timeout = timeout ?? 60;\n    this.fetch = fetch;\n    this.updateListeners = [];\n    this.persist = persist;\n\n    for (const interceptor of interceptors) {\n      queryInterceptors.push([this, interceptor]);\n    }\n\n    rootState[this.key] = JSON.stringify(defaultState || undefined);\n    this.load();\n  }\n\n  onUpdate(callback: UpdateListener<T>): void {\n    this.updateListeners.push(callback);\n  }\n\n  async get({ ignoreCache, doNotFetch }: CachedStateQueryOptions = {}): Promise<\n    T | undefined\n  > {\n    if (this.getting) {\n      console.debug(`[STATE] Waiting for ${this.key} fetch`, this.getting);\n      return await this.getting;\n    }\n    this.getting = new Promise<T | undefined>((resolve) => {\n      if (\n        !doNotFetch &&\n        (!rootState[this.key] ||\n          ignoreCache ||\n          this.updatedAt.getTime() + this.timeout * 1000 < Date.now())\n      ) {\n        console.debug(\n          `[STATE] %cFetching ${this.key}`,\n          {\n            ignoreCache,\n            updatedAt: this.updatedAt,\n            timeout: this.timeout,\n            previous: rootState[this.key],\n          },\n          \"background-color: red; color: white;\"\n        );\n        this.fetch().then((result) => {\n          this.set(result);\n          resolve(result);\n        });\n      } else {\n        // console.debug(`[STATE] Returning cached ${this.key}`, {\n        //   ignoreCache,\n        //   updatedAt: this.updatedAt,\n        //   timeout: this.timeout,\n        //   previous: rootState[this.key],\n        // });\n        const raw = rootState[this.key];\n        resolve(raw ? JSON.parse(raw) : undefined);\n      }\n    });\n    const result = await this.getting;\n    this.getting = undefined;\n    return result;\n  }\n\n  async set(input: Partial<T> | undefined): Promise<void> {\n    const previous = await this.get({ doNotFetch: true });\n    const value: T = isObject(this.defaultState)\n      ? { ...this.defaultState, ...previous, ...input }\n      : ((input ?? previous ?? this.defaultState) as T);\n    console.debug(`[STATE] Setting ${this.key}`, value);\n    const encoded = JSON.stringify(value);\n    this.updatedAt = value === undefined ? new Date(0) : new Date();\n    rootState[this.key] = encoded;\n    for (const listener of this.updateListeners) {\n      listener(value);\n    }\n    if (this.persist) {\n      await GM.setValue(\n        this.key,\n        JSON.stringify([this.updatedAt.getTime(), encoded])\n      );\n    }\n  }\n\n  async load(): Promise<void> {\n    if (!this.persist) {\n      return;\n    }\n\n    const raw = (await GM.getValue(this.key)) as string;\n    if (!raw) {\n      return;\n    }\n\n    const result = JSON.parse(raw);\n    if (\n      !Array.isArray(result) ||\n      result.length !== 2 ||\n      typeof result[0] !== \"number\" ||\n      typeof result[1] !== \"string\"\n    ) {\n      await this.set(this.defaultState);\n      return;\n    }\n    const [timestamp, encoded] = result;\n    this.updatedAt = new Date(timestamp);\n    rootState[this.key] = encoded;\n  }\n\n  reset(): Promise<void> {\n    return this.set(this.defaultState);\n  }\n}\n","export type Responselike = Omit<Response, \"clone\" | \"body\" | \"bodyUsed\">;\n\nexport const corsFetch = (\n  url: string,\n  options?: Partial<GM.Request<any>>\n): Promise<Responselike> =>\n  new Promise((resolve, reject) => {\n    GM.xmlHttpRequest({\n      ...options,\n      method: options?.method ?? \"GET\",\n      url,\n      onload: (response) => {\n        resolve({\n          headers: new Headers(),\n          ok: response.status >= 200 && response.status < 300,\n          redirected: url !== response.finalUrl,\n          status: response.status,\n          statusText: response.statusText,\n          type: \"default\",\n          url: response.finalUrl,\n          text: () => Promise.resolve(response.responseText),\n          json: () => Promise.resolve(JSON.parse(response.responseText)),\n          formData: () => Promise.resolve(new FormData()),\n          arrayBuffer: () => Promise.resolve(new ArrayBuffer(0)),\n          blob: () => Promise.resolve(new Blob([response.responseText])),\n        });\n      },\n      onerror: reject,\n      onabort: reject,\n      ontimeout: reject,\n    });\n  });\n\nexport const getDocument = async (\n  response: Responselike\n): Promise<Document> => {\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n  const htmlString = await response.text();\n  return new DOMParser().parseFromString(htmlString, \"text/html\");\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getBasicItems } from \"~/api/buddyfarm/api\";\nimport { registerAutocomplete } from \"~/utils/autocomplete\";\n\nexport const SETTING_AUTOCOMPLETE_ITEMS: FeatureSetting = {\n  id: \"autocompleteItems\",\n  title: \"Chat: Autocomplete ((items))\",\n  description: \"Auto-complete item names in chat\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const autocompleteItems: Feature = {\n  settings: [SETTING_AUTOCOMPLETE_ITEMS],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_AUTOCOMPLETE_ITEMS.id].value) {\n      return;\n    }\n    registerAutocomplete({\n      trigger: /\\(\\(([^]+)/,\n      getItems: getBasicItems,\n      prefix: \"((\",\n      suffix: \"))\",\n      bail: (text) => (text.match(/(\\(\\(|\\)\\))/g)?.length ?? 0) % 2 === 0,\n    });\n  },\n};\n","import { BasicEntity } from \"~/api/buddyfarm/state\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { registerAutocomplete } from \"~/utils/autocomplete\";\n\nexport const SETTING_AUTOCOMPLETE_USERS: FeatureSetting = {\n  id: \"autocompleteUsers\",\n  title: \"Chat: Autocomplete @Users:\",\n  description: \"Auto-complete usernames in chat\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const getUsers = (): BasicEntity[] => {\n  const users: Record<string, BasicEntity> = {};\n  const messages = document.querySelectorAll(\".chat-txt\");\n  for (const message of messages) {\n    const image =\n      message.querySelector<HTMLImageElement>(\".chip-media img\")?.src ?? \"\";\n    const username = message.querySelector(\".chip-label a\")?.textContent;\n    if (username && !users[username]) {\n      users[username] = { name: username, image };\n    }\n  }\n  return Object.values(users);\n};\n\nexport const autocompleteUsers: Feature = {\n  settings: [SETTING_AUTOCOMPLETE_USERS],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_AUTOCOMPLETE_USERS.id].value) {\n      return;\n    }\n    registerAutocomplete({\n      trigger: /@([^]+)/,\n      getItems: async () => await getUsers(),\n      prefix: \"@\",\n      suffix: \":\",\n      bail: (text) => (text.match(/(@|:)/g)?.length ?? 0) % 2 === 0,\n    });\n  },\n};\n","import { depositSilver, withdrawSilver } from \"~/api/farmrpg/bank\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport {\n  getCardByTitle,\n  getCurrentPage,\n  getListByTitle,\n  Page,\n} from \"~/utils/page\";\nimport { showConfirmation } from \"~/utils/confirmation\";\nimport { showPopup } from \"~/utils/popup\";\nimport { TEXT_SUCCESS, TEXT_WARNING } from \"~/utils/theme\";\n\nexport const SETTING_BANKER: FeatureSetting = {\n  id: \"banker\",\n  title: \"Bank: Banker\",\n  description: `\n    * Automatically calculates your target balance (minimum balance required to maximize your daily interest)<br>\n    * Adds an option *Deposit Target Balance* which deposits up to your target balance<br>\n    * Adds an option to *Withdraw Interest* which withdraws any earnings on top of your target balance\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const banker: Feature = {\n  settings: [SETTING_BANKER],\n  onPageLoad: (settings, page) => {\n    // make sure the banker is enabled\n    if (!settings[SETTING_BANKER.id].value) {\n      return;\n    }\n\n    // make sure we are on the bank page\n    if (page !== Page.BANK) {\n      return;\n    }\n\n    // make sure page content has loaded\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    // get parameters\n    const aboutCard = getCardByTitle(\"About the bank\");\n    if (!aboutCard) {\n      console.error(\"About card not found\");\n      return;\n    }\n    const parameters = aboutCard.querySelectorAll(\"strong\");\n    const interestRate =\n      Number(parameters[0].textContent?.replaceAll(\"%\", \"\")) / 100;\n    const maxInterest = Number(parameters[1].textContent?.replaceAll(\",\", \"\"));\n    const balanceCard = aboutCard.nextElementSibling;\n    if (!balanceCard) {\n      console.error(\"balance card not found\");\n      return;\n    }\n    const balanceParameters = balanceCard.querySelectorAll(\"strong\");\n    const balance = Number(\n      balanceParameters[0].textContent\n        ?.replaceAll(\",\", \"\")\n        .replaceAll(\" Silver\", \"\")\n    );\n\n    const formatter = new Intl.NumberFormat();\n\n    // calculate target balance\n    const targetBalance = Math.ceil(maxInterest / interestRate);\n    let targetBalanceDiv = document.querySelector(\".fh-banker-target-balance\");\n    if (!targetBalanceDiv) {\n      targetBalanceDiv = document.createElement(\"div\");\n      targetBalanceDiv.classList.add(\"card-content-inner\");\n      targetBalanceDiv.classList.add(\"fh-banker-target-balance\");\n      targetBalanceDiv.innerHTML = `\n      Target Balance: <strong style=\"color: ${\n        targetBalance === balance ? TEXT_SUCCESS : TEXT_WARNING\n      }\">${formatter.format(targetBalance)} Silver</strong>\n    `;\n      balanceCard.firstElementChild?.append(targetBalanceDiv);\n    }\n\n    const availableInterest = Math.max(0, balance - targetBalance);\n\n    // use title to find the bulk options section\n    const bulkOptionsList = getListByTitle(\"Bulk Options\");\n    if (!bulkOptionsList) {\n      console.error(\"Bulk Options list not found\");\n      return;\n    }\n\n    // deposit target balance button\n    let depositTargetLi = document.querySelector(\".fh-banker-deposit-target\");\n    if (!depositTargetLi) {\n      const missingFromTarget = Math.max(0, targetBalance - balance);\n      depositTargetLi = document.createElement(\"li\");\n      depositTargetLi.innerHTML = `\n      <a\n        href=\"#\"\n        data-view=\".view-main\"\n        class=\"item-link close-panel fh-banker-deposit-target\"\n      >\n        <div class=\"item-content\">\n          <div class=\"item-inner\">\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-arrow-right\"></i>\n              Deposit Target Balance\n            </div>\n            <div class=\"item-after\">${formatter.format(\n              missingFromTarget\n            )} Silver</div>\n          </div>\n        </div>\n      </a>\n    `;\n      depositTargetLi.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        if (missingFromTarget === 0) {\n          return;\n        }\n        showConfirmation(\n          `Deposit ${formatter.format(missingFromTarget)} Silver?`,\n          async () => {\n            await depositSilver(missingFromTarget);\n            await showPopup({\n              title: \"Success!\",\n              contentHTML: \"You deposited Silver!\",\n            });\n            window.location.reload();\n          }\n        );\n      });\n      bulkOptionsList.insertBefore(\n        depositTargetLi,\n        // eslint-disable-next-line unicorn/prefer-at\n        bulkOptionsList.children[bulkOptionsList.children.length - 1]\n      );\n    }\n\n    // withdraw interest button\n    let withdrawInterestLi = document.querySelector(\n      \".fh-banker-withdraw-interest\"\n    );\n    if (!withdrawInterestLi) {\n      withdrawInterestLi = document.createElement(\"li\");\n      withdrawInterestLi.innerHTML = `\n      <a\n        href=\"#\"\n        data-view=\".view-main\"\n        class=\"item-link close-panel fh-banker-withdraw-interest\"\n      >\n        <div class=\"item-content\">\n          <div class=\"item-inner\">\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-arrow-left\"></i>\n              Withdraw Interest\n            </div>\n            <div class=\"item-after\">${formatter.format(\n              availableInterest\n            )} Silver</div>\n          </div>\n        </div>\n      </a>\n    `;\n      withdrawInterestLi.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        if (availableInterest === 0) {\n          return;\n        }\n        showConfirmation(\n          `Withdraw ${formatter.format(availableInterest)} Silver?`,\n          async () => {\n            await withdrawSilver(availableInterest);\n            await showPopup({\n              title: \"Success!\",\n              contentHTML: \"You withdrew Silver!\",\n            });\n            window.location.reload();\n          }\n        );\n      });\n      bulkOptionsList.insertBefore(\n        withdrawInterestLi,\n        // eslint-disable-next-line unicorn/prefer-at\n        bulkOptionsList.children[bulkOptionsList.children.length - 1]\n      );\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCardByTitle, getCurrentPage, Page } from \"~/utils/page\";\nimport { nameToSlug } from \"~/api/buddyfarm/state\";\n\nexport const SETTING_BUDDY_FARM: FeatureSetting = {\n  id: \"buddyFarm\",\n  title: \"Item: Buddy's Almanac\",\n  description: \"Add shortcut to look up items and quests on buddy.farm\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const buddyFarm: Feature = {\n  settings: [SETTING_BUDDY_FARM],\n  onPageLoad: (settings, page) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_BUDDY_FARM.id].value) {\n      return;\n    }\n\n    // make sure page content has loaded\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    // handle item pages\n    if (page === Page.ITEM) {\n      // find header to get item data\n      const itemHeader = document.querySelector(\".sharelink\");\n      if (!itemHeader) {\n        console.error(\"Item header not found\");\n        return;\n      }\n\n      // get name and link for item\n      const itemName = itemHeader.textContent ?? \"\";\n      const itemLink = `https://buddy.farm/q/${nameToSlug(itemName)}`;\n\n      // use title to find item details section\n      const titles = currentPage.querySelectorAll(\".content-block-title\");\n      const itemDetailsTitle = [...titles].find(\n        (title) => title.textContent === \"Item Details\"\n      );\n      const itemDetailsCard = itemDetailsTitle?.nextElementSibling;\n      const itemDetailsList = itemDetailsCard?.querySelector(\"ul\");\n      if (!itemDetailsList) {\n        console.error(\"Item Details list not found\");\n        return;\n      }\n\n      // remove existing link\n      document.querySelector(\".fh-buddyshortcut\")?.remove();\n\n      // create a new item detail for buddy.farm link\n      const buddyFarmLinkLi = document.createElement(\"li\");\n      buddyFarmLinkLi.classList.add(\"close-panel\");\n      buddyFarmLinkLi.classList.add(\"fh-buddyshortcut\");\n      buddyFarmLinkLi.innerHTML = `\n      <div class=\"item-content\">\n        <div class=\"item-media\">\n          <a\n            href=\"https://buddy.farm\"\n            onclick=\"window.open('https://buddy.farm', '_blank');return false;\"\n          >\n            <img src=\"https://buddy.farm/icons/icon-256x256.png\" class=\"itemimg\">\n          </a>\n        </div>\n        <div class=\"item-inner\">\n          <div class=\"item-title\">\n            Buddy's Almanac\n            <br><span style=\"font-size: 11px\">Lookup item on buddy.farm</span>\n          </div>\n          <div class=\"item-after\">\n            <a\n              href=\"${itemLink}\"\n              onclick=\"window.open('${itemLink}', '_blank');return false;\"\n              class=\"button btngreen\"\n              style=\"height:28px\"\n            >OPEN</a>\n          </div>\n        </div>\n      </div>\n    `;\n\n      // insert at top\n      itemDetailsList.insertBefore(buddyFarmLinkLi, itemDetailsList.firstChild);\n    }\n\n    // handle quest pages\n    if (page === Page.QUEST) {\n      // find header to get item data\n      const questHeader = currentPage.querySelector(\".item-title\");\n      if (!questHeader) {\n        console.error(\"Quest header not found\");\n        return;\n      }\n\n      // get name and link for item\n      const questName = questHeader.textContent ?? \"\";\n      const questLink = `https://buddy.farm/i/${nameToSlug(questName)}`;\n\n      // find last card to insert\n      const card =\n        getCardByTitle(\"This Help Request is Visible\") ??\n        getCardByTitle(\"This Help Request is Hidden\");\n      if (!card) {\n        console.error(\"last card not found\");\n        return;\n      }\n\n      // remove existing link\n      document.querySelector(\".fh-buddyshortcut\")?.remove();\n\n      // create a new item detail for buddy.farm link\n      const buddyFarmLink = document.createElement(\"div\");\n      buddyFarmLink.classList.add(\"list-block\");\n      buddyFarmLink.classList.add(\"fh-buddyshortcut\");\n      buddyFarmLink.innerHTML = `\n        <ul>\n          <li>\n            <div class=\"item-content\">\n              <div class=\"item-media\">\n                <a\n                  href=\"https://buddy.farm\"\n                  onclick=\"window.open('https://buddy.farm', '_blank');return false;\"\n                >\n                  <img src=\"https://buddy.farm/icons/icon-256x256.png\" class=\"itemimg\">\n                </a>\n              </div>\n              <div class=\"item-inner\">\n                <div class=\"item-title\">\n                  Buddy's Almanac\n                  <br><span style=\"font-size: 11px\">Lookup item on buddy.farm</span>\n                </div>\n                <div class=\"item-after\">\n                  <a\n                    href=\"${questLink}\"\n                    onclick=\"window.open('${questLink}', '_blank');return false;\"\n                    class=\"button btngreen\"\n                    style=\"height:28px\"\n                  >OPEN</a>\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n      `;\n\n      // insert at top\n      card.insertBefore(buddyFarmLink, card.firstChild);\n    }\n  },\n};\n","import { BACKGROUND_DARK } from \"~/utils/theme\";\nimport { Feature } from \"./feature\";\n\nconst openAutocomplete = (dropdown: HTMLDivElement): void => {\n  const currentLink =\n    document.querySelector<HTMLAnchorElement>(\".cclinkselected\");\n  const links = [\n    ...document.querySelectorAll<HTMLAnchorElement>(\n      \"#desktopchatpanel .cclink\"\n    ),\n  ];\n  if (!links || !currentLink) {\n    return;\n  }\n  links.sort((a, b) => a.textContent?.localeCompare(b.textContent ?? \"\") ?? 0);\n  const menu = document.createElement(\"div\");\n  menu.classList.add(\"fh-chatdropdown-menu\");\n  menu.style.display = \"flex\";\n  menu.style.flexDirection = \"column\";\n  menu.style.position = \"absolute\";\n  menu.style.top = \"100%\";\n  menu.style.left = \"0\";\n  menu.style.width = \"100%\";\n  menu.style.background = BACKGROUND_DARK;\n  menu.style.zIndex = \"9999\";\n  for (const link of links) {\n    if (link.dataset.channel === currentLink.dataset.channel) {\n      continue;\n    }\n    const option = document.createElement(\"div\");\n    option.textContent = link.textContent;\n    option.style.cursor = \"pointer\";\n    option.style.padding = \"10px\";\n    option.addEventListener(\"click\", () => {\n      link.click();\n      closeAutocomplete();\n    });\n    menu.append(option);\n  }\n  dropdown.append(menu);\n};\n\nconst closeAutocomplete = (): void => {\n  document.querySelector(\".fh-chatdropdown-menu\")?.remove();\n};\n\nexport const chatNav: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      `beforeend`,\n      `\n      <style>\n        /* Hide original chat nav */\n        .cclink {\n          display: none !important;\n        }\n      <style>\n    `\n    );\n  },\n  onChatLoad: () => {\n    const currentLink =\n      document.querySelector<HTMLAnchorElement>(\".cclinkselected\");\n    if (!currentLink) {\n      return;\n    }\n\n    const dropdowns = [\n      ...document.querySelectorAll<HTMLDivElement>(\".fh-chatdropdown\"),\n    ];\n\n    // create dropdowns if we haven't\n    if (dropdowns.length === 0) {\n      for (const title of document.querySelectorAll<HTMLDivElement>(\n        \".content-block-title.item-input\"\n      )) {\n        title.style.margin = \"0\";\n        title.style.marginTop = \"-5px\";\n        title.style.overflow = \"visible\";\n        title.style.display = \"flex\";\n\n        const dropdown = document.createElement(\"div\");\n        dropdown.classList.add(\"fh-chatdropdown\");\n        dropdown.style.cursor = \"pointer\";\n        dropdown.style.textTransform = \"titlecase\";\n        dropdown.style.width = \"calc(100% - 44px)\";\n        dropdown.style.height = \"44px\";\n        dropdown.style.display = \"flex\";\n        dropdown.style.alignContent = \"center\";\n        dropdown.style.justifyContent = \"center\";\n        dropdown.style.flexWrap = \"wrap\";\n        dropdowns.push(dropdown);\n        dropdown.addEventListener(\"click\", () => {\n          const menu = document.querySelector(\".fh-chatdropdown-menu\");\n          if (menu) {\n            closeAutocomplete();\n          } else {\n            openAutocomplete(title);\n          }\n        });\n        title.append(dropdown);\n\n        const refresh = document.createElement(\"i\");\n        refresh.classList.add(\"fa\");\n        refresh.classList.add(\"fw\");\n        refresh.classList.add(\"fa-refresh\");\n        refresh.style.cursor = \"pointer\";\n        refresh.style.width = \"44px\";\n        refresh.style.height = \"44px\";\n        refresh.style.display = \"flex\";\n        refresh.style.alignItems = \"center\";\n        refresh.style.justifyContent = \"center\";\n        refresh.addEventListener(\"click\", () => {\n          document.querySelector<HTMLAnchorElement>(\".cclinkselected\")?.click();\n        });\n        title.append(refresh);\n      }\n    }\n\n    // update dropdown content\n    for (const dropdown of dropdowns) {\n      if (dropdown.dataset.channel !== currentLink.dataset.channel) {\n        dropdown.innerHTML = `\n          ${currentLink.textContent}\n          <i class=\"fa fw fa-caret-down\" style=\"margin-left: 5px;\"></i>\n        `;\n        dropdown.dataset.channel = currentLink.dataset.channel;\n      }\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { Page } from \"~/utils/page\";\n\nexport const SETTING_EXPLORE_RESULTS: FeatureSetting = {\n  id: \"\",\n  title: \"Explore: Improved Layout\",\n  description: \"Larger icons and stable sort\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const cleanupExplore: Feature = {\n  settings: [SETTING_EXPLORE_RESULTS],\n  onPageLoad: (settings, page) => {\n    if (!page || ![Page.AREA, Page.FISHING].includes(page)) {\n      return;\n    }\n    if (!settings[SETTING_EXPLORE_RESULTS.id].value) {\n      return;\n    }\n\n    // get console\n    const console = document.querySelector(\"#consoletxt\");\n    if (!console) {\n      return;\n    }\n    const observer = new MutationObserver(() => {\n      const results = console.querySelector<HTMLSpanElement>(\n        \"span[style='font-size:11px']\"\n      );\n      if (!results) {\n        return;\n      }\n      const icons = results.querySelectorAll(\"img\");\n      if (!icons) {\n        return;\n      }\n      const sortedIcons = [...icons].sort((a, b) => a.src.localeCompare(b.src));\n\n      const improvedLayout = document.createElement(\"div\");\n      improvedLayout.style.display = \"flex\";\n      improvedLayout.style.flexWrap = \"wrap\";\n      improvedLayout.style.justifyContent = \"center\";\n      improvedLayout.style.alignItems = \"center\";\n      improvedLayout.style.gap = \"10px\";\n      improvedLayout.style.width = \"100%\";\n      improvedLayout.style.marginTop = \"10px\";\n      improvedLayout.innerHTML = `\n      ${sortedIcons\n        .map(\n          (icon) => `\n            <div style=\"display:flex; flex-direction:column; gap:4px; align-items:center;\">\n              <img src=\"${icon.src}\" style=\"${icon.getAttribute(\n            \"style\"\n          )};width:36px!important\">\n              <span style=\"text-size:13px;\">${icon.nextSibling?.textContent?.trim()}</span>\n            </div>\n          `\n        )\n        .join(\"\")}\n    `;\n      results.style.display = \"none\";\n      results.after(improvedLayout);\n    });\n    observer.observe(console, { childList: true });\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCardByTitle, Page } from \"~/utils/page\";\n\nexport const SETTING_HIDE_PLAYERS: FeatureSetting = {\n  id: \"homeHidePlayers\",\n  title: \"Home: Hide players\",\n  description: \"Hide Online, new, find players options\",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_HIDE_THEME: FeatureSetting = {\n  id: \"homeHideTheme\",\n  title: \"Home: Hide theme switcher\",\n  description: \"Hide theme switcher on homepage\",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_HIDE_FOOTER: FeatureSetting = {\n  id: \"homeHideFooter\",\n  title: \"Home: Hide footer\",\n  description: \"Hide footer (Privacy, CoC, T&C, Support) \",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_COMPRESS_SKILLS: FeatureSetting = {\n  id: \"homeCompressSkills\",\n  title: \"Home: Compress Skills\",\n  description: \"Hide Level 99 skills\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const cleanupHome: Feature = {\n  settings: [\n    SETTING_HIDE_PLAYERS,\n    SETTING_HIDE_THEME,\n    SETTING_HIDE_FOOTER,\n    SETTING_COMPRESS_SKILLS,\n  ],\n  onInitialize: (settings) => {\n    if (settings[SETTING_HIDE_PLAYERS.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Hide players card */\n            [data-page=\"${Page.HOME_PAGE}\"] .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title,\n            [data-page=\"${Page.HOME_PAGE}\"] .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title ~ .content-block-title + .card {\n              display: none !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    if (settings[SETTING_HIDE_THEME.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Hide theme switcher */\n            [data-page=\"${Page.HOME_PAGE}\"] .page-content > p:nth-of-type(1),\n            [data-page=\"${Page.HOME_PAGE}\"] .page-content > p:nth-of-type(2) {\n              display: none !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    if (settings[SETTING_HIDE_FOOTER.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            [data-page=\"${Page.HOME_PAGE}\"] .page-content > p:last-of-type,\n            [data-page=\"${Page.HOME_PAGE}\"] .page-content > div:last-of-type {\n              display: none !important;\n            }\n          <style>\n        `\n      );\n    }\n  },\n  onPageLoad: (settings, page) => {\n    if (page !== Page.HOME_PAGE) {\n      return;\n    }\n    if (!settings[SETTING_COMPRESS_SKILLS.id].value) {\n      return;\n    }\n\n    // get wrappers\n    const skillsCard = getCardByTitle(/my skills/i);\n    const skillsTitle = skillsCard?.previousElementSibling as\n      | HTMLDivElement\n      | undefined;\n    const skillsCardInner = skillsCard?.querySelector(\".card-content-inner\");\n    if (skillsCard && skillsTitle && skillsCardInner) {\n      // new row\n      const newRow = document.createElement(\"div\");\n      newRow.classList.add(\"row\");\n      newRow.style.marginBottom = \"0\";\n      newRow.style.display = \"flex\";\n      newRow.style.justifyContent = \"space-around\";\n      // get all skills\n      const skills = skillsCard?.querySelectorAll(\".col-33\");\n      let x99 = 0;\n      for (const skill of skills) {\n        const progress = skill.querySelector(\"div\");\n        if (!progress) {\n          continue;\n        }\n        if (progress.classList.contains(\"progressbar-infinite\")) {\n          x99++;\n        } else {\n          newRow.append(skill);\n        }\n      }\n      skillsCardInner.prepend(newRow);\n      newRow.nextElementSibling?.remove();\n      newRow.nextElementSibling?.remove();\n      skillsTitle.style.textTransform = \"none\";\n      skillsTitle.textContent = `MY SKILLS (${x99}x99)`;\n      const shinyBar = document.createElement(\"div\");\n      shinyBar.classList.add(\"progressbar-infinite\");\n      shinyBar.classList.add(\"color-multi\");\n      shinyBar.style.width = \"100%\";\n      skillsTitle.after(shinyBar);\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { Page } from \"~/utils/page\";\n\nexport const SETTING_COLLAPSE_ITEM: FeatureSetting = {\n  id: \"collapseItem\",\n  title: \"Item: Collapse Item Image\",\n  description: \"Move item image in header to save space\",\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const collapseItemImage: Feature = {\n  settings: [SETTING_COLLAPSE_ITEM],\n  onInitialize: (settings) => {\n    if (settings[SETTING_COLLAPSE_ITEM.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Hide item image and description */\n            [data-page=\"item\"] #img {\n              display: none !important;\n            }\n            \n            /* Hide first section title */\n            [data-page=\"item\"] #img + .content-block-title {\n              display: none !important;\n            }\n          </style>\n        `\n      );\n    }\n  },\n  onPageLoad: (settings, page) => {\n    // make sure we're on the item page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    const itemImage = document.querySelector<HTMLImageElement>(\"#img img\");\n    if (!itemImage) {\n      console.error(\"Item image not found\");\n      return;\n    }\n\n    // wait for animations\n    const sharelink = document.querySelector<HTMLDivElement>(\n      \".view-main .center .sharelink\"\n    );\n    if (!sharelink) {\n      return;\n    }\n    let smallImage = sharelink.querySelector<HTMLImageElement>(\"img\");\n    if (!smallImage) {\n      smallImage = document.createElement(\"img\");\n    }\n    sharelink.style.display = \"flex\";\n    sharelink.style.alignItems = \"center\";\n    sharelink.style.gap = \"10px\";\n    smallImage.src = itemImage.src;\n    smallImage.style.width = \"30px\";\n    sharelink.prepend(smallImage);\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_COMPACT_SILVER: FeatureSetting = {\n  id: \"compactSilver\",\n  title: \"Wallet: Compact silver\",\n  description: \"Display compact numbers for silver over 1M\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const compactSilver: Feature = {\n  onQuestLoad: () => {\n    const silver = document.querySelector<HTMLDivElement>(\n      \"#statszone span:first-child\"\n    );\n    if (!silver || !silver.textContent || silver.dataset.compactSilver) {\n      return;\n    }\n    const amount = Number(silver.textContent?.trim().replaceAll(\",\", \"\"));\n    if (Number.isNaN(amount)) {\n      return;\n    }\n    if (amount < 1_000_000) {\n      return;\n    }\n    const icon = silver.querySelector(\"img\");\n    silver.innerHTML =\n      amount > 1_000_000_000\n        ? `&nbsp;${(amount / 1_000_000_000).toFixed(1)}B&nbsp;&nbsp;`\n        : `&nbsp;${(amount / 1_000_000).toFixed(1)}M&nbsp;&nbsp;`;\n    silver.insertBefore(icon as Node, silver.firstChild);\n    silver.dataset.compactSilver = \"true\";\n  },\n};\n","import { BORDER_GRAY } from \"~/utils/theme\";\nimport { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_CHAT_COMPRESS: FeatureSetting = {\n  id: \"compressChat\",\n  title: \"Chat: Compress messages\",\n  description: \"Compress chat messages to make more visible at once\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const compressChat: Feature = {\n  settings: [SETTING_CHAT_COMPRESS],\n  onInitialize: (settings) => {\n    // move spacing from panel margin to message padding regardless of setting\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          .page-content {\n            padding-right: 0 !important; \n            margin-right: -2px !important;\n          }\n          #desktopchatpanel {\n            border-color: ${BORDER_GRAY};\n            border-top: 0 !important;\n          }\n          #mobilechatpanel .content-block,\n          #desktopchatpanel .content-block {\n            padding: 0 !important;\n          }\n          #mobilechatpanel .card,\n          #desktopchatpanel .card {\n            margin: 0 !important;\n          }\n          .chat-txt {\n            margin: 0 !important;\n            padding: 8px !important\n          }\n        <style>\n      `\n    );\n\n    // make sure setting is enabled\n    if (!settings[SETTING_CHAT_COMPRESS.id].value) {\n      return;\n    }\n\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* Reduce chat spacing */\n          .chat-txt {\n            margin: 0 !important;\n            padding: 4px !important\n          }\n\n          /* Hide timestamp */\n          .chat-txt span:first-of-type,\n          .chat-txt br:first-of-type {\n            display: none !important;\n          }\n        <style>\n      `\n    );\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_NAVIGATION_COMPRESS: FeatureSetting = {\n  id: \"compressNav\",\n  title: \"Menu: Reduce Whitespace\",\n  description: `Reduces whitespace in navigation to make space for more items`,\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTING_NAVIGATION_HIDE_LOGO: FeatureSetting = {\n  id: \"noLogoNav\",\n  title: \"Menu: Hide Logo\",\n  description: `Hides Farm RPG logo in Navigation`,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const SETTING_NAVIGATION_ALIGN_BOTTOM: FeatureSetting = {\n  id: \"alignBottomNav\",\n  title: \"Menu: Align to Bottom\",\n  description: `Aligns Navigation menu to bottom of screen for easier reach on mobile`,\n  type: \"boolean\",\n  defaultValue: false,\n};\n\nexport const SETTINGS_NAVIGATION_ADD_MENU: FeatureSetting = {\n  id: \"bottomMenu\",\n  title: \"Menu: Add Shortcut to Bottom\",\n  description: `Adds navigation menu shortcut to bottom bar for easier reach on mobile`,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const navigationStyle: Feature = {\n  settings: [\n    SETTING_NAVIGATION_COMPRESS,\n    SETTING_NAVIGATION_HIDE_LOGO,\n    SETTINGS_NAVIGATION_ADD_MENU,\n    SETTING_NAVIGATION_ALIGN_BOTTOM,\n  ],\n  onInitialize: (settings) => {\n    // hide buttons until we can replace them\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          .icon.icon-bars,\n          .refreshbtn .f7-icons {\n            display: none !important;\n          }\n        <style>\n      `\n    );\n\n    // align toolbar more consistently\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          .toolbar-inner {\n            display: flex !important;\n            justify-content: end !important;\n            padding: 0 !important;\n          }\n\n          .toolbar-inner .link {\n            display: none !important;\n          }\n\n          @media (min-width: 768px) {\n            .fh-menu {\n              display: none !important;\n            }\n          }\n\n          .toolbar-inner a {\n            height: 100%;\n            border: 0;\n            background: transparent;\n            display: flex;\n            align-items: center;\n            gap: 5px;\n            padding: 15px !important;\n            border-radius: 0 !important;\n          }\n        <style>\n      `\n    );\n\n    if (settings[SETTING_NAVIGATION_COMPRESS.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Reduce nav item spacing */\n            .panel-left .item-inner {\n              padding-top: 4px !important;\n              padding-bottom: 4px !important;\n            }\n            .panel-left .item-content,\n            .panel-left .item-inner {\n              min-height: 0 !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    if (settings[SETTING_NAVIGATION_HIDE_LOGO.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Hide nav logo */\n            .panel-left .page-content div[align=\"center\"] {\n              display: none !important;\n            }\n            \n            /* Hide extra padding */\n            .panel-left .page,\n            .panel-left .page-content {\n              padding-bottom: 0 !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    if (settings[SETTING_NAVIGATION_ALIGN_BOTTOM.id].value) {\n      document.head.insertAdjacentHTML(\n        \"beforeend\",\n        `\n          <style>\n            /* Align nav down */\n            .panel-left .page-content .list-block {\n              margin-top: 24px !important;\n              display: flex !important;\n              flex-direction: column !important;\n              justify-content: end !important;\n              height: 100% !important;\n            }\n          <style>\n        `\n      );\n    }\n\n    // responsive bottom links\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* responsive bottom links */\n          @media (max-width: 420px) {\n          .toolbar-inner > .button i {\n            margin-right: 50px !important;\n          }\n          .toolbar-inner > .button {\n            display: block !important;\n            width: 28px !important;\n          }\n        <style>\n      `\n    );\n\n    if (settings[SETTINGS_NAVIGATION_ADD_MENU.id].value) {\n      const homeButton = document.querySelector(\"#homebtn\");\n      if (!homeButton) {\n        console.error(\"Home button not found\");\n        return;\n      }\n      const menuButton = document.createElement(\"a\");\n      menuButton.dataset.panel = \"left\";\n      menuButton.classList.add(\"fh-menu\");\n      menuButton.classList.add(\"button\");\n      menuButton.classList.add(\"open-panel\");\n      menuButton.style.fontSize = \"12px\";\n      menuButton.style.paddingLeft = \"5px\";\n      menuButton.style.paddingRight = \"8px\";\n      menuButton.style.display = \"flex\";\n      menuButton.style.alignItems = \"center\";\n      menuButton.style.gap = \"2px\";\n      menuButton.innerHTML = `\n        <i class=\"fa fa-fw fa-bars\"></i>\n        Menu\n      `;\n      homeButton.parentElement?.insertBefore(menuButton, homeButton);\n    }\n  },\n  onPageLoad: () => {\n    for (const icon of document.querySelectorAll<HTMLDivElement>(\n      \".icon.icon-bars\"\n    )) {\n      icon.style.color = \"white\";\n      icon.classList.remove(\"icon\");\n      icon.classList.remove(\"icon-bars\");\n      icon.classList.add(\"fa\");\n      icon.classList.add(\"fw\");\n      icon.classList.add(\"fa-bars\");\n    }\n\n    for (const refresh of document.querySelectorAll<HTMLAnchorElement>(\n      \".refreshbtn\"\n    )) {\n      refresh.style.color = \"white\";\n      refresh.classList.remove(\"fv-icons\");\n      refresh.textContent = \"\";\n      refresh.classList.add(\"fa\");\n      refresh.classList.add(\"fw\");\n      refresh.classList.add(\"fa-refresh\");\n    }\n  },\n};\n","import { BORDER_GRAY } from \"~/utils/theme\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { getData, setData } from \"./farmhandSettings\";\nimport { showConfirmation } from \"~/utils/confirmation\";\n\nexport const SETTING_CUSTOM_NAVIGATION: FeatureSetting = {\n  id: \"customNav\",\n  title: \"Customize Navigation\",\n  description: `\n    Enables customization of the Navigation menu<br>\n    (click the gear in the navigation menu to configure)\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n  dataKey: \"customNav_data\",\n};\n\nconst state: { isEditing: boolean; editingIndex?: number } = {\n  isEditing: false,\n};\n\ninterface NavigationItem {\n  icon: string;\n  text: string;\n  path: string;\n}\n\nconst DEFAULT_NAVIGATION: NavigationItem[] = [\n  { icon: \"home\", text: \"Home\", path: \"index.php\" },\n  { icon: \"user\", text: \"My Profile\", path: \"profile.php\" },\n  { icon: \"list\", text: \"My Inventory\", path: \"inventory.php\" },\n  { icon: \"wrench\", text: \"My Workshop\", path: \"workshop.php\" },\n  { icon: \"spoon\", text: \"My Kitchen\", path: \"kitchen.php\" },\n  { icon: \"inbox\", text: \"My Mailbox\", path: \"postoffice.php\" },\n  { icon: \"envelope\", text: \"My Messages\", path: \"messages.php\" },\n  { icon: \"users\", text: \"My Friends\", path: \"friends.php\" },\n  { icon: \"gear\", text: \"My Settings\", path: \"settings.php\" },\n  { icon: \"building\", text: \"Town\", path: \"town.php\" },\n  { icon: \"book\", text: \"Library\", path: \"wiki.php\" },\n  { icon: \"info-circle\", text: \"About / Updates\", path: \"about.php\" },\n  { icon: \"close\", text: \"Logout\", path: \"logout.php\" },\n];\n\nconst icons = ((): string[] => {\n  const stylesheet = [...document.styleSheets].find(({ href }) =>\n    href?.includes(\"fontawesome\")\n  );\n  const icons: string[] = [];\n  if (!stylesheet) {\n    console.error(\"Could not find fontawesome stylesheet\");\n    return icons;\n  }\n  for (const rule of stylesheet.cssRules) {\n    if (!(rule instanceof CSSStyleRule)) {\n      continue;\n    }\n    if (rule.style.length !== 1) {\n      continue;\n    }\n    if (!rule.style.content) {\n      continue;\n    }\n    const selector = rule.selectorText;\n    const aliases = selector.split(\", \");\n    icons.push(aliases[0].slice(4, -8));\n  }\n  return icons.sort();\n})();\n\nconst renderNavigation = async (force: boolean = false): Promise<void> => {\n  const navigationData = await getData<NavigationItem[]>(\n    SETTING_CUSTOM_NAVIGATION,\n    DEFAULT_NAVIGATION\n  );\n  const navigationList =\n    document.querySelector<HTMLUListElement>(\".panel-left ul\");\n  if (!navigationList) {\n    console.error(\"Could not find navigation list\");\n    return;\n  }\n\n  if (!force && navigationList.dataset.isCustomized) {\n    // already rendered\n    return;\n  }\n\n  const navigationTitleLeft = document.querySelector(\n    \".panel-left .navbar .left\"\n  );\n  if (!navigationTitleLeft) {\n    console.error(\"Could not find navigation title\");\n    return;\n  }\n  navigationTitleLeft.innerHTML = \"\";\n\n  if (state.isEditing) {\n    const resetButton = document.createElement(\"i\");\n    resetButton.style.cursor = \"pointer\";\n    resetButton.classList.add(\"fa\");\n    resetButton.classList.add(\"fa-fw\");\n    resetButton.classList.add(\"fa-arrow-left-rotate\");\n    resetButton.addEventListener(\"click\", () => {\n      showConfirmation(\"Reset Navigation?\", async () => {\n        await setData(SETTING_CUSTOM_NAVIGATION, DEFAULT_NAVIGATION);\n        state.isEditing = false;\n        renderNavigation(true);\n      });\n    });\n    navigationTitleLeft.append(resetButton);\n  }\n\n  navigationList.innerHTML = \"\";\n  navigationList.dataset.isCustomized = \"true\";\n  navigationList.dataset.isEditing = String(state.isEditing);\n  for (const item of navigationData) {\n    const currentIndex = navigationData.indexOf(item);\n    const navigationItem = document.createElement(\"li\");\n    navigationItem.innerHTML = `\n      <a\n        href=\"${item.path}\"\n        data-view=\".view-main\"\n        class=\"item-link close-panel\"\n      >\n        <div\n          class=\"item-content\"\n          style=\"\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n          \"\n        >\n          <div\n            class=\"item-inner\"\n            style=\"\n              background-image: none;\n              display: flex;\n              justify-content: space-between;\n              padding-right: 15px;\n              width: 100%;\n            \"\n          >\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-${item.icon}\"></i>\n              <span class=\"fh-item\">${item.text}</span>\n            </div>\n            ${\n              state.isEditing\n                ? `\n                  <div>\n                    <i class=\"fa fa-fw ${\n                      state.editingIndex === currentIndex\n                        ? \"fa-check\"\n                        : \"fa-pencil\"\n                    } fh-edit\"></i>\n                    <i class=\"fa fa-fw fa-trash fh-delete\"></i>\n                  </div>\n                `\n                : '<i class=\"fa fa-fw fa-chevron-right\"></i>'\n            }\n          </div>\n          ${\n            state.isEditing && state.editingIndex === currentIndex\n              ? `\n                <div\n                  style=\"\n                    display: flex;\n                    align-items: center;\n                    width: 100%;\n                    padding-right: 15px;\n                  \"\n                >\n                  <input\n                    type=\"text\"\n                    class=\"fh-text\"\n                    value=\"${item.text}\"\n                    style=\"\n                      flex: 1;\n                      border: 1px solid ${BORDER_GRAY};\n                      margin-left: 20px;\n                      margin-right: 10px;\n                      height: 30px;\n                      padding: 10px;\n                    \"\n                  >\n                  <i class=\"fa fa-fw fa-arrow-down fh-down\"></i>\n                  <i class=\"fa fa-fw fa-arrow-up fh-up\"></i>\n                </div>\n                <div\n                  style=\"\n                    display: flex;\n                    align-items: center;\n                    width: 100%;\n                    padding-right: 15px;\n                  \"\n                >\n                  <input\n                    type=\"text\"\n                    class=\"fh-path\"\n                    value=\"${item.path}\"\n                    style=\"\n                      flex: 1;\n                      border: 1px solid ${BORDER_GRAY};\n                      margin-left: 20px;\n                      height: 30px;\n                      padding: 10px;\n                      font-family: monospace;\n                    \"\n                  >\n                </div>\n                <div\n                  style=\"\n                    display: flex;\n                    gap: 4px;\n                    margin-top: 10px;\n                    height: 200px;\n                    width: 100%;\n                    overflow-y: scroll;\n                    flex-wrap: wrap;\n                  \"\n                  class=\"fh-icons\"\n                >\n                  ${icons\n                    .map(\n                      (icon) => `\n                        <i\n                          class=\"fa fa-fw fa-${icon}\"\n                          data-icon=\"${icon}\"\n                        ></i>\n                      `\n                    )\n                    .join(\"\")}\n                </div>\n              `\n              : \"\"\n          }\n        </div>\n      </a>\n    `;\n    navigationItem\n      .querySelector(\".fh-icons\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!event.target) {\n          return;\n        }\n        item.icon = (event.target as HTMLElement).dataset.icon ?? \"\";\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation(true);\n      });\n    navigationItem\n      .querySelector(\".fh-text\")\n      ?.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    navigationItem\n      .querySelector(\".fh-text\")\n      ?.addEventListener(\"change\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        item.text = (event.target as HTMLInputElement).value;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation(true);\n      });\n    navigationItem\n      .querySelector(\".fh-text\")\n      ?.addEventListener(\"keyup\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const itemText = navigationItem.querySelector(\".fh-item\");\n        if (!itemText) {\n          return;\n        }\n        itemText.textContent = (event.target as HTMLInputElement).value;\n      });\n    navigationItem\n      .querySelector(\".fh-path\")\n      ?.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    navigationItem\n      .querySelector(\".fh-path\")\n      ?.addEventListener(\"change\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        item.path = (event.target as HTMLInputElement).value;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation(true);\n      });\n    navigationItem\n      .querySelector(\".fh-up\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (currentIndex === 0) {\n          return;\n        }\n        navigationData.splice(currentIndex, 1);\n        navigationData.splice(currentIndex - 1, 0, item);\n        state.editingIndex = currentIndex - 1;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation(true);\n      });\n    navigationItem\n      .querySelector(\".fh-down\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (currentIndex === navigationData.length - 1) {\n          return;\n        }\n        navigationData.splice(currentIndex, 1);\n        navigationData.splice(currentIndex + 1, 0, item);\n        state.editingIndex = currentIndex + 1;\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation(true);\n      });\n    navigationItem\n      .querySelector(\".fh-edit\")\n      ?.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (state.editingIndex === currentIndex) {\n          delete state.editingIndex;\n        } else {\n          state.editingIndex = currentIndex;\n        }\n        renderNavigation(true);\n      });\n    navigationItem\n      .querySelector(\".fh-delete\")\n      ?.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        navigationData.splice(currentIndex, 1);\n        await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n        renderNavigation(true);\n      });\n    navigationList.append(navigationItem);\n  }\n  if (state.isEditing) {\n    const addNavigationItem = document.createElement(\"li\");\n    addNavigationItem.innerHTML = `\n      <a\n        href=\"#\"\n        class=\"item-link close-panel\"\n      >\n        <div\n          class=\"item-content\"\n          style=\"\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n          \"\n        >\n          <div\n            class=\"item-inner\"\n            style=\"\n              background-image: none;\n              display: flex;\n              justify-content: space-between;\n              padding-right: 15px;\n              width: 100%;\n            \"\n          >\n            <div class=\"item-title\">\n              <i class=\"fa fa-fw fa-plus\"></i>\n              <span class=\"fh-item\">Add Navigation Item</span>\n            </div>\n          </div>\n        </div>\n      </a>\n    `;\n    addNavigationItem.addEventListener(\"click\", async (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      navigationData.push({\n        icon: \"sack-dollar\",\n        text: \"Tip anstosa\",\n        path: \"profile.php?user_name=anstosa\",\n      });\n      await setData(SETTING_CUSTOM_NAVIGATION, navigationData);\n      state.editingIndex = navigationData.length - 1;\n      renderNavigation(true);\n    });\n    navigationList.append(addNavigationItem);\n  }\n};\n\nexport const customNavigation: Feature = {\n  settings: [SETTING_CUSTOM_NAVIGATION],\n  onMenuLoad: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_CUSTOM_NAVIGATION.id].value) {\n      return;\n    }\n\n    // add configuration icon\n    const navigationTitleRight = document.querySelector(\n      \".panel-left .navbar .right\"\n    );\n    if (!navigationTitleRight) {\n      console.error(\"Could not find navigation title\");\n      return;\n    }\n    if (navigationTitleRight.children.length === 0) {\n      const configurationButton = document.createElement(\"i\");\n      configurationButton.style.cursor = \"pointer\";\n      configurationButton.classList.add(\"fa\");\n      configurationButton.classList.add(\"fa-fw\");\n      configurationButton.classList.add(\"fa-cog\");\n      configurationButton.addEventListener(\"click\", () => {\n        state.isEditing = !state.isEditing;\n        if (state.isEditing) {\n          configurationButton.classList.remove(\"fa-cog\");\n          configurationButton.classList.add(\"fa-check\");\n        } else {\n          configurationButton.classList.remove(\"fa-check\");\n          configurationButton.classList.add(\"fa-cog\");\n        }\n        renderNavigation(true);\n      });\n      navigationTitleRight.append(configurationButton);\n    }\n    renderNavigation();\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { showPopup } from \"~/utils/popup\";\nimport { StorageKey } from \"~/api/state\";\n\nexport const SETTING_CHAT_DISMISSABLE_BANNERS: FeatureSetting = {\n  id: \"dismissableChatBanners\",\n  title: \"Chat: Dismissable Banners\",\n  description: `\n    Adds × in chat banners to dismiss them<br>\n    Disable this to show dismissed banners again\n  `,\n  buttonText: \"Reset\",\n  buttonAction: async () => {\n    const keys = await GM.listValues();\n    for (const key of keys) {\n      if (key.startsWith(StorageKey.CHAT_BANNERS)) {\n        await GM.deleteValue(key);\n      }\n    }\n    await showPopup({\n      title: \"Chat banners reset\",\n      contentHTML: \"Previously dismissed chat banners will be shown again\",\n    });\n  },\n  type: \"boolean\",\n  defaultValue: true,\n};\n\n// https://stackoverflow.com/a/7616484/714282\nconst hashBanner = (banner: Element): number => {\n  const string = banner.textContent ?? \"\";\n  let hash = 0;\n  if (string.length === 0) {\n    return hash;\n  }\n  for (let index = 0; index < string.length; index++) {\n    const code = string.codePointAt(index) ?? 0;\n    hash = (hash << 5) - hash + code;\n    hash = Math.trunc(hash);\n  }\n  return hash;\n};\n\nexport const dismissableChatBanners: Feature = {\n  settings: [SETTING_CHAT_DISMISSABLE_BANNERS],\n  onChatLoad: async (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_CHAT_DISMISSABLE_BANNERS.id].value) {\n      return;\n    }\n    const banners = document.querySelectorAll(\n      \"#desktopchatpanel .card, #mobilechatpanel .card\"\n    );\n    for (const banner of banners) {\n      const bannerKey = `${StorageKey.CHAT_BANNERS}_${hashBanner(banner)}`;\n\n      // hide banner if dismissed\n      const isDismissed = await GM.getValue(bannerKey, false);\n      if (isDismissed) {\n        banner.remove();\n        continue;\n      }\n\n      // skip adding close button if it already exists\n      if (banner.querySelector(\".fh-close\")) {\n        continue;\n      }\n\n      // add close button\n      const closeButton = document.createElement(\"div\");\n      closeButton.classList.add(\"fh-close\");\n      closeButton.textContent = \"×\";\n      closeButton.style.position = \"absolute\";\n      closeButton.style.top = \"2px\";\n      closeButton.style.right = \"2px\";\n      closeButton.style.cursor = \"pointer\";\n      closeButton.addEventListener(\"click\", () => {\n        banner.remove();\n        GM.setValue(bannerKey, true);\n      });\n      banner.append(closeButton);\n    }\n  },\n};\n","import { Feature, FeatureSetting, Settings } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport { showPopup } from \"~/utils/popup\";\n\nexport const getSettings = async (features: Feature[]): Promise<Settings> => {\n  const settings: Settings = {};\n  for (const feature of features) {\n    for (const setting of feature.settings ?? []) {\n      setting.value = (await GM.getValue(\n        setting.id,\n        setting.defaultValue\n      )) as any;\n      settings[setting.id] = setting;\n    }\n  }\n  return settings;\n};\n\nexport const getSetting = async (\n  setting: FeatureSetting\n): Promise<FeatureSetting> => ({\n  ...setting,\n  value: (await GM.getValue(setting.id, setting.defaultValue)) as any,\n});\n\nexport const getData = async <T>(\n  setting: FeatureSetting | string,\n  defaultValue: T\n): Promise<T> => {\n  const key = typeof setting === \"string\" ? setting : setting.dataKey;\n  if (!key) {\n    return defaultValue;\n  }\n  const rawData = await GM.getValue<string>(key, \"\");\n  if (!rawData) {\n    return defaultValue;\n  }\n  return JSON.parse(rawData) as T;\n};\n\nexport const setData = async <T>(\n  setting: FeatureSetting | string,\n  data: T\n): Promise<void> => {\n  const key = typeof setting === \"string\" ? setting : setting.dataKey;\n  if (!key) {\n    return;\n  }\n  await GM.setValue(key, JSON.stringify(data));\n};\n\nexport const setSetting = (setting: FeatureSetting): Promise<void> =>\n  GM.setValue(setting.id, setting.value ?? \"\");\n\nconst getWrapper = (\n  { id, type, value }: FeatureSetting,\n  children: string\n): string => {\n  switch (type) {\n    case \"boolean\": {\n      return `\n        <div\n          class=\"item-inner\"\n          role=\"checkbox\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n          aria-checked=\"${value ? \"true\" : \"false\"}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n    case \"number\": {\n      return `\n        <div\n          class=\"item-inner\"\n          role=\"spinbutton\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n          aria-valuenow=\"${value}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n    case \"string\": {\n      return `\n        <div\n          class=\"item-inner\"\n          role=\"textbox\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n    default: {\n      return `\n        <div\n          class=\"item-inner\"\n          id=\"${id}-aria\"\n          aria-labelledby=\"${id}\"\n        >\n          ${children}\n        </div>\n      `;\n    }\n  }\n};\n\nconst getField = (setting: FeatureSetting, children: string): string => {\n  switch (setting.type) {\n    case \"boolean\": {\n      return `\n        <label class=\"label-switch\">\n          <input\n            type=\"checkbox\"\n            class=\"settings_checkbox\"\n            id=\"${setting.id}\"\n            name=\"${setting.id}\"\n            value=\"${setting.value ? 1 : 0}\"\n            ${setting.value ? 'checked=\"\"' : \"\"}\"\n          >\n          <div class=\"checkbox\"></div>\n          ${children}\n        </label>\n      `;\n    }\n    case \"string\":\n    case \"number\": {\n      return `\n        <div class=\"item-after\">\n          <input\n            type=\"text\"\n            name=\"${setting.id}\"\n            placeholder=\"${setting.placeholder ?? \"\"}\"\n            value=\"${setting.value}\"\n            class=\"inlineinputsm fh-input\"\n            style=\"\n              width: 100px !important;\n            \"\n          >\n          ${children}\n        </div>\n      `;\n    }\n    default: {\n      return \"\";\n    }\n  }\n};\n\nconst getValue = (\n  { id, type }: FeatureSetting,\n  currentPage: HTMLElement\n): FeatureSetting[\"value\"] => {\n  const input = currentPage.querySelector(`[name=${id}]`) as HTMLInputElement;\n  switch (type) {\n    case \"boolean\": {\n      const wrapper = currentPage.querySelector(\n        `[id=${id}-aria]`\n      ) as HTMLDivElement;\n      return wrapper.getAttribute(\"aria-checked\") === \"true\";\n    }\n    case \"number\": {\n      return Number(input.value);\n    }\n    case \"string\": {\n      return input.value;\n    }\n    default: {\n      return input.value;\n    }\n  }\n};\n\ntype ExportedSettings = Array<FeatureSetting & { data: any }>;\n\nexport const SETTING_EXPORT: FeatureSetting = {\n  id: \"export\",\n  title: \"Settings: Export\",\n  description: \"Exports Farmhand Settings to sync to other device\",\n  type: \"string\",\n  defaultValue: \"\",\n  buttonText: \"Export\",\n  buttonAction: async (settings, settingWrapper) => {\n    const exportedSettings = Object.values(settings) as ExportedSettings;\n    for (const setting of exportedSettings) {\n      setting.data = await getData(setting, \"\");\n    }\n    const exportString = JSON.stringify(exportedSettings);\n    GM.setClipboard(exportString);\n    showPopup({\n      title: \"Settings Exported to clipboard\",\n      contentHTML:\n        \"Open Farm RPG on another device with Farmhand installed to import\",\n    });\n    const input = settingWrapper.querySelector<HTMLInputElement>(\".fh-input\");\n    if (input) {\n      input.value = exportString;\n    }\n  },\n};\n\nexport const SETTING_IMPORT: FeatureSetting = {\n  id: \"import\",\n  title: \"Settings: Import\",\n  description: \"Paste export into box and click Import\",\n  type: \"string\",\n  defaultValue: \"\",\n  placeholder: \"Paste Here\",\n  buttonText: \"Import\",\n  buttonAction: async (settings, settingWrapper) => {\n    const input =\n      settingWrapper.querySelector<HTMLInputElement>(\".fh-input\")?.value;\n    const importedSettings = JSON.parse(input ?? \"[]\") as ExportedSettings;\n    for (const setting of importedSettings) {\n      await setSetting(setting);\n      if (setting.data) {\n        await setData(setting, setting.data);\n      }\n    }\n    await showPopup({\n      title: \"Farmhand Settings Imported!\",\n      contentHTML: \"Page will reload to apply\",\n    });\n    window.location.reload();\n  },\n};\n\nexport const farmhandSettings: Feature = {\n  settings: [SETTING_EXPORT, SETTING_IMPORT],\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        /* Allow action buttons next to switches */\n        .label-switch {\n          display: flex !important;\n          align-items: center !important;\n          gap: 10px !important;\n          width: auto !important; \n        }\n      <style>\n    `\n    );\n  },\n  onPageLoad: (settings, page) => {\n    // make sure we are on the settings page\n    if (page !== Page.SETTINGS_OPTIONS) {\n      return;\n    }\n\n    // make sure page content has loaded\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    // insert at end of first card\n    const settingsList = currentPage.querySelector(\"#settingsform_options ul\");\n    if (!settingsList) {\n      console.error(\"Settings list not found\");\n      return;\n    }\n\n    // add section\n    let farmhandSettingsLi =\n      settingsList.querySelector<HTMLLIElement>(\".fh-settings-title\");\n    if (farmhandSettingsLi) {\n      // already rendered\n      return;\n    }\n    farmhandSettingsLi = document.createElement(\"li\");\n    farmhandSettingsLi.classList.add(\"list-group-title\");\n    farmhandSettingsLi.classList.add(\"item-divider\");\n    farmhandSettingsLi.classList.add(\"fh-settings-title\");\n    farmhandSettingsLi.textContent = \"Farmhand Settings\";\n    settingsList.append(farmhandSettingsLi);\n\n    // add settings\n    for (const setting of Object.values(settings)) {\n      const hasButton = setting.buttonText && setting.buttonAction;\n      const settingLi = document.createElement(\"li\");\n      settingLi.innerHTML = `\n        <div\n          class=\"item-content\"\n          style=\"\n            display: flex;\n            gap: 15px;\n            justify-content: space-between;\n          \"\n        >\n          ${getWrapper(\n            setting,\n            `\n            <div\n              class=\"item-title label\"\n              style=\"\n                flex: 1;\n                white-space: normal;\n              \"\n            >\n              <label\n                id=\"${setting.id}\"\n                for=\"${setting.id}\">\n                  ${setting.title}\n              </label>\n              <br>\n              <div style=\"font-size: 11px\">${setting.description}</div>\n            </div>\n            ${getField(\n              setting,\n              hasButton\n                ? `\n                  <button\n                    class=\"button btngreen fh-action\"\n                    style=\"margin-left: 8px\"\n                  >${setting.buttonText}</button>\n                `\n                : \"\"\n            )}\n            `\n          )}\n      </div>\n      `;\n      settingLi\n        .querySelector(\".fh-action\")\n        ?.addEventListener(\"click\", (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          setting.buttonAction?.(settings, settingLi);\n        });\n      settingsList.append(settingLi);\n    }\n\n    // hook into save button\n    const saveButton = currentPage.querySelector(\"#settings_options\");\n    if (!saveButton) {\n      console.error(\"Save button not found\");\n      return;\n    }\n\n    saveButton.addEventListener(\"click\", () => {\n      for (const setting of Object.values(settings)) {\n        setting.value = getValue(setting, currentPage);\n        setSetting(setting);\n      }\n      setTimeout(() => window.location.reload(), 1000);\n    });\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_FISH_IN_BARREL: FeatureSetting = {\n  id: \"fishInBarrel\",\n  title: \"Fishing: Barrel Mode\",\n  description: \"Fish always appear in middle of pond\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const fishinInBarrel: Feature = {\n  settings: [SETTING_FISH_IN_BARREL],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_FISH_IN_BARREL.id].value) {\n      return;\n    }\n\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* Move fish to middle */\n          .fish {\n            position: absolute;\n            top: calc(50% - 30px);\n            left: calc(50% - 30px);\n          }\n        <style>\n      `\n    );\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\n\nexport const SETTING_FLEA_MARKET: FeatureSetting = {\n  id: \"fleaMarket\",\n  title: \"Flea Market: Disable\",\n  description: \"Flea Market is disabled because it's a waste of gold\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const fleaMarket: Feature = {\n  settings: [SETTING_FLEA_MARKET],\n  onInitialize: (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_FLEA_MARKET.id].value) {\n      return;\n    }\n\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* Hide Flea Market in Town */\n          a[href=\"flea.php\"] {\n            display: none;\n          }\n\n          /* Hide Flea Market Page */\n          .page[page=\"flea\"] {\n            display: none;\n          }\n\n          /* Hide Flea Market in Inventory */\n          .close-panel:has(a[href=\"flea.php\"]) {\n            display: none;\n          }\n        <style>\n      `\n    );\n  },\n};\n","import {\n  CropStatus,\n  farmIdState,\n  FarmStatus,\n  farmStatusState,\n  harvestAll,\n} from \"~/api/farmrpg/farm\";\nimport { Feature, FeatureSetting, Settings } from \"./feature\";\nimport {\n  Handler,\n  NotificationId,\n  registerNotificationHandler,\n  removeNotification,\n  sendNotification,\n} from \"~/utils/notifications\";\nimport { Page } from \"~/utils/page\";\nimport { toUrl } from \"~/api/state\";\n\nconst SETTING_HARVEST_NOTIFICATIONS: FeatureSetting = {\n  id: \"harvestNotifications\",\n  title: \"Farm: Harvest Notifications\",\n  description: `\n    Show notification when crops are ready to harvest\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const SETTING_HARVEST_POPUP: FeatureSetting = {\n  id: \"harvestPopup\",\n  title: \"Farm: Harvest Popup\",\n  description: `\n    Show popup on Farm page when crops are harvested with the harvest results including bonuses</br>\n    (popup is always shown if havesting from other pages via the notification)\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nconst SETTING_EMPTY_NOTIFICATIONS: FeatureSetting = {\n  id: \"emptyNotifications\",\n  title: \"Farm: Empty Notifications\",\n  description: `\n    Show notification when fields are empty\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nregisterNotificationHandler(Handler.HARVEST, harvestAll);\n\nconst renderFields = async (\n  settings: Settings,\n  state: FarmStatus | undefined\n): Promise<void> => {\n  const farmId = await farmIdState.get();\n  if (!state) {\n    return;\n  }\n  if (\n    state.status === CropStatus.EMPTY &&\n    settings[SETTING_EMPTY_NOTIFICATIONS.id].value\n  ) {\n    sendNotification({\n      class: \"btnorange\",\n      id: NotificationId.FIELD,\n      text: \"Fields are empty!\",\n      href: toUrl(Page.FARM, new URLSearchParams({ id: String(farmId) })),\n    });\n  } else if (\n    state.status === CropStatus.READY &&\n    settings[SETTING_HARVEST_NOTIFICATIONS.id].value\n  ) {\n    const farmUrl = toUrl(\n      Page.FARM,\n      new URLSearchParams({ id: String(farmId) })\n    );\n    sendNotification({\n      class: \"btngreen\",\n      id: NotificationId.FIELD,\n      text: \"Crops are ready!\",\n      href: farmUrl,\n      actions: [\n        { text: \"View\", href: farmUrl },\n        {\n          text: \"Harvest\",\n          handler: Handler.HARVEST,\n        },\n      ],\n    });\n  } else {\n    removeNotification(NotificationId.FIELD);\n  }\n};\n\nexport const fieldNotifications: Feature = {\n  settings: [\n    SETTING_HARVEST_NOTIFICATIONS,\n    SETTING_HARVEST_POPUP,\n    SETTING_EMPTY_NOTIFICATIONS,\n  ],\n  onInitialize: (settings) => {\n    farmStatusState.onUpdate((state) => renderFields(settings, state));\n  },\n};\n","import {\n  ALERT_YELLOW_BACKGROUND,\n  ALERT_YELLOW_BORDER,\n  TEXT_WARNING,\n} from \"~/utils/theme\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { usernameState } from \"~/api/farmrpg/api\";\n\nexport const SETTING_CHAT_HIGHLIGHT_SELF: FeatureSetting = {\n  id: \"highlightSelfInChat\",\n  title: \"Chat: Highlight self\",\n  description: \"Highlight messages in chat where you are @mentioned\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const highlightSelfInChat: Feature = {\n  settings: [SETTING_CHAT_HIGHLIGHT_SELF],\n  onChatLoad: async (settings) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_CHAT_HIGHLIGHT_SELF.id].value) {\n      return;\n    }\n\n    const username = await usernameState.get();\n    if (!username) {\n      console.error(\"Could not find username\");\n      return;\n    }\n\n    const tags = document.querySelectorAll<HTMLAnchorElement>(\n      `span a[href='profile.php?user_name=${username}']`\n    );\n    for (const tag of tags) {\n      tag.style.color = TEXT_WARNING;\n      const message = tag.parentElement?.parentElement;\n      if (!message) {\n        console.error(\"Could not find message\");\n        continue;\n      }\n      message.style.backgroundColor = ALERT_YELLOW_BACKGROUND;\n      message.style.border = `1px solid ${ALERT_YELLOW_BORDER}`;\n    }\n  },\n};\n","import {\n  collectAll,\n  KitchenStatus,\n  kitchenStatusState,\n  OvenStatus,\n} from \"~/api/farmrpg/kitchen\";\nimport { Feature, FeatureSetting, Settings } from \"./feature\";\nimport {\n  Handler,\n  NotificationId,\n  registerNotificationHandler,\n  removeNotification,\n  sendNotification,\n} from \"~/utils/notifications\";\nimport { Page } from \"~/utils/page\";\nimport { toUrl } from \"~/api/state\";\n\nconst SETTING_COMPLETE_NOTIFICATIONS: FeatureSetting = {\n  id: \"harvestNotifications\",\n  title: \"Kitchen: Meals ready notification\",\n  description: `\n    Show notification when meals are ready to collect\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nconst SETTING_ATTENTION_NOTIFICATIONS: FeatureSetting = {\n  id: \"attentionNotifications\",\n  title: \"Kitchen: Ovens attention notification\",\n  description: `\n    Show notification when ovens need attention\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nconst SETTING_EMPTY_NOTIFICATIONS: FeatureSetting = {\n  id: \"emptyNotifications\",\n  title: \"Kitchen: Ovens empty notification\",\n  description: `\n    Show notification when ovens are empty\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nregisterNotificationHandler(Handler.COLLECT_MEALS, collectAll);\n\nconst renderOvens = (\n  settings: Settings,\n  state: KitchenStatus | undefined\n): void => {\n  if (!state) {\n    return;\n  }\n  if (\n    state.status === OvenStatus.EMPTY &&\n    settings[SETTING_EMPTY_NOTIFICATIONS.id].value\n  ) {\n    sendNotification({\n      class: \"btnorange\",\n      id: NotificationId.OVEN,\n      text: \"Ovens are empty!\",\n      href: toUrl(Page.KITCHEN, new URLSearchParams()),\n    });\n  } else if (\n    state.status === OvenStatus.ATTENTION &&\n    settings[SETTING_ATTENTION_NOTIFICATIONS.id].value\n  ) {\n    sendNotification({\n      class: \"btnorange\",\n      id: NotificationId.OVEN,\n      text: \"Ovens need attention\",\n      href: toUrl(Page.KITCHEN, new URLSearchParams()),\n    });\n  } else if (\n    state.status === OvenStatus.READY &&\n    settings[SETTING_COMPLETE_NOTIFICATIONS.id].value\n  ) {\n    sendNotification({\n      class: \"btngreen\",\n      id: NotificationId.OVEN,\n      text: \"Meals are ready!\",\n      href: toUrl(Page.KITCHEN, new URLSearchParams()),\n      actions: [\n        { text: \"View\", href: toUrl(Page.KITCHEN, new URLSearchParams()) },\n        {\n          text: \"Collect\",\n          handler: Handler.COLLECT_MEALS,\n        },\n      ],\n    });\n  } else {\n    removeNotification(NotificationId.OVEN);\n  }\n};\n\nexport const kitchenNotifications: Feature = {\n  settings: [\n    SETTING_COMPLETE_NOTIFICATIONS,\n    SETTING_ATTENTION_NOTIFICATIONS,\n    SETTING_EMPTY_NOTIFICATIONS,\n  ],\n  onInitialize: (settings) => {\n    kitchenStatusState.onUpdate((state) => renderOvens(settings, state));\n  },\n};\n","import { Feature } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport { getItemByName } from \"~/api/buddyfarm/api\";\n\nexport const linkifyQuickCraft: Feature = {\n  onPageLoad: async (settings, page) => {\n    // make sure we're on the item page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    const currentPage = getCurrentPage();\n    if (!currentPage) {\n      return;\n    }\n\n    const missingIngredientsWrapper =\n      currentPage.querySelector<HTMLSpanElement>(\"span[style='color:red']\");\n    if (!missingIngredientsWrapper) {\n      return;\n    }\n    const missingIngredients =\n      missingIngredientsWrapper.textContent?.split(\", \");\n    missingIngredientsWrapper.textContent = \"\";\n    for (const ingredient of missingIngredients ?? []) {\n      const data = await getItemByName(ingredient);\n      if (!data) {\n        console.error(`No data for ${ingredient}`);\n        continue;\n      }\n\n      const link = document.createElement(\"a\");\n      link.dataset.view = \".view-main\";\n      link.href = `item.php?id=${data.id}`;\n      link.textContent = ingredient;\n      link.style.color = \"red\";\n      link.style.marginRight = \"5px\";\n      link.style.display = \"block\";\n      missingIngredientsWrapper.append(link);\n    }\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { Page } from \"~/utils/page\";\n\nexport const SETTING_MAX_CONTAINERS: FeatureSetting = {\n  id: \"maxContainers\",\n  title: \"Locksmith: Max containers\",\n  description: \"Open max containers by default (instead of 1)\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const maxContainers: Feature = {\n  settings: [SETTING_MAX_CONTAINERS],\n  onPageLoad: (settings, page) => {\n    if (page !== Page.LOCKSMITH) {\n      return;\n    }\n    if (!settings[SETTING_MAX_CONTAINERS.id].value) {\n      return;\n    }\n\n    // get buttons\n    const buttons =\n      document.querySelectorAll<HTMLButtonElement>(\"button.lsmaxqty\");\n    setTimeout(() => {\n      for (const button of buttons) {\n        button.click();\n      }\n    }, 150);\n  },\n};\n","import { Feature } from \"./feature\";\nimport { getCurrentPage, getTitle, Page } from \"~/utils/page\";\nimport { SETTING_MAX_ANIMALS } from \"./maxPigs\";\n\nexport const maxCows: Feature = {\n  onPageLoad: (settings, page) => {\n    if (page !== Page.PASTURE) {\n      return;\n    }\n    if (!settings[SETTING_MAX_ANIMALS.id].value) {\n      return;\n    }\n    const currentPage = getCurrentPage();\n\n    // max buy cows\n    (() => {\n      const pigTitle = getTitle(/Cows/);\n      const match = pigTitle?.textContent?.match(/(\\d+) \\/ (\\d+)/);\n      if (!match) {\n        return;\n      }\n      const [_, current, max] = match;\n      if (!current || !max) {\n        return;\n      }\n      const maxBuy = Number(max) - Number(current);\n      const buyField = currentPage?.querySelector<HTMLInputElement>(\".addamt\");\n      if (!buyField) {\n        return;\n      }\n      buyField.value = maxBuy.toString();\n    })();\n\n    // max slaughter\n    (() => {\n      const slaughterSelector =\n        currentPage?.querySelector<HTMLSelectElement>(\".levelid\");\n      if (!slaughterSelector) {\n        return;\n      }\n      if (slaughterSelector.options.length > 1) {\n        slaughterSelector.selectedIndex = 1;\n      }\n      const match =\n        slaughterSelector.options[1].textContent?.match(/\\((\\d+)\\)/);\n      if (!match) {\n        return;\n      }\n      const maxSlaughter = Number(match[1]);\n      const amountField =\n        currentPage?.querySelector<HTMLInputElement>(\".levelamt\");\n      if (!amountField) {\n        return;\n      }\n      amountField.value = maxSlaughter.toString();\n    })();\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCurrentPage, getTitle, Page } from \"~/utils/page\";\n\nexport const SETTING_MAX_ANIMALS: FeatureSetting = {\n  id: \"maxAnimals\",\n  title: \"Farm: Buy Max Animals\",\n  description: \"Buy max animals by default (instead of 1)\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const maxPigs: Feature = {\n  settings: [SETTING_MAX_ANIMALS],\n  onPageLoad: (settings, page) => {\n    if (page !== Page.PIG_PEN) {\n      return;\n    }\n    if (!settings[SETTING_MAX_ANIMALS.id].value) {\n      return;\n    }\n    const currentPage = getCurrentPage();\n\n    // max buy pigs\n    (() => {\n      const pigTitle = getTitle(/Pigs/);\n      const match = pigTitle?.textContent?.match(/(\\d+) \\/ (\\d+)/);\n      if (!match) {\n        return;\n      }\n      const [_, current, max] = match;\n      if (!current || !max) {\n        return;\n      }\n      const maxBuy = Number(max) - Number(current);\n      const buyField = currentPage?.querySelector<HTMLInputElement>(\".addamt\");\n      if (!buyField) {\n        return;\n      }\n      buyField.value = maxBuy.toString();\n    })();\n\n    // max slaughter\n    (() => {\n      const slaughterSelector =\n        currentPage?.querySelector<HTMLSelectElement>(\".levelid\");\n      if (!slaughterSelector) {\n        return;\n      }\n      if (slaughterSelector.options.length > 1) {\n        slaughterSelector.selectedIndex = 1;\n      }\n      const match =\n        slaughterSelector.options[1].textContent?.match(/\\((\\d+)\\)/);\n      if (!match) {\n        return;\n      }\n      const maxSlaughter = Number(match[1]);\n      const amountField =\n        currentPage?.querySelector<HTMLInputElement>(\".levelamt\");\n      if (!amountField) {\n        return;\n      }\n      amountField.value = maxSlaughter.toString();\n    })();\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { mealsStatusState } from \"~/api/farmrpg/meals\";\nimport {\n  NotificationId,\n  removeNotification,\n  sendNotification,\n} from \"~/utils/notifications\";\n\nconst SETTING_MEAL_NOTIFICATIONS: FeatureSetting = {\n  id: \"mealNotifications\",\n  title: \"Meal Notifications\",\n  description: `\n    Show notification when meals are active with their countdowns\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nlet mealInterval: number | undefined;\n\nconst renderMeals = async (): Promise<void> => {\n  const mealStatus = await mealsStatusState.get();\n  if (!mealStatus || mealStatus.meals.length === 0) {\n    clearInterval(mealInterval);\n    removeNotification(NotificationId.MEAL);\n    return;\n  }\n  sendNotification({\n    class: \"btnorange\",\n    id: NotificationId.MEAL,\n    text: `${mealStatus.meals.length} meal${\n      mealStatus.meals.length === 1 ? \"\" : \"s\"\n    } active: ${mealStatus.meals\n      .map((active) => {\n        const now = new Date();\n        const diffSeconds = active.finishedAt / 1000 - now.getTime() / 1000;\n        const minutes = Math.floor(diffSeconds / 60);\n        const seconds = Math.floor(diffSeconds % 60);\n        if (minutes < 0 && seconds < 0) {\n          mealsStatusState.set({\n            meals: mealStatus.meals.filter((meal) => meal.meal !== active.meal),\n          });\n          return `${active.meal} (EXPIRED!)`;\n        }\n        const timeRemaining = `${minutes}:${seconds\n          .toString()\n          .padStart(2, \"0\")}`;\n        return `${active.meal} (${timeRemaining})`;\n      })\n      .join(\", \")}`,\n  });\n  if (!mealInterval) {\n    mealInterval = setInterval(renderMeals, 1 * 1000) as unknown as number;\n  }\n};\n\nexport const mealNotifications: Feature = {\n  settings: [SETTING_MEAL_NOTIFICATIONS],\n  onInitialize: (settings) => {\n    if (!settings[SETTING_MEAL_NOTIFICATIONS.id].value) {\n      return;\n    }\n    mealsStatusState.onUpdate(renderMeals);\n  },\n};\n","import { Feature } from \"./feature\";\nimport { getCardByTitle, getCurrentPage, getTitle, Page } from \"~/utils/page\";\nimport { StorageKey } from \"~/api/state\";\n\nexport const moveUpdateToTop: Feature = {\n  onPageLoad: async (settings, page) => {\n    // make sure we're on the home page\n    if (page !== Page.HOME_PAGE) {\n      return;\n    }\n\n    // get the recent card and title\n    const recentUpdatesCard = getCardByTitle(\"Most Recent Update\");\n    const recentUpdatesTitle = recentUpdatesCard?.previousElementSibling;\n    if (!recentUpdatesCard || !recentUpdatesTitle) {\n      return;\n    }\n\n    // get the latest title\n    const latestUpdate = recentUpdatesCard.querySelector(\"strong\")?.textContent;\n    if (!latestUpdate) {\n      return;\n    }\n\n    // check if it's newer\n    const latestRead = await GM.getValue(StorageKey.RECENT_UPDATE, \"\");\n    if (latestUpdate === latestRead) {\n      return;\n    }\n\n    // move to top\n    const home = getCurrentPage();\n    if (!home) {\n      return;\n    }\n    const firstTitle = getTitle(\"Where do you want to go?\");\n    if (!firstTitle) {\n      return;\n    }\n    firstTitle.before(recentUpdatesTitle);\n    firstTitle.before(recentUpdatesCard);\n\n    // add hide button\n    let hideButton =\n      recentUpdatesTitle.querySelector<HTMLAnchorElement>(\".fh-hide-update\");\n    if (!hideButton) {\n      hideButton = document.createElement(\"a\");\n      hideButton.classList.add(\"fh-hide-update\");\n      hideButton.style.marginLeft = \"10px\";\n      hideButton.style.cursor = \"pointer\";\n      hideButton.textContent = \"Hide\";\n      hideButton.addEventListener(\"click\", async () => {\n        // mark current as read\n        await GM.setValue(StorageKey.RECENT_UPDATE, latestUpdate);\n        window.location.reload();\n      });\n      recentUpdatesTitle.append(hideButton);\n    }\n  },\n};\n","import {\n  activatePerkSet,\n  getActivityPerksSet,\n  PerkActivity,\n} from \"~/api/farmrpg/perks\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\nimport {\n  Notification,\n  NotificationId,\n  removeNotification,\n  sendNotification,\n} from \"~/utils/notifications\";\nimport { onQuicksellClick } from \"./quickSellSafely\";\n\nexport const SETTING_PERK_MANAGER: FeatureSetting = {\n  id: \"perkManager\",\n  title: \"Perks: Auto manage\",\n  description: `\n    1. Save your default perks set as \"Default\"<br>\n    2. Save perks for \"Crafting\", \"Fishing\", \"Exploring\", \"Selling\", \"Friendship\", \"Temple\", \"Locksmish\", or \"Wheel\" activities<br>\n    3. Activity perk sets will automatically be enabled for those activities and reverted to \"Default\" after\n  `,\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nconst getNotification = (activity: PerkActivity): Notification<never> => ({\n  class: \"btnorange\",\n  id: NotificationId.PERKS,\n  text: `${activity} perks activated`,\n});\n\nexport const perkManagment: Feature = {\n  settings: [SETTING_PERK_MANAGER],\n  onPageLoad: async (settings, page) => {\n    // make sure the setting is enabled\n    if (!settings[SETTING_PERK_MANAGER.id].value) {\n      return;\n    }\n\n    // don't change anything on perks page so you can edit\n    if (page === Page.PERKS) {\n      return;\n    }\n\n    const defaultPerks = await getActivityPerksSet(PerkActivity.DEFAULT);\n\n    // make sure we have a default perk set\n    if (!defaultPerks) {\n      console.warn(\"Default perk set not found\");\n      return;\n    }\n\n    const craftingPerks = await getActivityPerksSet(PerkActivity.CRAFTING);\n    if (craftingPerks && page === Page.WORKSHOP) {\n      await activatePerkSet(craftingPerks);\n      sendNotification(getNotification(PerkActivity.CRAFTING));\n      return;\n    }\n\n    if (craftingPerks) {\n      const quickcraftButton =\n        getCurrentPage()?.querySelector<HTMLButtonElement>(\".quickcraftbtn\");\n      if (quickcraftButton && !quickcraftButton.style.display) {\n        quickcraftButton.style.display = \"none\";\n        const proxyButton = document.createElement(\"button\");\n        proxyButton.classList.add(\"button\");\n        proxyButton.classList.add(\"btngreen\");\n        proxyButton.style.height = \"28px;\";\n        proxyButton.textContent = \"CRAFT\";\n        proxyButton.addEventListener(\"click\", async () => {\n          await activatePerkSet(craftingPerks);\n          sendNotification(getNotification(PerkActivity.CRAFTING));\n          quickcraftButton.click();\n          await activatePerkSet(defaultPerks);\n          removeNotification(NotificationId.PERKS);\n        });\n        quickcraftButton.parentElement?.insertBefore(\n          proxyButton,\n          quickcraftButton\n        );\n      }\n    }\n\n    const fishingPerks = await getActivityPerksSet(PerkActivity.FISHING);\n    if (fishingPerks && page === Page.FISHING) {\n      await activatePerkSet(fishingPerks);\n      sendNotification(getNotification(PerkActivity.FISHING));\n      return;\n    }\n\n    const exploringPerks = await getActivityPerksSet(PerkActivity.EXPLORING);\n    if (exploringPerks && page === Page.AREA) {\n      await activatePerkSet(exploringPerks);\n      sendNotification(getNotification(PerkActivity.EXPLORING));\n      return;\n    }\n\n    const sellingPerks = await getActivityPerksSet(PerkActivity.SELLING);\n    if (sellingPerks && page === Page.FARMERS_MARKET) {\n      await activatePerkSet(sellingPerks);\n      sendNotification(getNotification(PerkActivity.SELLING));\n      return;\n    }\n\n    if (sellingPerks) {\n      onQuicksellClick(async () => {\n        await activatePerkSet(sellingPerks);\n        sendNotification(getNotification(PerkActivity.SELLING));\n        setTimeout(async () => {\n          await activatePerkSet(defaultPerks);\n          removeNotification(NotificationId.PERKS);\n        }, 1000);\n        return true;\n      });\n    }\n\n    const friendshipPerks = await getActivityPerksSet(PerkActivity.FRIENDSHIP);\n    if (\n      friendshipPerks &&\n      (page === Page.FRIENDSHIP || page === Page.MAILBOX)\n    ) {\n      await activatePerkSet(friendshipPerks);\n      sendNotification(getNotification(PerkActivity.FRIENDSHIP));\n      return;\n    }\n\n    if (friendshipPerks) {\n      const quickgiveButton =\n        getCurrentPage()?.querySelector<HTMLButtonElement>(\".quickgivebtn\");\n      if (quickgiveButton && !quickgiveButton.style.display) {\n        quickgiveButton.style.display = \"none\";\n        const proxyButton = document.createElement(\"button\");\n        proxyButton.classList.add(\"button\");\n        proxyButton.classList.add(\"btngreen\");\n        proxyButton.style.height = \"28px;\";\n        proxyButton.textContent = \"GIVE\";\n        proxyButton.addEventListener(\"click\", async () => {\n          await activatePerkSet(friendshipPerks);\n          sendNotification(getNotification(PerkActivity.FRIENDSHIP));\n          quickgiveButton.click();\n          await activatePerkSet(defaultPerks);\n          removeNotification(NotificationId.PERKS);\n        });\n        quickgiveButton.parentElement?.insertBefore(\n          proxyButton,\n          quickgiveButton\n        );\n      }\n    }\n\n    const templePerks = await getActivityPerksSet(PerkActivity.TEMPLE);\n    if (templePerks && page === Page.TEMPLE) {\n      await activatePerkSet(templePerks);\n      sendNotification(getNotification(PerkActivity.TEMPLE));\n      return;\n    }\n\n    const locksmithPerks = await getActivityPerksSet(PerkActivity.LOCKSMITH);\n    if (locksmithPerks && page === Page.LOCKSMITH) {\n      await activatePerkSet(locksmithPerks);\n      sendNotification(getNotification(PerkActivity.LOCKSMITH));\n      return;\n    }\n\n    const wheelPerks = await getActivityPerksSet(PerkActivity.WHEEL);\n    if (wheelPerks && page === Page.WHEEL) {\n      await activatePerkSet(wheelPerks);\n      sendNotification(getNotification(PerkActivity.WHEEL));\n      return;\n    }\n\n    activatePerkSet(defaultPerks);\n    removeNotification(NotificationId.PERKS);\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { Page } from \"~/utils/page\";\n\nexport const SETTING_QUEST_COLLAPSE: FeatureSetting = {\n  id: \"questCollapse\",\n  title: \"Quest: Global collapse status\",\n  description:\n    \"Remember the quest details collapse status globally instead of per-quest\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const questCollapse: Feature = {\n  settings: [SETTING_QUEST_COLLAPSE],\n  onPageLoad: (settings, page) => {\n    // make sure setting is enabled\n    if (!settings[SETTING_QUEST_COLLAPSE.id].value) {\n      return;\n    }\n\n    // make sure we're on a quest page\n    if (page !== Page.QUEST) {\n      return;\n    }\n\n    // find accordion item\n    const accordion = document.querySelector(\".accordion-helprequest\");\n    if (!accordion) {\n      console.error(\"Item header not found\");\n      return;\n    }\n\n    const isCollapsed = !accordion.classList.contains(\n      \"accordion-item-expanded\"\n    );\n    const link = accordion.querySelector(\"a\");\n    if (!link) {\n      return;\n    }\n    link.addEventListener(\"click\", () => {\n      setTimeout(() => {\n        localStorage.questCollapse = !accordion.classList.contains(\n          \"accordion-item-expanded\"\n        );\n      }, 500);\n    });\n    if (isCollapsed && localStorage.questCollapse === \"false\") {\n      accordion.classList.add(\"accordion-item-expanded\");\n    }\n    if (!isCollapsed && localStorage.questCollapse === \"true\") {\n      accordion.classList.remove(\"accordion-item-expanded\");\n    }\n  },\n};\n","import { BORDER_GRAY } from \"~/utils/theme\";\nimport { Feature } from \"./feature\";\n\nexport const quests: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        /* make room for minimize button */\n        #statszone > div {\n          padding-right: 15px !important;\n        }\n        /* make line prettier */\n        #statszone hr {\n          height: 1px;\n          background-color: ${BORDER_GRAY};\n          border: none;\n        }\n      <style>\n    `\n    );\n  },\n  onQuestLoad: () => {\n    const popup = document.querySelector<HTMLDivElement>(\".aqp\");\n    if (!popup) {\n      return;\n    }\n    popup.dataset.isMinimized = popup.dataset.isMinimized ?? \"false\";\n\n    // skip adding close button if it already exists\n    if (popup.querySelector(\".fh-minimize\")) {\n      return;\n    }\n\n    const minimizeButton = document.createElement(\"i\");\n    minimizeButton.classList.add(\"fh-minimize\");\n    minimizeButton.classList.add(\"fa\");\n    minimizeButton.classList.add(\"fw\");\n    minimizeButton.classList.add(\"fa-chevron-down\");\n    minimizeButton.style.position = \"absolute\";\n    minimizeButton.style.top = \"10px\";\n    minimizeButton.style.right = \"10px\";\n    minimizeButton.style.cursor = \"pointer\";\n    minimizeButton.addEventListener(\"click\", () => {\n      if (popup.dataset.isMinimized === \"true\") {\n        minimizeButton.classList.remove(\"fa-chevron-up\");\n        minimizeButton.classList.add(\"fa-chevron-down\");\n        popup.style.top = \"auto\";\n        popup.dataset.isMinimized = \"false\";\n      } else {\n        minimizeButton.classList.remove(\"fa-chevron-down\");\n        minimizeButton.classList.add(\"fa-chevron-up\");\n        popup.style.top = \"70px\";\n        popup.dataset.isMinimized = \"true\";\n      }\n    });\n\n    popup.append(minimizeButton);\n  },\n};\n","import { Feature, FeatureSetting } from \"./feature\";\nimport { getCurrentPage, Page } from \"~/utils/page\";\n\nexport const SETTING_QUICKSELL_SAFELY: FeatureSetting = {\n  id: \"quicksellSafely\",\n  title: \"Item: Safe Quick Sell\",\n  description:\n    \"If item is locked, also lock the Quick Sell and Quick Give buttons\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport type QuicksellCallback = (event: MouseEvent) => Promise<boolean>;\n\nconst state: { onQuicksellClick: QuicksellCallback[] } = {\n  onQuicksellClick: [],\n};\n\nexport const onQuicksellClick = (callback: QuicksellCallback): void => {\n  state.onQuicksellClick.push(callback);\n};\n\nexport const quicksellSafely: Feature = {\n  settings: [SETTING_QUICKSELL_SAFELY],\n  onPageLoad: (settings, page) => {\n    // make sure we're on the right page\n    if (page !== Page.ITEM) {\n      return;\n    }\n\n    const isSafetyOn = settings[SETTING_QUICKSELL_SAFELY.id].value;\n    const lockButton =\n      getCurrentPage()?.querySelector<HTMLButtonElement>(\".lockbtn\");\n    const unlockButton =\n      getCurrentPage()?.querySelector<HTMLButtonElement>(\".unlockbtn\");\n    const isLocked = unlockButton && !lockButton;\n\n    const quicksellButton = getCurrentPage()?.querySelector<HTMLButtonElement>(\n      \".quicksellbtn, .quicksellbtnnc\"\n    );\n    if (quicksellButton && !quicksellButton.style.display) {\n      quicksellButton.style.display = \"none\";\n      const proxyButton = document.createElement(\"button\");\n      proxyButton.classList.add(\"button\");\n      proxyButton.classList.add(isSafetyOn && isLocked ? \"btnred\" : \"btngreen\");\n      proxyButton.style.height = \"28px;\";\n      if (!isSafetyOn || !isLocked) {\n        proxyButton.textContent = \"SELL\";\n      }\n      if (isSafetyOn && isLocked) {\n        const lock = document.createElement(\"i\");\n        lock.classList.add(\"f7-icons\");\n        lock.style.fontSize = \"17px\";\n        lock.textContent = \"unlock_fill\";\n        proxyButton.append(lock);\n      }\n      proxyButton.addEventListener(\"click\", async (event) => {\n        if (isSafetyOn && isLocked) {\n          unlockButton.click();\n          return;\n        }\n        for (const callback of state.onQuicksellClick) {\n          if (!(await callback(event))) {\n            return;\n          }\n        }\n        quicksellButton.click();\n      });\n      quicksellButton.parentElement?.insertBefore(proxyButton, quicksellButton);\n    }\n    const quickgiveButton =\n      getCurrentPage()?.querySelector<HTMLButtonElement>(\".quickgivebtn\");\n    if (quickgiveButton && !quickgiveButton.style.display) {\n      quickgiveButton.style.display = \"none\";\n      const proxyButton = document.createElement(\"button\");\n      proxyButton.classList.add(\"button\");\n      proxyButton.classList.add(isSafetyOn && isLocked ? \"btnred\" : \"btngreen\");\n      proxyButton.style.height = \"28px;\";\n      if (!isSafetyOn || !isLocked) {\n        proxyButton.textContent = \"GIVE\";\n      }\n      if (isSafetyOn && isLocked) {\n        const lock = document.createElement(\"i\");\n        lock.classList.add(\"f7-icons\");\n        lock.style.fontSize = \"17px\";\n        lock.textContent = \"unlock_fill\";\n        proxyButton.append(lock);\n      }\n      proxyButton.addEventListener(\"click\", async (event) => {\n        if (isSafetyOn && isLocked) {\n          unlockButton.click();\n          return;\n        }\n        for (const callback of state.onQuicksellClick) {\n          if (!(await callback(event))) {\n            return;\n          }\n        }\n        quickgiveButton.click();\n      });\n      quickgiveButton.parentElement?.insertBefore(proxyButton, quickgiveButton);\n    }\n  },\n};\n","import {\n  applyGuess,\n  Code,\n  Digit,\n  generateDigitInfo,\n  generateGuess,\n  Hint,\n  Hints,\n  Position,\n} from \"~/utils/vault\";\nimport { Feature, FeatureSetting } from \"./feature\";\nimport { Page } from \"~/utils/page\";\n\nconst SETTING_VAULT_SOLVER: FeatureSetting = {\n  id: \"vaultSolver\",\n  title: \"Vault: Auto Solver\",\n  description: \"Auto-fill solution suggestions in the vault input box\",\n  type: \"boolean\",\n  defaultValue: true,\n};\n\nexport const vaultSolver: Feature = {\n  settings: [SETTING_VAULT_SOLVER],\n  onPageLoad: (settings, page) => {\n    if (page !== Page.VAULT) {\n      return;\n    }\n\n    if (!settings[SETTING_VAULT_SOLVER.id].value) {\n      return;\n    }\n\n    const input = document.querySelector<HTMLInputElement>(\"#vaultcode\");\n    if (!input) {\n      console.error(\"Input not found\");\n      return;\n    }\n    let info = generateDigitInfo();\n    const guessElements = document.querySelectorAll(\"[data-page='crack'] .row\");\n    const guesses: Code[] = [];\n    for (const [, guessElement] of guessElements.entries()) {\n      const digitElements =\n        guessElement.querySelectorAll<HTMLDivElement>(\".col-25\");\n      if (digitElements.length > 0) {\n        const guess: Code = [0, 0, 0, 0];\n        const hints: Hints = [Hint.NONE, Hint.NONE, Hint.NONE, Hint.NONE];\n        for (const [position, digitElement] of digitElements.entries()) {\n          guess[position as Position] = Number(\n            digitElement.textContent?.slice(-1)\n          ) as Digit;\n          hints[position as Position] =\n            // eslint-disable-next-line no-nested-ternary\n            digitElement.dataset.type === \"B\"\n              ? Hint.CORRECT\n              : digitElement.dataset.type === \"Y\"\n              ? Hint.CLOSE\n              : Hint.NONE;\n        }\n        guesses.push(guess);\n        info = applyGuess(info, guess, hints);\n      }\n    }\n    input.value = generateGuess(info, guesses.length).join(\"\");\n  },\n};\n","import { corsFetch } from \"~/api/utils\";\nimport { Feature } from \"~/features/feature\";\nimport {\n  Handler,\n  NotificationId,\n  registerNotificationHandler,\n  removeNotification,\n  sendNotification,\n} from \"~/utils/notifications\";\nimport { latestVersionState, SCRIPT_URL } from \"~/api/greasyfork/api\";\nimport { showPopup } from \"~/utils/popup\";\n\n// created by DefinePlugin in webpack\ndeclare const __VERSION__: string | undefined;\n\nconst isVersion = (version: string): boolean => version.split(\".\").length === 3;\n\nconst normalizeVersion = (version: string): string => version.split(\"-\")[0];\n\nconst isVersionHigher = (test: string, current: string): boolean => {\n  const testParts = test.split(\".\");\n  const currentParts = current.split(\".\");\n  for (const [index, testPart] of testParts.entries()) {\n    if (Number.parseInt(currentParts[index]) < Number.parseInt(testPart)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst currentVersion = normalizeVersion(__VERSION__ ?? \"1.0.0\");\n\nconst README_URL =\n  \"https://github.com/anstosa/farmrpg-farmhand/blob/main/README.md\";\n\nregisterNotificationHandler(Handler.CHANGES, async () => {\n  const response = await corsFetch(README_URL);\n  const htmlString = await response.text();\n  const document = new DOMParser().parseFromString(htmlString, \"text/html\");\n  const body = document.querySelector(\".markdown-body\");\n  if (!body) {\n    console.error(\"Failed to get README body\");\n    return;\n  }\n  let contentHTML = \"\";\n  for (const child of body.children) {\n    if (child.classList.contains(\"markdown-heading\")) {\n      const version = normalizeVersion(child.textContent ?? \"1.0.0\");\n      if (isVersion(version) && isVersionHigher(version, currentVersion)) {\n        contentHTML += `\n          <h2>${version}</h2>\n          <ul>${child.nextElementSibling?.innerHTML}</ul>\n        `;\n      }\n    }\n  }\n  showPopup({ title: \"Farmhand Changelog\", contentHTML, align: \"left\" });\n});\n\nregisterNotificationHandler(Handler.UPDATE, () => window.open(SCRIPT_URL));\n\nexport const versionManager: Feature = {\n  onInitialize: async () => {\n    const latestVersion = await latestVersionState.get();\n    if (!latestVersion) {\n      console.error(\"Failed to get latest version\");\n      return;\n    }\n    if (isVersionHigher(latestVersion, currentVersion)) {\n      sendNotification({\n        class: \"btnblue\",\n        id: NotificationId.UPDATE,\n        text: `Farmhand update available: ${currentVersion} → ${latestVersion}`,\n        actions: [\n          {\n            text: \"View Changes\",\n            handler: Handler.CHANGES,\n          },\n          {\n            text: \"Update\",\n            handler: Handler.CHANGES,\n          },\n        ],\n      });\n    } else {\n      removeNotification(NotificationId.UPDATE);\n    }\n  },\n};\n","import { autocomplete } from \"./utils/autocomplete\";\nimport { autocompleteItems } from \"./features/autocompleteItems\";\nimport { autocompleteUsers } from \"./features/autocompleteUsers\";\nimport { banker } from \"./features/banker\";\nimport { buddyFarm } from \"~/features/buddyfarm\";\nimport { chatNav } from \"./features/chatNav\";\nimport { cleanupExplore } from \"./features/cleanupExplore\";\nimport { cleanupHome } from \"./features/cleanupHome\";\nimport { collapseItemImage } from \"./features/collapseItemImage\";\nimport { compactSilver } from \"./features/compactSilver\";\nimport { compressChat } from \"./features/compressChat\";\nimport { confirmations } from \"./utils/confirmation\";\nimport { customNavigation } from \"./features/customNavigation\";\nimport { dismissableChatBanners } from \"./features/dismissableChatBanners\";\nimport { farmhandSettings, getSettings } from \"./features/farmhandSettings\";\nimport { fieldNotifications } from \"./features/harvestNotifications\";\nimport { fishinInBarrel } from \"./features/fishInBarrel\";\nimport { fleaMarket } from \"./features/fleaMarket\";\nimport { getPage } from \"~/utils/page\";\nimport { highlightSelfInChat } from \"./features/highlightSelfInChat\";\nimport { kitchenNotifications } from \"./features/kitchenNotifications\";\nimport { linkifyQuickCraft } from \"./features/linkifyQuickCraft\";\nimport { maxContainers } from \"./features/maxContainers\";\nimport { maxCows } from \"./features/maxCows\";\nimport { maxPigs } from \"./features/maxPigs\";\nimport { mealNotifications } from \"./features/mealNotifications\";\nimport { moveUpdateToTop } from \"./features/moveUpdateToTop\";\nimport { navigationStyle } from \"./features/compressNavigation\";\nimport { notifications } from \"./utils/notifications\";\nimport { perkManagment } from \"./features/perkManagement\";\nimport { popups } from \"./utils/popup\";\nimport { questCollapse } from \"./features/questCollapse\";\nimport { quests } from \"./features/quests\";\nimport { quicksellSafely } from \"./features/quickSellSafely\";\nimport { vaultSolver } from \"./features/vaultSolver\";\nimport { versionManager } from \"./features/versionManager\";\nimport { watchQueries } from \"./api/state\";\n\nexport const FEATURES = [\n  // internal\n  notifications,\n  confirmations,\n  popups,\n  autocomplete,\n  versionManager,\n\n  // home\n  cleanupHome,\n  moveUpdateToTop,\n\n  // kitchen\n  kitchenNotifications,\n  mealNotifications,\n\n  // farm,\n  fieldNotifications,\n  maxPigs,\n  maxCows,\n\n  // flea market\n  fleaMarket,\n\n  // items\n  buddyFarm,\n  collapseItemImage,\n  quicksellSafely,\n  linkifyQuickCraft,\n\n  // quests\n  quests,\n  questCollapse,\n  compactSilver,\n\n  // bank\n  banker,\n\n  // vault\n  vaultSolver,\n\n  // locksmith\n  maxContainers,\n\n  // fishing\n  fishinInBarrel,\n\n  // explore\n  perkManagment,\n  cleanupExplore,\n\n  // chat\n  chatNav,\n  compressChat,\n  dismissableChatBanners,\n  highlightSelfInChat,\n  autocompleteItems,\n  autocompleteUsers,\n\n  // nav\n  navigationStyle,\n  customNavigation,\n\n  // settings\n  farmhandSettings,\n];\n\nconst watchSubtree = (\n  selector: string,\n  handler: \"onPageLoad\" | \"onChatLoad\" | \"onMenuLoad\" | \"onQuestLoad\",\n  filter?: string\n): void => {\n  const target = document.querySelector(selector);\n  if (!target) {\n    console.error(`${selector} not found`);\n    return;\n  }\n  const handle = async (): Promise<void> => {\n    const settings = await getSettings(FEATURES);\n    const [page, parameters] = getPage();\n    // console.debug(`${selector} Load`, page, parameters);\n    for (const feature of FEATURES) {\n      feature[handler]?.(settings, page, parameters);\n    }\n  };\n\n  const observer = new MutationObserver((mutations) => {\n    for (const mutation of mutations) {\n      // only respond to tree changes\n      if (mutation.type !== \"childList\") {\n        continue;\n      }\n      if (mutation.addedNodes.length === 0) {\n        continue;\n      }\n      if (filter) {\n        for (const node of mutation.addedNodes) {\n          if ((node as HTMLElement).matches?.(filter)) {\n            handle();\n          }\n        }\n      } else {\n        handle();\n      }\n    }\n  });\n  observer.observe(target, { childList: true, subtree: true });\n  handle();\n};\n\n// eslint-disable-next-line unicorn/prefer-top-level-await\n(async function () {\n  // eslint-disable-next-line unicorn/prefer-module\n  \"use strict\";\n  console.info(\"STARTING Farmhand by Ansel Santosa\");\n\n  // initialize\n  const settings = await getSettings(FEATURES);\n  for (const { onInitialize } of FEATURES) {\n    if (onInitialize) {\n      onInitialize(settings);\n    }\n  }\n\n  await watchQueries(settings);\n\n  // double watches because the page and nav load at different times but\n  // separating the handlers makes everything harder\n  watchSubtree(\".view-main .pages\", \"onPageLoad\", \".page\");\n  watchSubtree(\".view-main .navbar\", \"onPageLoad\", \".navbar-inner\");\n  // watch quest popup\n  watchSubtree(\".view-main .toolbar\", \"onQuestLoad\");\n  // watch menu\n  watchSubtree(\".view-left\", \"onMenuLoad\");\n  // watch desktop and mobile versions of chat\n  watchSubtree(\"#mobilechatpanel\", \"onChatLoad\");\n  watchSubtree(\"#desktopchatpanel\", \"onChatLoad\");\n})();\n","export const getRandom = <T>(array: T[]): T =>\n  array[Math.floor(Math.random() * array.length)];\n","import { BACKGROUND_DARK, BUTTON_BLUE_BACKGROUND } from \"./theme\";\nimport { BasicEntity } from \"../api/buddyfarm/state\";\nimport { Feature } from \"~/features/feature\";\n\ninterface AutocompleteConfig {\n  trigger: RegExp;\n  getItems: () => Promise<BasicEntity[]>;\n  prefix: string;\n  suffix: string;\n  bail?: (text: string) => boolean;\n}\n\nconst state: {\n  currentIndex: number;\n  autocompletes: AutocompleteConfig[];\n  activeAutocomplete?: AutocompleteConfig;\n} = {\n  currentIndex: 0,\n  autocompletes: [],\n};\n\ninterface ProcessedInput {\n  text: string;\n  search?: string;\n  match?: RegExpMatchArray;\n  items?: BasicEntity[];\n  filteredItems?: BasicEntity[];\n}\n\nconst processInput = async (\n  input: HTMLInputElement\n): Promise<ProcessedInput> => {\n  let activeAutocomplete: AutocompleteConfig | undefined;\n  const text = input.value;\n  const processedInput: ProcessedInput = { text };\n  for (const autocomplete of state.autocompletes) {\n    // \"@anstosa: LF ((or\"\n    if (autocomplete?.bail?.(text)) {\n      continue;\n    }\n    // \"@anstosa: LF ((or\"\n    const match = text.match(autocomplete.trigger);\n    // \"or\"\n    if (!match || match.length < 2) {\n      continue;\n    }\n    const search = match[1];\n    const items = await autocomplete.getItems();\n    const filteredItems = items.filter(({ name }) =>\n      name.toLowerCase().includes(search.toLowerCase() ?? \"\")\n    );\n    activeAutocomplete = autocomplete;\n    processedInput.search = search;\n    processedInput.match = match;\n    processedInput.items = items;\n    processedInput.filteredItems = filteredItems;\n  }\n  state.activeAutocomplete = activeAutocomplete;\n  return processedInput;\n};\n\nconst applyInput = async (\n  input: HTMLInputElement,\n  item: BasicEntity\n): Promise<void> => {\n  const { filteredItems, search, match, text } = await processInput(input);\n  if (!state.activeAutocomplete) {\n    return;\n  }\n  const { prefix, suffix } = state.activeAutocomplete;\n  if (!search || !match || !filteredItems) {\n    return;\n  }\n  // eslint-disable-next-line require-atomic-updates\n  input.value = [\n    text.slice(0, match.index),\n    prefix,\n    item.name,\n    suffix,\n    text.slice((match.index ?? 0) + match[0].length),\n  ].join(\"\");\n  closeAutocomplete();\n};\n\nconst autocompleteSearchControlHandler = async (\n  event: KeyboardEvent\n): Promise<void> => {\n  if (!event.target) {\n    return;\n  }\n  if (!state.activeAutocomplete) {\n    return;\n  }\n  if (![\"Enter\", \"ArrowDown\", \"ArrowUp\", \"Escape\"].includes(event.key)) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const input = event.target as HTMLInputElement;\n  const { filteredItems, search, match } = await processInput(input);\n  if (!search || !match || !filteredItems) {\n    closeAutocomplete();\n    return;\n  }\n  // eslint-disable-next-line unicorn/prefer-switch\n  if (event.key === \"Enter\") {\n    closeAutocomplete();\n    await applyInput(input, filteredItems[state.currentIndex]);\n  } else if (event.key === \"ArrowDown\") {\n    state.currentIndex = Math.min(\n      state.currentIndex + 1,\n      filteredItems.length - 1\n    );\n    renderAutocomplete(input, filteredItems);\n  } else if (event.key === \"ArrowUp\") {\n    state.currentIndex = Math.max(state.currentIndex - 1, 0);\n    renderAutocomplete(input, filteredItems);\n  } else if (event.key === \"Escape\") {\n    closeAutocomplete();\n  }\n};\n\nconst autocompleteSearchItemHandler = async (\n  event: KeyboardEvent\n): Promise<void> => {\n  if (!event.target) {\n    return;\n  }\n  const input = event.target as HTMLInputElement;\n  const { filteredItems, match } = await processInput(input);\n  if (!match || !filteredItems) {\n    closeAutocomplete();\n    return;\n  }\n  renderAutocomplete(input, filteredItems);\n};\n\nconst closeAutocomplete = (): void => {\n  document.querySelector(\".fh-autocomplete\")?.remove();\n};\n\nconst renderAutocomplete = (\n  input: HTMLInputElement,\n  items: BasicEntity[]\n): void => {\n  closeAutocomplete();\n  const offset = input.getBoundingClientRect();\n  const wrapper = document.createElement(\"div\");\n  wrapper.classList.add(\"fh-autocomplete\");\n  wrapper.style.position = \"fixed\";\n  wrapper.style.top = `${offset.top + offset.height}px`;\n  wrapper.style.left = `${offset.left}px`;\n  wrapper.style.width = `${offset.width}px`;\n  wrapper.style.maxHeight = `${\n    window.innerHeight - offset.top - offset.height\n  }px`;\n  wrapper.style.zIndex = \"99999\";\n  wrapper.innerHTML = `\n    ${items\n      .map(\n        ({ name, image }, index) => `\n          <div\n            class=\"fh-autocomplete-item\"\n            data-index=\"${index}\"\n            style=\"\n              display: flex;\n              align-items: center;\n              color: white;\n              gap: 5px;\n              width: 100%;\n              cursor: pointer;\n              padding: 8px;\n              background-color: ${\n                index === state.currentIndex\n                  ? BUTTON_BLUE_BACKGROUND\n                  : BACKGROUND_DARK\n              };\n            \"\n          >\n            <img\n              src=\"${image}\"\n              style=\"\n                width: 25px;\n                height: 25px;\n              \">\n            ${name}\n          </div>\n        `\n      )\n      .join(\"\")}\n  `;\n  for (const item of wrapper.querySelectorAll<HTMLElement>(\n    \".fh-autocomplete-item\"\n  )) {\n    wrapper.addEventListener(\"click\", async () => {\n      closeAutocomplete();\n      await applyInput(input, items[Number(item.dataset.index)]);\n    });\n  }\n  document.body.append(wrapper);\n};\n\nexport const registerAutocomplete = (\n  autocomplete: AutocompleteConfig\n): void => {\n  state.autocompletes.push(autocomplete);\n};\n\nexport const registerInputListeners = (input: HTMLInputElement): void => {\n  input.addEventListener(\"keypress\", autocompleteSearchItemHandler);\n  input.addEventListener(\"keydown\", autocompleteSearchControlHandler);\n};\n\nexport const autocomplete: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n      <style>\n        .fh-autocomplete-item:hover {\n          background-color: ${BUTTON_BLUE_BACKGROUND};\n        }\n      <style>\n    `\n    );\n  },\n  onChatLoad: () => {\n    for (const input of document.querySelectorAll<HTMLInputElement>(`\n      #mobilechatpanel input[type=\"text\"],\n      #desktopchatpanel input[type='text']\n    `)) {\n      registerInputListeners(input);\n    }\n  },\n};\n","import { Feature } from \"~/features/feature\";\n\nexport const showConfirmation = (\n  message: string,\n  onYes: () => void,\n  onNo?: () => void\n): void => {\n  const overlay = document.createElement(\"div\");\n  overlay.classList.add(\"modal-overlay\");\n  overlay.classList.add(\"modal-overlay-visible\");\n  document.body.append(overlay);\n\n  const modal = document.createElement(\"div\");\n  modal.classList.add(\"actions-modal\");\n  modal.classList.add(\"modal-in\");\n  modal.innerHTML = `\n      <div class=\"actions-modal-group\">\n        <div class=\"actions-modal-label\">${message}</div>\n        <div class=\"actions-modal-button\">Yes</div>\n        <div class=\"actions-modal-button color-red\">Cancel</div>\n      </div>\n    `;\n  const buttons = modal.querySelectorAll(\".actions-modal-button\");\n  const yesButton = buttons[0];\n  yesButton.addEventListener(\"click\", () => {\n    overlay?.classList.remove(\"modal-overlay-visible\");\n    modal.remove();\n    onYes();\n  });\n  const noButton = buttons[1];\n  noButton.addEventListener(\"click\", () => {\n    overlay?.classList.remove(\"modal-overlay-visible\");\n    modal.remove();\n    onNo?.();\n  });\n  document.body.append(modal);\n};\n\nexport const confirmations: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* fix confirmation position */\n          .actions-modal-group {\n            margin-bottom: 0 !important;\n          }\n        <style>\n      `\n    );\n  },\n};\n","import { Feature } from \"../features/feature\";\nimport { getCurrentPage } from \"~/utils/page\";\nimport { isObject } from \"./object\";\nimport { setData } from \"../features/farmhandSettings\";\n\nconst KEY_NOTIFICATIONS = \"notifications\";\n\nexport enum NotificationId {\n  FIELD = \"field\",\n  MEAL = \"meal\",\n  OVEN = \"oven\",\n  PERKS = \"perks\",\n  UPDATE = \"update\",\n}\n\nexport enum Handler {\n  CHANGES = \"updateChanges\",\n  COLLECT_MEALS = \"collectMeals\",\n  HARVEST = \"harvest\",\n  UPDATE = \"update\",\n}\n\ninterface TextNotification<T> {\n  class?: string;\n  id: NotificationId;\n  text: string;\n  data?: T;\n  replacesHref?: string;\n  actions?: NotificationAction[];\n}\n\ninterface BaseNotificationAction {\n  text: string;\n}\n\ninterface HandlerNotificationAction extends BaseNotificationAction {\n  handler: Handler;\n}\n\ninterface LinkNotificationAction extends BaseNotificationAction {\n  href: string;\n}\n\ntype NotificationAction = HandlerNotificationAction | LinkNotificationAction;\n\nconst isHandlerNotificationAction = (\n  action: NotificationAction\n): action is HandlerNotificationAction => \"handler\" in action;\n\ninterface LinkNotification<T> extends TextNotification<T> {\n  href: string;\n}\n\ninterface HandlerNotification<T> extends TextNotification<T> {\n  handler: Handler;\n}\n\nexport type Notification<T> =\n  | LinkNotification<T>\n  | HandlerNotification<T>\n  | TextNotification<T>;\n\nconst isHandlerNotification = <T>(\n  notification: Notification<T>\n): notification is HandlerNotification<T> => \"handler\" in notification;\n\nconst isLinkNotification = <T>(\n  notification: Notification<T>\n): notification is LinkNotification<T> => \"href\" in notification;\n\nconst isTextNotification = <T>(\n  notification: Notification<T>\n): notification is TextNotification<T> =>\n  !isHandlerNotification(notification) && !isLinkNotification(notification);\n\ntype NotificationHandler = (notification: Notification<any>) => void;\n\nconst state: { notifications: Notification<any>[] } = {\n  notifications: [],\n};\n\nconst notificationHandlers = new Map<Handler, NotificationHandler>();\n\nexport const registerNotificationHandler = (\n  handlerName: Handler,\n  handler: (notification: Notification<any>) => void\n): void => {\n  notificationHandlers.set(handlerName, handler);\n};\n\nexport const sendNotification = async <T>(\n  notification: Notification<T>\n): Promise<void> => {\n  state.notifications = [\n    ...state.notifications.filter(({ id }) => id !== notification.id),\n    notification,\n  ];\n  await setData(KEY_NOTIFICATIONS, state.notifications);\n  renderNotifications(true);\n};\n\nexport const removeNotification = async (\n  notification: Notification<any> | Notification<any>[\"id\"]\n): Promise<void> => {\n  const notificationId = isObject(notification)\n    ? notification.id\n    : notification;\n  state.notifications = state.notifications.filter(\n    ({ id }) => id !== notificationId\n  );\n  await setData(KEY_NOTIFICATIONS, state.notifications);\n  renderNotifications();\n};\n\nconst renderNotifications = (force: boolean = false): void => {\n  const pageContent = getCurrentPage()?.querySelector(\".page-content\");\n  if (!pageContent) {\n    console.error(\"Page content not found\");\n    return;\n  }\n\n  // remove existing notifications\n  const notifications = pageContent.querySelectorAll(\".fh-notification\");\n  if (!force && notifications.length === state.notifications.length) {\n    return;\n  }\n  for (const notification of notifications) {\n    notification.remove();\n  }\n\n  // add new notifications\n  for (const notification of state.notifications.toSorted(\n    (a, b) => a.id.localeCompare(b.id) || 0\n  )) {\n    if (notification.replacesHref) {\n      getCurrentPage()\n        ?.querySelector<HTMLAnchorElement>(\n          `a[href=\"${notification.replacesHref}\"]`\n        )\n        ?.remove();\n    }\n    const notificationElement = document.createElement(\n      isTextNotification(notification) ? \"span\" : \"a\"\n    );\n    notificationElement.classList.add(\"button\");\n    notificationElement.classList.add(\"fh-notification\");\n    notificationElement.style.cursor = isTextNotification(notification)\n      ? \"default\"\n      : \"pointer\";\n    if (notification.class) {\n      notificationElement.classList.add(notification.class);\n    }\n    notificationElement.textContent = notification.text;\n    if (isHandlerNotification(notification)) {\n      notificationElement.addEventListener(\"click\", async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        const handler = notificationHandlers.get(notification.handler);\n        if (handler) {\n          await handler(notification);\n        } else {\n          console.error(`Handler not found: ${notification.handler}`);\n        }\n        removeNotification(notification);\n        renderNotifications();\n      });\n    } else if (isLinkNotification(notification)) {\n      notificationElement.setAttribute(\"href\", notification.href);\n    }\n\n    for (const action of notification.actions ?? []) {\n      notificationElement.append(\n        document.createTextNode(\n          notification.actions?.indexOf(action) === 0 ? \" \" : \" / \"\n        )\n      );\n      const actionElement = document.createElement(\"a\");\n      actionElement.classList.add(\"fh-notification-action\");\n      actionElement.style.cursor = \"pointer\";\n      actionElement.textContent = action.text;\n\n      if (isHandlerNotificationAction(action)) {\n        actionElement.addEventListener(\"click\", async (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n          const handler = notificationHandlers.get(action.handler);\n          if (handler) {\n            await handler(notification);\n          } else {\n            console.error(`Handler not found: ${action.handler}`);\n          }\n          renderNotifications();\n        });\n      } else {\n        actionElement.href = action.href;\n      }\n      notificationElement.append(actionElement);\n    }\n\n    if (\n      pageContent.firstElementChild?.classList.contains(\"pull-to-refresh-layer\")\n    ) {\n      pageContent.insertBefore(notificationElement, pageContent.children[1]);\n    } else {\n      pageContent.prepend(notificationElement);\n    }\n  }\n};\n\nexport const notifications: Feature = {\n  onInitialize: async () => {\n    // const savedNotifications = await getData<Notification<any>[]>(\n    //   KEY_NOTIFICATIONS,\n    //   []\n    // );\n    // state.notifications = savedNotifications;\n  },\n  onPageLoad: () => {\n    setTimeout(renderNotifications, 500);\n  },\n};\n","export const isObject = (value: unknown): value is object =>\n  typeof value === \"object\" && !Array.isArray(value) && value !== null;\n","export enum Page {\n  AREA = \"area\",\n  BANK = \"bank\",\n  FARM = \"xfarm\",\n  FARMERS_MARKET = \"market\",\n  FISHING = \"fishing\",\n  FRIENDSHIP = \"npclevels\",\n  HOME_PAGE = \"index-1\", // not a typo\n  HOME_PATH = \"index\",\n  ITEM = \"item\",\n  KITCHEN = \"kitchen\",\n  LOCKSMITH = \"locksmith\",\n  MAILBOX = \"mailbox\",\n  PASTURE = \"pasture\",\n  PERKS = \"perks\",\n  PIG_PEN = \"pigpen\",\n  POST_OFFICE = \"postoffice\",\n  QUEST = \"quest\",\n  SETTINGS = \"settings\",\n  SETTINGS_OPTIONS = \"settings_options\",\n  TEMPLE = \"mailitems\", // not a typo\n  VAULT = \"crack\",\n  WHEEL = \"spin\",\n  WORKER = \"worker\",\n  WORKSHOP = \"workshop\",\n}\n\nexport enum WorkerGo {\n  ACTIVATE_PERK_SET = \"activateperkset\",\n  COLLECT_ALL_MAIL_ITEMS = \"collectallmailitems\",\n  COLLECT_ALL_MEALS = \"cookreadyall\",\n  COOK_ALL = \"cookitemall\",\n  DEPOSIT_SILVER = \"depositsilver\",\n  FARM_STATUS = \"farmstatus\",\n  GET_STATS = \"getstats\",\n  HARVEST_ALL = \"harvestall\",\n  PLANT_ALL = \"plantall\",\n  READY_COUNT = \"readycount\",\n  RESET_PERKS = \"resetperks\",\n  USE_ITEM = \"useitem\",\n  WITHDRAW_SILVER = \"withdrawalsilver\",\n}\n\n// get page and parameters if any\nexport const getPage = (): [Page | undefined, URLSearchParams] => {\n  const currentPage = getCurrentPage();\n  const page = currentPage?.dataset.page as Page | undefined;\n  const parameters = new URLSearchParams(window.location.hash.split(\"?\")[1]);\n  return [page, parameters];\n};\n\nexport const getPreviousPage = (): HTMLElement | null =>\n  document.querySelector(\".page-on-left\");\n\nexport const getCurrentPage = (): HTMLDivElement | null =>\n  document.querySelector(\n    \".page-on-center, .page-from-right-to-center, .view-main .page:only-child\"\n  );\n\nexport const setTitle = (title: string): void => {\n  const nav = document.querySelector(\".navbar-on-center\");\n  if (!nav) {\n    console.error(\"Navbar not found\");\n    return;\n  }\n  const text = nav?.querySelector(\"center\");\n  if (!text) {\n    console.error(\"Center text not found\");\n    return;\n  }\n  text.textContent = title;\n};\n\nexport const getTitle = (\n  searchTitle: string | RegExp,\n  root?: HTMLElement\n): HTMLElement | null => {\n  const currentPage = root ?? getCurrentPage();\n  if (!currentPage) {\n    console.error(\"Current page not found\");\n    return null;\n  }\n  const titles = currentPage.querySelectorAll(\".content-block-title\");\n  const targetTitle = [...titles].find((title) =>\n    searchTitle instanceof RegExp\n      ? searchTitle.test(title.textContent || \"\")\n      : title.textContent === searchTitle\n  );\n  return (targetTitle as HTMLElement | undefined) ?? null;\n};\n\nexport const getCardByTitle = (\n  searchTitle: string | RegExp,\n  root?: HTMLElement\n): HTMLElement | null => {\n  const targetTitle = getTitle(searchTitle, root);\n  if (!targetTitle) {\n    console.error(`${searchTitle} title not found`);\n    return null;\n  }\n  return targetTitle.nextElementSibling as HTMLElement | null;\n};\n\nexport const getListByTitle = (\n  searchTitle: string | RegExp,\n  root?: HTMLElement\n): HTMLUListElement | null => {\n  const targetCard = getCardByTitle(searchTitle, root);\n  if (!targetCard) {\n    console.error(`${searchTitle} card not found`);\n    return null;\n  }\n  return targetCard.querySelector(\"ul\");\n};\n","import { Feature } from \"~/features/feature\";\n\nexport interface Popup {\n  title: string;\n  contentHTML: string;\n  align?: \"left\" | \"center\" | \"right\";\n  okText?: string;\n  actions?: Array<{ name: string; callback: () => Promise<void> }>;\n}\n\nexport const showPopup = ({\n  title,\n  contentHTML,\n  align,\n  okText,\n  actions,\n}: Popup): Promise<void> =>\n  new Promise((resolve) => {\n    let overlay = document.querySelector(\".modal-overlay\");\n    if (!overlay) {\n      overlay = document.createElement(\"div\");\n      overlay.classList.add(\"modal-overlay\");\n      document.body.append(overlay);\n    }\n    overlay.classList.add(\"modal-overlay-visible\");\n\n    const modal = document.createElement(\"div\");\n    modal.classList.add(\"modal\");\n    modal.classList.add(\"modal-in\");\n    modal.style.display = \"block\";\n    modal.style.width = \"auto\";\n    modal.style.maxWidth = \"75vw\";\n    modal.style.maxHeight = \"75vh\";\n    modal.innerHTML = `\n      <div\n        class=\"modal-inner\"\n        style=\"\n          text-align: ${align ?? \"center\"};\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n        \"\n      >\n        <div class=\"modal-title\">${title}</div>\n        <div\n          class=\"modal-text\"\n          style=\"\n            overflow-y: auto;\n            flex: 1;\n          \"\n        >${contentHTML}</div>\n      </div>\n      <div\n        class=\"\n          modal-buttons\n          modal-buttons-vertical\n          modal-buttons-${(actions?.length ?? 0) + 1}\n        \">\n        ${\n          actions\n            ? actions\n                .map(\n                  ({ name }, index) => `\n              <span\n                class=\"modal-button modal-button-bold fh-action\"\n                data-index=\"${index}\"\n              >\n                ${name}\n              </span>`\n                )\n                .join(\"\")\n            : \"\"\n        }\n        <span class=\"modal-button fh-ok\">${okText ?? \"OK\"}</span>\n      </div>\n    `;\n    if (actions) {\n      for (const [index, { callback }] of actions.entries()) {\n        const button = modal.querySelector(`.fh-action[data-index='${index}']`);\n        button?.addEventListener(\"click\", async () => {\n          button.textContent = \"Loading...\";\n          await callback();\n          overlay?.classList.remove(\"modal-overlay-visible\");\n          modal.remove();\n          resolve();\n        });\n      }\n    }\n    const okButton = modal.querySelector(\".fh-ok\");\n    okButton?.addEventListener(\"click\", () => {\n      overlay?.classList.remove(\"modal-overlay-visible\");\n      modal.remove();\n      resolve();\n    });\n    document.body.append(modal);\n    const offset = modal.getBoundingClientRect();\n    modal.style.marginTop = `-${offset.height / 2}px`;\n    modal.style.marginLeft = `-${offset.width / 2}px`;\n  });\n\nexport const popups: Feature = {\n  onInitialize: () => {\n    document.head.insertAdjacentHTML(\n      \"beforeend\",\n      `\n        <style>\n          /* hide duplicate modal overlays */\n          .modal-overlay-visible ~ .modal-overlay-visible {\n            opacity: 0;\n          }\n        <style>\n      `\n    );\n    // click outside to close\n    document.body.addEventListener(\"click\", (event) => {\n      if ((event.target as HTMLElement).classList.contains(\"modal-overlay\")) {\n        const buttons = document.querySelectorAll<HTMLSpanElement>(\n          \".modal .modal-button\"\n        );\n        [...buttons]?.at(-1)?.click();\n      }\n    });\n  },\n};\n","// links\nexport const LINK_GREEN = \"#90EE90\";\nexport const LINK_RED = \"#ED143D\";\n\n// alerts\nexport const ALERT_YELLOW_BACKGROUND = \"#351C04\";\nexport const ALERT_YELLOW_BORDER = \"#41260D\";\n\n// text\nexport const TEXT_ERROR = \"#FF0000\";\nexport const TEXT_WARNING = \"#FFA500\";\nexport const TEXT_SUCCESS = \"#30D611\";\n\n// borders\nexport const BORDER_GRAY = \"#393939\";\n\n// buttons\nexport const BUTTON_GREEN_BACKGROUND = \"#003300\";\nexport const BUTTON_GREEN_BORDER = \"#006600\";\nexport const BUTTON_GREEN_DARK_BACKGROUND = \"#001900\";\nexport const BUTTON_GREEN_DARK_BORDER = \"#003300\";\nexport const BUTTON_ORANGE_BACKGROUND = \"#351C04\";\nexport const BUTTON_ORANGE_BORDER = \"#41260D\";\nexport const BUTTON_BLUE_BACKGROUND = \"#000040\";\nexport const BUTTON_BLUE_BORDER = \"#00007F\";\n\nexport const BACKGROUND_BLACK = \"#111111\";\nexport const BACKGROUND_DARK = \"#161718\";\n","import { getRandom } from \"./array\";\n\nexport type Digit = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9;\nexport type Code = [Digit, Digit, Digit, Digit];\nexport type Position = 0 | 1 | 2 | 3;\nexport enum Hint {\n  NONE = \"❌\",\n  CORRECT = \"✅\",\n  CLOSE = \"🟧\",\n}\nexport type Hints = [Hint, Hint, Hint, Hint];\n\nexport interface DigitInfo {\n  digit: Digit;\n  correctPositions: Position[];\n  possiblePositions: Position[];\n}\n\nexport const isCorrect = (hints: Hints): boolean =>\n  hints.every((h) => h === Hint.CORRECT);\n\nexport const generateDigitInfo = (): DigitInfo[] =>\n  ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9] as Digit[]).map((digit) => ({\n    correctPositions: [],\n    possiblePositions: [0, 1, 2, 3],\n    digit,\n  }));\n\nexport const canSolve = (info: DigitInfo[]): boolean => {\n  const correctPositions: Position[] = [];\n  for (const digitInfo of info) {\n    if (digitInfo.correctPositions.length > 0) {\n      correctPositions.push(...digitInfo.correctPositions);\n    }\n  }\n  return correctPositions.length === 4;\n};\n\nexport const hasDigit = (info: DigitInfo): boolean =>\n  info.correctPositions.length > 0 ||\n  (info.possiblePositions.length > 0 && info.possiblePositions.length < 4);\n\nexport const couldHaveDigit = (info: DigitInfo): boolean =>\n  info.correctPositions.length > 0 || info.possiblePositions.length > 0;\n\nexport const getPossibleDigits = (\n  info: DigitInfo[],\n  position: Position\n): Digit[] => {\n  const uncalledDigits: Digit[] = [];\n  const calledDigits: Digit[] = [];\n  for (const digitInfo of info) {\n    if (digitInfo.correctPositions.includes(position)) {\n      return [digitInfo.digit];\n    }\n    if (\n      couldHaveDigit(digitInfo) &&\n      digitInfo.possiblePositions.includes(position)\n    ) {\n      if (digitInfo.correctPositions.length === 0) {\n        uncalledDigits.push(digitInfo.digit);\n      } else {\n        calledDigits.push(digitInfo.digit);\n      }\n    }\n  }\n  return [...uncalledDigits, ...calledDigits];\n};\n\nexport const applyGuess = (\n  info: DigitInfo[],\n  guess: Code,\n  hints: Hints\n): DigitInfo[] => {\n  for (const [position, digit] of guess.entries()) {\n    const digitInfo = info[digit];\n    switch (hints[position]) {\n      case Hint.CORRECT: {\n        digitInfo.correctPositions.push(position as Position);\n        digitInfo.possiblePositions = digitInfo.possiblePositions.filter(\n          (p) => p !== position\n        );\n        break;\n      }\n      case Hint.CLOSE: {\n        digitInfo.possiblePositions = digitInfo.possiblePositions.filter(\n          (p) => p !== position\n        );\n        break;\n      }\n      case Hint.NONE: {\n        digitInfo.correctPositions = [];\n        digitInfo.possiblePositions = [];\n        break;\n      }\n    }\n  }\n  const confirmedDigits: Digit[] = [];\n  for (const digitInfo of info) {\n    if (confirmedDigits.length === 4) {\n      digitInfo.correctPositions = [];\n      digitInfo.possiblePositions = [];\n    } else if (hasDigit(digitInfo)) {\n      confirmedDigits.push(digitInfo.digit);\n    }\n  }\n  return info;\n};\n\nexport const generateGuess = (info: DigitInfo[], guessIndex: number): Code => {\n  if (guessIndex === 0) {\n    return [0, 1, 2, 3];\n  }\n  if (guessIndex === 1) {\n    return [4, 5, 6, 7];\n  }\n  const guess: Digit[] = guessIndex === 2 ? [8, 9] : [];\n  while (guess.length < 4) {\n    const position = guess.length as Position;\n    const possibilities = getPossibleDigits(info, position);\n    guess[position] = (() => {\n      for (const digit of possibilities) {\n        if (!guess.includes(digit)) {\n          return digit;\n        }\n      }\n      return getRandom(possibilities);\n    })();\n  }\n  return guess as Code;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6217);\n",""],"names":[],"sourceRoot":""}